/*! For license information please see app.bundle.js.LICENSE.txt */
!function(e){function t(t){for(var s,a,r=t[0],h=t[1],l=t[2],c=0,d=[];c<r.length;c++)a=r[c],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(e[s]=h[s]);for(u&&u(t);d.length;)d.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,r=1;r<i.length;r++){var h=i[r];0!==o[h]&&(s=!1)}s&&(n.splice(t--,1),e=a(a.s=i[0]))}return e}var s={},o={0:0},n=[];function a(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=s,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/asset/js/";var r=window.webpackJsonp=window.webpackJsonp||[],h=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=h;n.push([46,1]),i()}({21:function(e,t){window.isSet=e=>null!=e,Element.prototype.prependChild=function(e){this.insertBefore(e,this.firstChild)}},22:function(e,t,i){setTimeout(console.log.bind(console,"%cCreated by https://baqemono.jp","color: #fff;background-color: rgb(76, 76, 76);border:6px solid rgb(76, 76, 76);"))},23:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/_sw.js").then((e=>{})).catch((e=>{console.log("Registration failed with "+e)}))}))},46:function(e,t,i){"use strict";i.r(t);i(21);class s{constructor(){this.device={tablet:!1,mobile:!1,android:!1,iphone:!1},this.browser=null,this.init()}init(){const e=window.navigator.userAgent.toLowerCase();this.device.tablet=/ipod|ipad|macintosh/.test(e)&&"ontouchend"in document||-1!==e.indexOf("ipad")||-1!==e.indexOf("android")&&-1===e.indexOf("mobile")||-1!==e.indexOf("firefox")&&-1!==e.indexOf("tablet")||-1!==e.indexOf("kindle")||-1!==e.indexOf("silk")||-1!==e.indexOf("playbook"),this.device.mobile=-1!==e.indexOf("windows")&&-1!==e.indexOf("phone")||-1!==e.indexOf("iphone")||-1!==e.indexOf("ipod")||-1!==e.indexOf("android")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("firefox")&&-1!==e.indexOf("mobile")||-1!==e.indexOf("blackberry"),this.device.android=-1!==e.indexOf("android")&&-1!==e.indexOf("mobile"),this.device.iphone=-1!==e.indexOf("iphone")||-1!==e.indexOf("ipod"),this.browser=s.getBrowser(),this._addDevice(),this._addBrowser()}_addDevice(){let e=document.querySelector("html");this.device.tablet?e.setAttribute("class","device-tablet"):this.device.mobile?e.setAttribute("class","device-mobile"):this.device.android?e.setAttribute("class","device-android"):this.device.iphone?e.setAttribute("class","device-iphone"):e.setAttribute("class","device-others")}_addBrowser(){document.querySelector("html").classList.add(`browser-${this.browser}`)}static getBrowser(){let e=window.navigator.userAgent.toLowerCase(),t="unknown",i=null,s=null,o=window.navigator.userAgent.toLowerCase();return o.match(/(msie|MSIE)/)||o.match(/(T|t)rident/)||-1!==o.indexOf("edge")?(i=!0,o.match(/(msie|MSIE)/)||o.match(/(T|t)rident/)?(s=o.match(/((msie|MSIE)\s|rv:)([\d\.]+)/)[3],s=parseInt(s)):s="edge"):i=!1,i?t="ie"+s:-1!==e.indexOf("chrome")?t="chrome":-1!==e.indexOf("safari")?t="safari":-1!==e.indexOf("opera")?t="opera":-1!==e.indexOf("firefox")&&(t="firefox"),t}isSupported(e){let t=this.getBrowser();for(let i=0;i<e.length;i++)if(e[i]===t)return!0;return!1}androidVersion(){let e=window.navigator.userAgent.toLowerCase();return e.indexOf("android")>0?parseFloat(e.slice(e.indexOf("android")+8)):null}isMajor(){return!(-1===window.navigator.userAgent.indexOf("DoCoMo")&&-1===window.navigator.userAgent.indexOf("KDDI")&&-1===window.navigator.userAgent.indexOf("Vodafone")&&-1===window.navigator.userAgent.indexOf("SoftBank"))}iphoneVersion(){let e=window.navigator.userAgent.toLowerCase(),t=e.match(/iphone os ([\d]+)_([\d]+)_([\d]+)/);return t||(t=e.match(/iphone os ([\d]+)_([\d]+)/)),t}isAndroidBrowser(){let e=window.navigator.userAgent.toLowerCase();return/android/.test(e)&&/linux; u;/.test(e)&&!/chrome/.test(e)}viewPort(e,t){if(this[e]){document.querySelector('meta[name="viewport"]').setAttribute("content","width="+t+",user-scalable=no")}}}i(22);window.UA=new s,window.MOBILE=UA.device.mobile,window.TABLET=UA.device.tablet,window.OTHER=!MOBILE&&!TABLET,window.IE=UA.browser.match(/ie/),window.SAFARI=UA.browser.match(/safari/),window.addEventListener("keydown",(e=>{9===e.keyCode&&e.preventDefault()}));i(23);class o{constructor(){this.event={wheel:"onwheel"in document?"wheel":"mousewheel",keyDown:"keydown",keyUp:"keyup",touchMove:"ontouchmove"in document?"touchmove":"click"}}fix(e=document.querySelector("#app"),t=!1){this.appFix(e),this.setNoKeyDown(),this.setNoKeyUp(),this.setNoWheel(t)}clearFix(e=document.querySelector("#app"),t=!1){this.appClearFix(e),this.clearNoKeyDown(),this.clearNoKeyUp(),this.clearNoWheel(t)}appFix(e=document.querySelector("#app")){e&&(e.style.position="fixed",e.style.top="1px",e.style.right=0,e.style.width="100%",e.style.height="100%",e.style.marginTop="-1px",e.style.overflow="hidden")}appClearFix(e=document.querySelector("#app")){e&&(e.style.position="",e.style.top="",e.style.right="",e.style.width="",e.style.height="",e.style.marginTop="",e.style.overflow="")}setNoKeyDown(){window.addEventListener(this.event.keyDown,this._preventKey,!1)}clearNoKeyDown(){window.removeEventListener(this.event.keyDown,this._preventKey)}setNoKeyUp(){window.addEventListener(this.event.keyUp,this._preventKey,!1)}clearNoKeyUp(){window.removeEventListener(this.event.keyUp,this._preventKey)}setNoWheel(e=!1){window.addEventListener(this.event.wheel,this._preventWheel,{passive:!1}),e||window.addEventListener(this.event.touchMove,this._preventWheel,{passive:!1})}clearNoWheel(e=!1){window.removeEventListener(this.event.wheel,this._preventWheel),e||window.removeEventListener(this.event.touchMove,this._preventWheel,{passive:!1})}_preventKey(e){let t=null;e.keyCode?t=event.keyCode:e.which&&(t=event.which),38!==t&&40!==t||e.preventDefault()}_preventWheel(e){e.cancelable&&e.preventDefault()}}var n=i(0),a=i(5),r=i.n(a);n.a.registerPlugin(r.a);class h{static getCubicCurve(e,t,i,s){return r.a.create("custom",`M0,0 C${Number(e)},${Number(t)} ${Number(i)},${Number(s)} 1,1`)}static triggerEvent(e,t){if("resize"===t&&(P.resize.canOnResize=!0),document.createEvent){let i=document.createEvent("HTMLEvents");return i.initEvent(t,!0,!0),e.dispatchEvent(i)}{let i=document.createEventObject();return e.fireEvent("on"+t,i)}}static getParents(e){let t=[];for(;e&&e!==document;e=e.parentNode)t.push(e);return t}static getTargetOffset(e){return{top:h.getTargetOffsetTop(e),left:h.getTargetOffsetLeft(e)}}static getTargetOffsetTop(e){let t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop;return t.top+i}static getTargetOffsetLeft(e){if(!e)return;let t=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft;return t.left+i}static getTranslate(e){const t={};if(!window.getComputedStyle)return;const i=getComputedStyle(e),s=i.transform||i.mozTransform;let o;return s&&(o=s.match(/^matrix3d\((.+)\)$/)),o?(t.x=parseFloat(o[1].split(", ")[12]),t.y=parseFloat(o[1].split(", ")[13]),t.z=parseFloat(o[1].split(", ")[14]),t):(s&&(o=s.match(/^matrix\((.+)\)$/)),t.x=o?parseFloat(o[1].split(", ")[4]):0,t.y=o?parseFloat(o[1].split(", ")[5]):0,t.z=0,t)}static clearTween(e){e&&(e.pause(),e.kill(),e=null)}}class l{constructor(e){this.breakPoint=e||768,this.screenSize={x:document.body.clientWidth,y:window.innerHeight,xRatio:0,yRatio:0},this.screenSizeAspect={xy:0,yx:0},this.screenSizePrev={x:0,y:0},this.screenSizeFirstTime={x:0,y:0},this.handler=[],this.canResizeUpdate=!1,this.isMobileLayout=!1,this.pixelRatio=window.devicePixelRatio,this.tween1=null,this.tween2=null}init(){this.setScreenSize(),this.setScreenSizePrev(),this.setScreenSizeFirstTime(),window.addEventListener("resize",this.onResize.bind(this),!1),OTHER||l.resize()}setScreenSizeFirstTime(){this.screenSizeFirstTime.x=this.screenSize.x,this.screenSizeFirstTime.y=this.screenSize.y,this.isMobileLayout=this.breakPoint>this.screenSize.x}setScreenSize(){this.screenSize.x=document.body.clientWidth||window.innerWidth,this.screenSize.y=window.innerHeight,this.screenSize.xRatio=1/this.screenSize.x,this.screenSize.yRatio=1/this.screenSize.y,this.screenSizeAspect={xy:this.screenSize.x/this.screenSize.y,yx:this.screenSize.y/this.screenSize.x}}setScreenSizePrev(){this.screenSizePrev.x=this.screenSize.x,this.screenSizePrev.y=this.screenSize.y}checkLayoutChange(){let e;e=this.isMobileLayout?document.body.clientWidth>=this.breakPoint:document.body.clientWidth<this.breakPoint,e&&location.reload()}runHandler(){this.handler.forEach((e=>{e.task(this.screenSize)}))}onResize(){(OTHER&&window.isStartAnimating||OTHER&&window.isPageTransitionig)&&location.reload(),this.pixelRatio!==window.devicePixelRatio&&location.reload(),h.clearTween(this.tween1),this.tween1=n.a.delayedCall(.005,(()=>{this.checkLayoutChange(),this.setScreenSize(),h.clearTween(this.tween2),this.tween2=n.a.delayedCall(.001,(()=>{if(this.runHandler(),!OTHER){if(this.screenSizePrev.x===(document.body.clientWidth||window.innerWidth)&&!this.canResizeUpdate)return;this.screenSizePrev.x!==(document.body.clientWidth||window.innerWidth)&&(this.screenSizeFirstTime.y=window.innerHeight,l.resize())}this.setScreenSizePrev(),this.canResizeUpdate=!1}))}))}static resize(){const e=document.querySelectorAll(".jsH_fit-mb");e.length&&[].forEach.call(e,(e=>{const t=parseFloat(e.dataset.fixHeightRatio)||1;e.style.height=`${Math.round(P.resize.screenSizeFirstTime.y*t)}px`}))}}class u{constructor(){this.handler=[],this.ticking=!1}init(){this._onUpdate()}runHandler(){this.handler.forEach((e=>{e.task()}))}_onUpdate(){this.runHandler(),requestAnimationFrame(this._onUpdate.bind(this))}}class c{static clamp(e,t,i){return Math.min(Math.max(e,t),i)}static lerp(e,t,i){return(1-i)*e+i*t}static radToDeg(e){return e/Math.PI*180}static degToRad(e){return e*Math.PI/180}static floor(e,t){return Math.floor(e*t)/t}static round(e,t){return Math.round(e*t)/t}static ceil(e,t){return Math.ceil(e*t)/t}static getCirclePointX(e,t=1){return Math.cos(e)*t}static getCirclePointY(e,t=1){return Math.sin(e)*t}}class d{constructor(e){this.moveHandler=[],this.updateHandler=[],this.screenSize={x:0,y:0,xRatio:0,yRatio:0},this.containerSize={x:0,y:0,xRatio:0,yRatio:0},this.$container=e||window,this.easeRatio=.125,this.isClient=this.$container===window;const t=.5*window.innerWidth,i=.5*window.innerHeight;this.position={x:t,y:i,normal:{x:t,y:i},now:{x:t,y:i,normal:{x:t,y:i}},prev:{x:0,y:0,now:{x:0,y:0}}},this.mouseMoveFunc=e=>{},this.ticking=!1,this.canUpdate=!0}init(){this.setSize(),this.setEventListener()}reinit(e,t){this.setSize(e,t)}setEventListener(){this.mouseMoveFunc=this._onMouseMove.bind(this),this.$container.addEventListener("mousemove",this.mouseMoveFunc,!1)}setPosition(e,t){return this.isClient?(t.x=e.clientX,t.y=e.clientY):(t.x=e.layerX,t.y=e.layerY),t.normal.x=t.x*this.containerSize.xRatio,t.normal.y=t.y*this.containerSize.yRatio,t}setSize(e,t,i,s){this.screenSize.x=e||document.body.clientWidth,this.screenSize.y=t||window.innerHeight,this.screenSize.xRatio=i||1/this.screenSize.x,this.screenSize.yRatio=s||1/this.screenSize.y,this.$container!==window?(this.containerSize.x=this.containerSize.x=this.$container.getBoundingClientRect().width,this.containerSize.y=this.containerSize.y=this.$container.getBoundingClientRect().height,this.containerSize.xRatio=1/this.containerSize.x,this.containerSize.yRatio=1/this.containerSize.y):(this.containerSize.x=this.screenSize.x,this.containerSize.y=this.screenSize.y,this.containerSize.xRatio=this.screenSize.xRatio,this.containerSize.yRatio=this.screenSize.yRatio)}runMoveHandler(){this.moveHandler.forEach((e=>{e.task(this.position)}))}runUpdateHandler(){this.updateHandler.forEach((e=>{e.task(this.position)}))}_onMouseMove(e){this._runMouseMove(e)}_runMouseMove(e){this.ticking||(requestAnimationFrame((()=>{this.ticking=!1,this.position=this.setPosition(e,this.position),this.runMoveHandler()})),this.ticking=!0)}onResize(e,t){this.setSize(e,t)}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}reset(){this.position.now.x=.5*window.innerWidth,this.position.now.y=.5*window.innerHeight,this.position.prev.now.x=0,this.position.prev.now.y=0}onUpdate(){this.canUpdate&&(this.position.now.x=c.lerp(this.position.now.x,this.position.x,this.easeRatio),this.position.now.y=c.lerp(this.position.now.y,this.position.y,this.easeRatio),this.position.now.x=Math.round(100*this.position.now.x)/100,this.position.now.y=Math.round(100*this.position.now.y)/100,this.position.now.normal.x=Math.round(this.position.now.x/this.screenSize.x*100)/100,this.position.now.normal.y=Math.round(this.position.now.y/this.screenSize.y*100)/100,this.position.prev.now.x=c.lerp(this.position.prev.now.x,this.position.x-this.position.now.x,.1),this.position.prev.now.y=c.lerp(this.position.prev.now.y,this.position.y-this.position.now.y,.1),this.position.prev.now.x=c.clamp(this.position.prev.now.x,-60,60),this.position.prev.now.y=c.clamp(this.position.prev.now.y,-60,60),this.position.prev.now.x=Math.round(100*this.position.prev.now.x)/100,this.position.prev.now.y=Math.round(100*this.position.prev.now.y)/100,this.runUpdateHandler())}destroy(){this.clearEventListener()}clearEventListener(){this.$container.removeEventListener("mousemove",this.mouseMoveFunc)}}class m{constructor(e,t=!1,i=(()=>{})){this.config={root:null,rootMargin:"0%",threshold:0},this.config=Object.assign(this.config,e),this.useClass=t,this.options=[];const s=[],o=this.config.threshold;for(let e=1;e<=o;e++){let t=e/o;s.push(t)}s.push(0),this.config.threshold=s,this.intersectionObsever=new IntersectionObserver(((...e)=>{this.onUpdate(...e)}),this.config)}onUpdate(e,t){e.forEach(((e,t)=>{e.isIntersecting&&this.useClass}))}add(e){this.intersectionObsever.observe(e)}remove(e,t){this.intersectionObsever.unobserve(e),this.options.find(((e,i)=>{e&&e.id===t&&(this.options=this.options.splice(i,1))}))}clear(){this.intersectionObsever.disconnect(),this.options=[]}}class p{constructor(e,{scrollbarClassName:t,scrollbarThumbClassName:i}){this.scrollbarClassName=t||"cScrollbar",this.scrollbarThumbClassName=i||"cScrollbar_thumb",this.draggingClassName="is-dragging_scrollbar",this.hasScrollbarClassName="has-scrollbar",this.coverName="#app-cvr",this.hiddenClassName="is-hidden",this.ssm=e,this.$scrollbar=null,this.$scrollbarThumb=null,this.$cover=null,this.limit=0,this.eventHandler={grab:null,release:null},this.canUpdate=!1,this.canMouseDown=!1,this.canMouseUp=!1,this.isDraginggThumb=!1,this.canDrag=!0,this.mousePos=null}init(e=!1){this.setSelector(),this.appendBar(),this.canDrag&&(this.$scrollbarThumb.style.height=this.ssm.containerHeight*this.ssm.containerHeight/(this.ssm.limit.max+this.ssm.containerHeight)+"px"),this.limit=this.ssm.containerHeight-this.$scrollbarThumb.getBoundingClientRect().height,this.eventHandler.grab=this.onMouseDown.bind(this),this.eventHandler.release=this.onMouseUp.bind(this),this.canDrag&&(this.$scrollbarThumb.addEventListener("mousedown",this.eventHandler.grab),window.addEventListener("mouseup",this.eventHandler.release)),this.ssm.$body.classList.add(this.hasScrollbarClassName),e?this.$scrollbar.classList.add(`${this.hiddenClassName}`):n.a.delayedCall(1,(()=>{this.$scrollbar.classList.remove(`${this.hiddenClassName}`)})),this.canUpdate=!0,this.canMouseDown=!0,this.canMouseUp=!0}reinit(){this.set(),this.onUpdate()}setSelector(){this.$scrollbar=document.createElement("div"),this.$scrollbarThumb=document.createElement("div"),this.$scrollbar.classList.add(`${this.scrollbarClassName}`,`${this.hiddenClassName}`),this.$scrollbar.setAttribute("aria-hidden","true"),this.$scrollbarThumb.classList.add(`${this.scrollbarThumbClassName}`),this.$cover=document.querySelector(this.coverName)}appendBar(){this.$scrollbar.appendChild(this.$scrollbarThumb),this.ssm.$smoothContainer.appendChild(this.$scrollbar)}set(){if(this.canDrag){let e=""+this.ssm.containerHeight*this.ssm.containerHeight/this.ssm.limit.max;"Infinity"===e&&(e=0),this.ssm.limit.max>1&&(e=Math.min(e,.5*this.ssm.containerHeight)),this.$scrollbarThumb.style.height=`${e}px`}this.limit=this.ssm.containerHeight-this.$scrollbarThumb.getBoundingClientRect().height}hidden(){this.$scrollbar.classList.add(this.hiddenClassName)}stop(e){this.canUpdate=!1,this.canMouseDown=!1,this.canMouseUp=!1,this.ssm.$body.classList.remove(this.hasScrollbarClassName),e&&this.$scrollbar.classList.add(this.hiddenClassName)}restart(e=!1){this.canUpdate=!0,this.canMouseDown=!0,this.canMouseUp=!0,this.ssm.$body.classList.add(this.hasScrollbarClassName),e||n.a.delayedCall(.1,(()=>{this.$scrollbar.classList.remove(this.hiddenClassName)}))}onMouseDown(e){this.canMouseDown&&(this.isDraginggThumb=!0,this.ssm.canScroll=!1,this.ssm.checkScroll(),this.ssm.$body.classList.add(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="all"))}onMouseUp(e){this.canMouseUp&&(this.isDraginggThumb=!1,this.ssm.canScroll=!0,this.ssm.$body.classList.remove(this.draggingClassName),this.$cover&&(this.$cover.style.pointerEvents="none"))}onMouseMove(e){this.isDraginggThumb&&(this.ssm.canUpdate=!0),this.mousePos=e}onUpdate(){if(this.isDraginggThumb){const e=this.mousePos.normal.y*this.ssm.limit.max;e>0&&e<this.ssm.limit.max&&(this.ssm.scrollDelta.y=e)}this.canDrag?this.ssm.addStyle(this.$scrollbarThumb,0,-this.ssm.scroll.y/this.ssm.limit.max*this.limit):this.$scrollbarThumb.style.transform=`translate3d( 0 ,0 , 0 ) scaleY(${this.ssm.scroll.y/this.ssm.limit.max})`}onResize(){this.reinit()}destroy(){this.$scrollbarThumb.removeEventListener("mousedown",this.eventHandler.grab),window.removeEventListener("mouseup",this.eventHandler.release),this.$scrollbar.parentNode.removeChild(this.$scrollbar)}}class v{constructor(e){this.parent=e,this.$sec=null,this.num=0,this.size={x:0,y:0},this.inViewPos=0,this.inViewPos2=0,this.inViewPosLimit=0,this.inViewPosLimit2=0,this.isInView=!1,this.data=null,this.windowSizeRatio=1}setSelector(e){this.$sec=e}setProps(e){this.data=this.$sec.dataset,this.num=e;const t=this.$sec.getBoundingClientRect();this.size.x=t.width,this.size.y=t.height,this.inViewPos=t.top-this.parent.screenSize.y*this.windowSizeRatio-h.getTranslate(this.$sec).y,this.inViewPos2=t.top-h.getTranslate(this.$sec).y,this.inViewPosLimit=this.inViewPos+t.height+this.parent.screenSize.y,this.inViewPosLimit2=this.inViewPos2+t.height,this.parent.scroll.y>=this.inViewPos&&this.parent.scroll.y<=this.parent.limit&&(this.isInView=!0)}inView(){this.isInView||(this.$sec.style.opacity="",this.$sec.style.pointerEvents="",this.isInView=!0)}outView(){this.isInView&&(this.$sec.style.opacity=0,this.$sec.style.pointerEvents="none",this.$sec.style.transform=null,this.isInView=!1)}onUpdate(){this.isInView&&this.parent.addStyle(this.$sec,0,this.parent.scroll.y)}destroy(){this.$sec=null,this.num=0,this.size.x=0,this.size.y=0,this.inViewPos=0,this.inViewPosLimit=0}}class g{constructor(e){this.parent=e,this.sec=null,this.$el=null,this.isInView=!1,this.num=0,this.width=0,this.height=0,this.top=0,this.left=0,this.bottom=0,this.type=null,this.delay=0,this.position={x:0,y:0},this.speed=null,this.isParallax=!1,this.deltaSpeed=null,this.isParallaxDelta=!1,this.canUpdate=!0}setSelector(e,t){this.$el=t,this.sec=e}setProps(e){this.width=Math.round(this.$el.offsetWidth),this.height=Math.round(this.$el.offsetHeight);const t=this.$el.getBoundingClientRect();this.sec.isInView?this.top=t.top+this.parent.scroll.y-h.getTranslate(this.$el).y:this.top=t.top-h.getTranslate(this.sec.$sec).y-h.getTranslate(this.$el).y;const i=this.$el.closest(".jsS_parent");this.left=i?t.left-h.getTranslate(i).x:t.left,this.bottom=this.top+this.height;const s=this.$el.dataset;this.type=s.scrollType,this.delay=s.scrollDelay||0,this.speed=!!s.scrollSpeed&&.1*parseFloat(s.scrollSpeed),this.deltaSpeed=!!s.scrollDelta&&parseFloat(s.scrollDelta),this.speed&&(this.isParallax=!0),this.deltaSpeed&&(this.isParallaxDelta=!0),this.isParallaxDelta&&(this.$el.style.willChange="transform"),this.num=e,this.isInView=!1}inView(){this.isInView||(this.isInView=!0,this.$el.classList.add("is-view"))}outView(){this.isInView&&(this.isInView=!1)}onUpdate(e){if(this.sec&&this.sec.isInView&&this.isInView&&this.canUpdate&&(this.isParallaxDelta&&!isMobileLayout&&this.parent.addStyle(this.$el,0,this.parent.scrollDeltaEase.y*this.deltaSpeed,0,this.delay||!1),this.isParallax)){const t=this.parent.scroll.y+this.parent.screenSize.yHalf;let i=!1,s=this.$el.getBoundingClientRect().top+this.parent.scroll.y-h.getTranslate(this.$el).y,o=s+.5*(s+this.$el.offsetHeight-s);e||(i=(t-o)*-this.speed,i=c.floor(i,1e3)),"gl-model-pl"===this.type?!1!==i&&(isMobileLayout?this.position.y=0:this.position.y=i):!1!==i?this.parent.addStyle(this.$el,0,-i,0,!e&&this.delay):this.$el.style.transform=null}}}class w{constructor({smoothContainerName:e=".jsS_ctr",smoothContentName:t=".jsS_cnt",smoothSecName:i=".jsS_sec",smoothElsName:s=".jsS_el",anchorTriggerName:o=".jsS_anchor",scrollbarClassName:n,scrollbarThumbClassName:a}){MOBILE||TABLET?(this.lerpRatio=.1375,this.deltaRatio=.55):(this.lerpRatio=.125,this.deltaRatio=1),this.DeltaEaseLerpRatio=.085,this.smoothContainerName=e,this.smoothContentName=t,this.smoothSecName=i,this.smoothElsName=s,this.anchorTriggerName=o,this.scrollbarClassName=n||null,this.scrollbarThumbClassName=a||null,this.hasBar=!0,this.bar=null,this.$body=document.body,this.$smoothContainer=null,this.$smoothContent=null,this.$secAll=null,this.screenSize={x:0,y:0,xHalf:0,yHalf:0},this.containerHeight=0,this.limit={min:0,max:0},this.limitDeltaEase={min:-300,max:300},this.scrollDelta={x:0,y:0},this.scrollDeltaEase={x:0,y:0},this.scroll={x:0,y:0},this.scrollDirection=1,this.observerSecs=new m({},!0),this.observerEls=new m({},!0),this.secs=[],this.els=[],this.canUpdate=!1,this.canScroll=!1,this.canResize=!0,this.isResize=!1,this.isAnchor=!1,this.isInited=!1,this.isScrollTo=!1,this.isStop=!0,this.tweenScrollTo=null,this._setKeyEvent()}_setKeyEvent(){const e=33,t=34,i=36,s=35;window.addEventListener("keydown",(o=>{if(!this.isStop)switch(o.keyCode){case i:requestAnimationFrame((()=>{this.canUpdate=!0,this.scrollDelta.y=this.limit.min}));break;case s:requestAnimationFrame((()=>{this.canUpdate=!0,this.scrollDelta.y=this.limit.max}));break;case e:requestAnimationFrame((()=>{this.canUpdate=!0,this.scrollDelta.y-=window.innerHeight}));break;case t:requestAnimationFrame((()=>{this.canUpdate=!0,this.scrollDelta.y+=window.innerHeight}))}}),!1)}init({barIsHidden:e=!1}){this.setSelector(),this.setFixedStyleContainer(),this.setSecs(),this.setEls(),this.setSize(),this.setLimit(),this.hasBar&&(this.isInited?e&&this.bar.hidden():(this.bar=new p(this,{scrollbarClassName:this.scrollbarClassName,scrollbarThumbClassName:this.scrollbarThumbClassName}),this.bar.init(e))),this.canScroll=!0,this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(!0),this.setAnchor(),this.onResize(),this.isInited=!0,this.isStop=!1}reinit({barIsHidden:e=!1}){this.setSelector(),this.observerSecs.clear(),this.observerEls.clear(),this.setSecs(!0),this.setEls(!0),this.setSize(),this.setLimit(),this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(!1,!0),this.hasBar&&this.bar.onResize(),e||this.bar.restart(),this.isStop=!1}setSelector(){this.$smoothContainer=document.querySelector(this.smoothContainerName);const e=document.querySelectorAll(this.smoothContentName);this.$smoothContent=e[e.length-1]}setFixedStyleContainer(){this.$smoothContainer.style.width="100%",this.$body.style.overflow="hidden"}setSecs(e=!1){e?[].forEach.call(this.$secAll,((e,t)=>{this.observerSecs.add(e),this.secs[t].setProps(t)})):(this.$secAll=this.$smoothContent.querySelectorAll(this.smoothSecName),this.secs=null,this.secs=[],[].forEach.call(this.$secAll,((e,t)=>{this.observerSecs.add(e),this.secs[t]=new v(this),this.secs[t].setSelector(e),this.secs[t].setProps(t)})))}setEls(e=!1){let t=0;e?this.secs.forEach((e=>{const i=e.$sec.querySelectorAll(this.smoothElsName);[].forEach.call(i,(e=>{this.els[t]&&(this.els[t].setProps(t),this.observerEls.add(e),t++)}))})):(this.els=null,this.els=[],this.secs.forEach((e=>{const i=e.$sec.querySelectorAll(this.smoothElsName);[].forEach.call(i,(i=>{i.classList.remove("is-in"),this.els[t]=new g(this,e),this.els[t].setSelector(e,i),this.els[t].setProps(t),this.observerEls.add(i),t++}))})))}setSize(){this.containerHeight=this.$smoothContainer.getBoundingClientRect().height,this.screenSize.x=document.body.clientWidth,this.screenSize.y=window.innerHeight,this.screenSize.yHalf=.5*window.innerHeight}setLimit(){this.limit.min=0,this.limit.max=Math.floor(Math.max(this.$smoothContent.clientHeight-this.containerHeight,0))}checkScroll(){if(!this.isAnchor)if(Math.abs(this.scroll.y-this.scrollDelta.y)<.1)this.scroll.y=Math.round(this.scrollDelta.y),this.canUpdate=!1,this.isAnchor=!1,this.scrollDeltaEase.y=0;else{this.scroll.y=c.lerp(this.scroll.y,this.scrollDelta.y,this.lerpRatio),this.scroll.y=c.floor(this.scroll.y,1e3);let e=this.scroll.y-this.scrollDelta.y;this.scrollDeltaEase.y=c.lerp(this.scrollDeltaEase.y,e,this.DeltaEaseLerpRatio),this.scrollDeltaEase.y=c.floor(this.scrollDeltaEase.y,1e3),this.scrollDeltaEase.y=c.clamp(this.scrollDeltaEase.y,this.limitDeltaEase.min,this.limitDeltaEase.max)}}checkLimit(){this.scrollDelta.y=c.clamp(this.scrollDelta.y,this.limit.min,this.limit.max),this.scrollDelta.y=.001*Math.floor(1e3*this.scrollDelta.y)}addStyle(e,t,i,s=0,o){let n;if(o){let t=h.getTranslate(e);n=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,0,${-c.lerp(-t.y,i,o)},0,1) rotate(0.001deg)`}else n=`matrix3d(1,0,0.00,0,0.00,1,0.00,0,0,0,1,0,${t},${-i},0,1) rotate(0.001deg)`;e.style.transform=n}onUpdateSecs(){this.secs.forEach((e=>{this.scroll.y>e.inViewPos&&this.scroll.y<e.inViewPosLimit?e.inView():e.outView(),e.onUpdate()}))}onUpdateEls(e,t=!1){const i=this.scroll.y,s=i+this.containerHeight,o=.25*this.screenSize.x;this.els.forEach(((t,n)=>{t.isInView?(s<t.top-o||i>t.bottom+o)&&t.outView(t.$el):s>=t.top-o&&i<t.bottom+o&&t.inView(t.$el),t.onUpdate(e)}))}setAnchor(e=this.$body){let t=e.querySelectorAll(this.anchorTriggerName);[].forEach.call(t,(e=>{let t,i;e.addEventListener("click",(s=>{s.preventDefault();let o=e.dataset;o&&(t=o.anchorTarget||null,i=o.anchorOffsetRatio||null,this.scrollTo(t,i))}))}))}async scrollTo(e,t,i=1.5){let s;this.isAnchor=!0;let o=t?parseInt(t):0;if("string"==typeof e?"top"===e?o=0:"bottom"===e?o=this.limit.max:s=document.querySelectorAll(e)[0]:e&&!e.target&&(s=e),s){let e=s.getBoundingClientRect().top+this.scroll.y,t=h.getParents(s).find((e=>this.secs.find((t=>t.$sec===e)))),i=0;t&&(i=h.getTranslate(t).y),o=e+o-i,o=Math.max(0,o)}await new Promise((e=>{h.clearTween(this.tweenScrollTo),this.tweenScrollTo=n.a.to(this.scrollDelta,i,{y:c.clamp(o,0,this.limit.max),ease:h.getCubicCurve(.6,0,.3,1),onUpdate:()=>{this.scroll.y=this.scrollDelta.y,this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(),this.hasBar&&this.bar.onUpdate()},onComplete:()=>{this.isAnchor=!1,e()}})}))}onScroll(e){this.canScroll&&!this.isAnchor&&(e.deltaY>0?this.scrollDirection=1:e.deltaY<0&&(this.scrollDirection=-1),this.canUpdate=!0,this.scrollDelta.y-=e.deltaY*this.deltaRatio)}onMouseMove(e){this.hasBar&&this.bar&&this.bar.onMouseMove(e)}onResize(e=!0){this.canResize&&(this.isResize=!0,this.setSelector(),this.observerSecs.clear(),this.observerEls.clear(),this.setSecs(!0),this.setEls(!0),this.setSize(),this.setLimit(),this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(!1,!0),this.hasBar&&this.bar.onResize(),this.isResize=!1,e&&(this.scrollDeltaEase={x:0,y:0},this.onScroll({deltaY:0})))}onUpdate(){this.canUpdate&&!this.isAnchor&&(this.checkLimit(),this.checkScroll(),this.onUpdateSecs(),this.onUpdateEls(),this.hasBar&&this.bar.onUpdate())}stop({barIsHidden:e=!1}){this.canScroll=!1,this.isStop=!0,this.els.forEach((e=>{e.canUpdate=!1})),this.hasBar&&this.bar.stop(e)}restart(){this.canUpdate=!0,this.canScroll=!0,this.isStop=!1,this.els.forEach((e=>{e.canUpdate=!0})),this.hasBar&&this.bar.restart()}reset(){this.scroll.y=0,this.scrollDelta.y=0,this.secs.forEach((e=>{e.$sec.style.transform=""}))}destroy(){this.hasBar&&(this.bar.destroy(),this.bar=null)}}var f=i(16),M=i.n(f);class y{constructor(){this.vs=new M.a({mouseMultiplier:navigator.platform.indexOf("Win")>-1?1:.75,touchMultiplier:4,firefoxMultiplier:30}),this.runningCheckRatio=10,this.smoothSpeed=.1,this.coverName="#app-cvr",this.handler=[],this.startHandler=[],this.pos={x:0,y:0},this.nowPos={x:0,y:0},this.$cover=null,this.canUpdate=!1,this.isRunning=!1,this.canRunEvent=!1,this.ticking=!1}init(){this.$cover=document.querySelector(this.coverName),this.canRunEvent=!0,this.setEvent()}setEvent(){this.vs.on((e=>{this.canRunEvent&&this._runSetEvent(e)}))}_runSetEvent(e){this.ticking||(requestAnimationFrame((()=>{this.ticking=!1,this.canRunEvent||(e.x=0,e.y=0,e.deltaX=0,e.deltaY=0),this.runHandler(e),this.pos.y+=e.deltaY,this.canUpdate||(this.canUpdate=!0)})),this.ticking=!0)}runHandler(e){this.handler.forEach((t=>{t.task(e)}))}startRunning(){this.isRunning=!0,this.$cover&&(this.$cover.style.pointerEvents="all"),this.startHandler.forEach((e=>{e.task(event)}))}stopRunning(){this.isRunning=!1,this.$cover&&(this.$cover.style.pointerEvents="none"),this.canUpdate=!1}checkRunning(){Math.abs(this.pos.y-this.nowPos.y)<this.runningCheckRatio&&this.stopRunning()}onUpdate(){this.canUpdate&&(this.isRunning||this.startRunning(),this.isRunning&&(this.nowPos.y=c.lerp(this.nowPos.y,this.pos.y,this.smoothSpeed),this.checkRunning()))}reset(){this.pos.y=0}stop(){this.canRunEvent=!1,this.canUpdate=!1}restart(){this.canRunEvent=!0,this.canUpdate=!0}}class S{constructor(){this.focusHandler=[],this.blurHandler=[],this.eventHandler={focus:null,blur:null},this.size={width:window.innerWidth,height:window.innerHeight}}init(){this.setEventListener()}setEventListener(){this.eventHandler.focus=this.onFocus.bind(this),this.eventHandler.bluer=this.onBlur.bind(this),window.addEventListener("focus",this.eventHandler.focus,!1),window.addEventListener("blur",this.eventHandler.bluer,!1),window.addEventListener("resize",this.onResize.bind(this),!1)}onFocus(){this.size.width===window.innerWidth&&this.size.height===window.innerHeight||location.reload(),this.size={width:window.innerWidth,height:window.innerHeight},this.focusHandler.forEach((e=>{e.task()}))}onResize(){this.size={width:window.innerWidth,height:window.innerHeight}}onBlur(){this.blurHandler.forEach((e=>{e.task()}))}destroy(){this.clearEventListener()}clearEventListener(){window.remove("focus",this.eventHandler.focus),window.remove("blur",this.eventHandler.bluer),this.eventHandler.focus=null,this.eventHandler.bluer=null,this.eventHandler=[]}}var x=i(1);class C{constructor({sizes:e,renderer:t,config:i=!1,debug:s=null}){this.cameraPosition={x:0,y:0,z:2e3},this.sizes=e,this.renderer=t,this.config=i,this.controler=null,this.count=0,this.init()}init(){this.container=new x.X,this.container.matrixAutoUpdate=!1,this.setInstance(),this.setCamera()}setInstance(){this.instance=new x.ab(0,this.sizes.xy,.1,1e4),this.instance.lookAt(0,0,0),this.instance.position.x=this.cameraPosition.x,this.instance.position.y=this.cameraPosition.y,this.instance.position.z=this.cameraPosition.z,this.setCamera()}setCamera(){this.instance.aspect=this.sizes.xy||document.body.clientWidth/window.innerHeight,this.instance.fov=2*Math.atan(this.sizes.width/this.instance.aspect/(2*this.instance.position.z))*(180/Math.PI),this.instance.updateProjectionMatrix(),this.renderer.setSize(this.sizes.x,this.sizes.y)}onResize(e){this.sizes=e,this.setCamera()}onUpdate(){this.instance.updateProjectionMatrix()}}class b{constructor(){this.camera=null,this.scene=null,this.renderer=null,this.light=null,this.debug=null,this.stageSize={width:0,height:0,widthRatio:0,heightRatio:0,aspect:{xy:0,yx:0}},this.rendererColor="dark"===P.colorChange.type?{color:1842204,alpha:1}:{color:15527407,alpha:1},this.rendererColorSubPage={color:16777215,alpha:0},MOBILE||TABLET?this.devicePixelRatio=Math.min(window.devicePixelRatio,2.5):this.devicePixelRatio=Math.min(window.devicePixelRatio,1.5),this.rendererOptions={canvas:null,antialias:!0,alpha:!0}}init(e,t,i){this.debug=i,this.rendererOptions.canvas=e,this.scene=new x.nb({autoUpdate:!1}),this.renderer=new x.Bb(this.rendererOptions),this._setStageSize(),this.camera=new C({sizes:this.stageSize,renderer:this.renderer,config:t,debug:i}),this.initRenderer(e)}reinit(){this._setStageSize(),this.camera.onResize(this.stageSize),this._setRenderer()}initRenderer(){this.renderer.setClearColor(this.rendererColor.color,this.rendererColor.alpha),this.renderer.outputEncoding=x.Cb,this.renderer.toneMapped=x.lb,this._setRenderer()}_setRenderer(){this.renderer.setSize(this.stageSize.width,this.stageSize.height),this.renderer.setPixelRatio(this.devicePixelRatio)}changeColor(e){switch(e){case"about":case"carriers":case"journal":case"contact":case"notFound":this.renderer.setClearColor(this.rendererColorSubPage.color,this.rendererColorSubPage.alpha);break;default:this.renderer.setClearColor(this.rendererColor.color,this.rendererColor.alpha)}}_setStageSize(){this.stageSize.width=document.body.clientWidth,this.stageSize.height=window.innerHeight,this.stageSize.widthRatio=1/this.stageSize.width,this.stageSize.heightRatio=1/this.stageSize.height,this.stageSize.aspect.xy=this.stageSize.width/this.stageSize.height,this.stageSize.aspect.yx=this.stageSize.height/this.stageSize.width}setLight(){}onUpdateRenderer(){P.colorChange.type,this.renderer.render(this.scene,this.camera.instance)}onResize(){this._setStageSize(),this.camera.onResize(this.stageSize),this._setRenderer()}onUpdate(){this.camera.onUpdate(),this.onUpdateRenderer()}}var T=i(18),A=i(17),z=i(19),_="#define GLSLIFY 1\nuniform mat4 modelMatrix;\nuniform mat4 viewMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat3 normalMatrix;\n\nuniform vec3 uViewVector;\nuniform float uIntensityRatioIn;\nuniform float uIntensityRatioOut;\n\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec3 cameraPosition;\n\nvarying float vIntensity;\n\nvoid main()  {\n    vec3 normal1 = normalize( normalMatrix * normal );\n    vec3 normal2 = normalize( normalMatrix * uViewVector );\n\n    vIntensity = pow( uIntensityRatioOut - dot(normal1, normal2), uIntensityRatioIn );\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",R="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 uColor;\nvarying float vIntensity;\n\nvoid main() {\n    vec3 glow = vec3(uColor) * vIntensity;\n    gl_FragColor = vec4( glow, 1. );\n}\n";class E{constructor(e){this.gl=e.gl,this.parent=e.parent,this.gltf=e.gltf,this.model=this.gltf.scene.clone(),this.model.castShadow=!0,this.model.receiveShadow=!0,this.bodyTexture=e.bodyTexture,this.count=e.count,this.mainNavSlider=e.mainNavSlider,this.groupIndex=this.count%this.mainNavSlider.originalItemLength,this.model.children.forEach(((t,i)=>{if("point"===t.name||"Light"===t.name){this.pointLightMesh=t;const e=this.pointLightMesh.children[0];e.color=new x.k(11649002),e.intensity=0,e.distance=80,e.decay=3}this.lightHoverRatio={intensity:10,distance:2===this.groupIndex?80:130,decay:3},t.material&&("dark"===P.colorChange.type?(t.material.map=this.bodyTexture.dark,t.material.color=new x.k(1381653),"light_model"===t.name&&(this.model.meshGlowOrigin=t,this.materialGlow=new x.kb({vertexShader:_,fragmentShader:R,clipping:!0}),this.viewVector=new x.zb,this.intensityRatioOut={base:1.2,hover:0,deltaEaseAbs:0},this.materialGlow.uniforms={uViewVector:{value:e.stage.camera.instance.position},uColor:{value:new x.k(11649002)},uIntensityRatioIn:{value:2.5},uIntensityRatioOut:{value:this.intensityRatioOut.base}},this.isGlow=!0,this.geometryGlow=t.geometry.clone(),this.geometryGlow.computeVertexNormals(),this.geometryGlow.computeFaceNormals(),this.meshGlow=new x.O(this.geometryGlow,this.materialGlow),this.meshGlow.renderOrder=-1,this.meshGlowScaleRatio=1,this.model.attach(this.meshGlow),this.meshGlow.position.set(this.model.meshGlowOrigin.position.x,this.model.meshGlowOrigin.position.y,this.model.meshGlowOrigin.position.z),this.meshGlow.scale.set(this.model.meshGlowOrigin.scale.x*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.y*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.z*this.meshGlowScaleRatio),this.model.meshGlowOrigin.material=new x.kb({vertexShader:_,fragmentShader:R,clipping:!0}),this.model.meshGlowOrigin.material.opacity=0,this.model.meshGlowOrigin.material.visible=!1)):this.setBodyTexture(t))})),this.stage=e.stage,this.$el=e.$el,this.navType=e.navType,this.currentEl=null,this.addRotation=0,this.time=0,this.sizeCheckRatio={x:.125,y:.175},window.isMobileLayout&&(this.sizeCheckRatio.x*=1.8,this.sizeCheckRatio.y*=1.8),this.sizeRatio=0,this.sizeRatioCurrent=0,this.sizeRatioCurrentFooter=0,this.widthWindowHalf=0,this.animationMixer=null,this.canUpdate=!1,this.isCurrent=!1,this.isCurrentFooter=!1,this.isTransitioning=!1,this.widthHalfCurrent=0,this.heightHalfCurrent=0,this.widthHalfCurrentFooter=0,this.heightHalfCurrentFooter=0,this.addScale=0,this.addTranslateX=0,this.footerPosRatioX=0,this.tweenFooterPosRatioX=null,this.transitionScreenCoordFooterBanner={x:0,y:0},this.hoverYRatio=0,this.hoverScaleRatio=0,this.mouseEnterProgress=0,this.tweenMouseEnter=null,this.tweenMouseEnterY=null,this.tweenMouseEnterScale=null,this.tweenGlow=null,this.tweenLightIntensity=null,this.tweenLightDistance=null,this.tweenLightDecay=null}async init(){await new Promise((e=>{this.animations=this.gltf.animations,this.animationMixer=new x.b(this.model);let t=0;for(;t<this.animations.length;t++)this.animationMixer.clipAction(this.animations[t]).play();this.setSize(),this.updatePosition(),this.canUpdate=!0,e()}))}setBodyTexture(e){if(!e||!e.name)return;let t=e.name;-1!==t.indexOf("green")?e.material.map=this.bodyTexture.green:-1!==t.indexOf("blue")?e.material.map=this.bodyTexture.blue:-1!==t.indexOf("navy")&&(e.material.map=this.bodyTexture.navy)}onMouseEnter(e=.7){this.animations.length&&!window.isPageTransitioning&&this.mouseEnterAnim(e)}async mouseEnterAnim(e=.575){requestAnimationFrame((()=>{const t=h.getCubicCurve(.15,.05,.2,1);this._clearMouseAnimationTween(),this.tweenMouseEnter=n.a.to(this,5*e,{mouseEnterProgress:5,ease:"none",onUpdate:()=>{this.setModelSize(),this.setMeshGlowSize(),this.animationMixer.setTime(this.mouseEnterProgress)},onComplete:()=>{this.setModelSize(),this.setMeshGlowSize(),this.onLoop(e)}}),OTHER&&this.materialGlow&&(this.tweenGlow=n.a.to(this.intensityRatioOut,e,{hover:.35,ease:t}),this.pointLightMesh.children[0]&&(this.tweenLightIntensity=n.a.to(this.pointLightMesh.children[0],e,{intensity:this.lightHoverRatio.intensity,ease:t}),this.tweenLightDistance=n.a.to(this.pointLightMesh.children[0],e,{distance:this.lightHoverRatio.distance,ease:t}),this.tweenLightDecay=n.a.to(this.pointLightMesh.children[0],e,{decay:this.lightHoverRatio.decay,ease:t})))}))}onLoop(e){h.clearTween(this.tweenMouseEnter),this.mouseEnterProgress=1,this.animationMixer.setTime(this.mouseEnterProgress),this.setModelSize(),this.setMeshGlowSize(),this.tweenMouseEnter=n.a.to(this,4*e,{mouseEnterProgress:5,ease:"none",onUpdate:()=>{this.animationMixer.setTime(this.mouseEnterProgress),this.setModelSize(),this.setMeshGlowSize()},onComplete:()=>{this.animationMixer.setTime(this.mouseEnterProgress),this.setModelSize(),this.setMeshGlowSize(),this.onLoop(e)}})}onMouseLeave(e=1){this.animations.length&&!window.isPageTransitioning&&this.mouseLeaveAnim(e)}async mouseLeaveAnim(e=.75,t=.1,i=0,s=!0,o=!1){await new Promise((a=>{let r=0,l="cubic.out";this.mouseEnterProgress>1&&(r=(this.mouseEnterProgress-1)/4),window.isPageTransitioning&&(r*=.5),s||(r=0),1===i&&(l=h.getCubicCurve(.6,0,.3,1)),2===i&&(l="sine.inOut"),this._clearMouseAnimationTween(),this.tweenMouseEnter=n.a.to(this,e+r*e,{mouseEnterProgress:0,ease:l,delay:t,onUpdate:()=>{this.animationMixer.setTime(this.mouseEnterProgress),0===i&&(this.setModelSize(),this.setMeshGlowSize())}}),OTHER?(this.tweenMouseEnterScale=n.a.to(this,e,{hoverScaleRatio:0,ease:l,delay:t,onComplete:a}),this.materialGlow&&(this.tweenGlow=n.a.to(this.intensityRatioOut,e,{hover:0,delay:t,ease:l,onUpdate:()=>{o&&this._updateMaterialGlow()}}),this.pointLightMesh.children[0]&&(this.tweenLightIntensity=n.a.to(this.pointLightMesh.children[0],e,{intensity:0,ease:l}),this.tweenLightDistance=n.a.to(this.pointLightMesh.children[0],e,{distance:0,ease:l}),this.tweenLightDecay=n.a.to(this.pointLightMesh.children[0],e,{decay:0,ease:l})))):a()}))}_clearMouseAnimationTween(){h.clearTween(this.tweenMouseEnter),h.clearTween(this.tweenMouseEnterY),h.clearTween(this.tweenMouseEnterScale),h.clearTween(this.tweenGlow),h.clearTween(this.tweenLightIntensity),h.clearTween(this.tweenLightDistance),h.clearTween(this.tweenLightDecay)}setSize(){this.widthWindowHalf=.5*this.stage.stageSize.width,this.heightWindowHalf=.5*this.stage.stageSize.height,this.isCurrent&&this.currentEl?(this.widthCurrent=this.currentEl.width,this.heightCurrent=this.currentEl.height,this.widthHalfCurrent=.5*this.widthCurrent,this.heightHalfCurrent=.5*this.heightCurrent,this.sizeRatioCurrent=.225*Math.min(this.widthCurrent,this.heightCurrent)):this.isCurrentFooter&&(this.widthCurrentFooter=this.currentFooterEl.width,this.heightCurrentFooter=this.currentFooterEl.height,this.widthHalfCurrentFooter=.5*this.widthCurrentFooter,this.heightHalfCurrentFooter=.5*this.heightCurrentFooter,this.sizeRatioCurrentFooter=.5*Math.min(this.widthCurrentFooter,this.heightCurrentFooter)),window.isMobileLayout?this.sizeRatio=Math.min(this.sizeCheckRatio.x*window.innerWidth*.925,this.sizeCheckRatio.y*window.innerHeight*.925):this.sizeRatio=Math.min(this.sizeCheckRatio.x*window.innerWidth*.8,this.sizeCheckRatio.y*window.innerHeight*.8),this.setModelSize(),this.setMeshGlowSize()}setModelSize(){if(this.isCurrent)this.model.scale.set(this.sizeRatioCurrent*(1+this.addScale)+this.hoverScaleRatio,this.sizeRatioCurrent*(1+this.addScale)+this.hoverScaleRatio,this.sizeRatioCurrent*(1+this.addScale)+this.hoverScaleRatio);else if(this.isCurrentFooter)this.model.scale.set(this.sizeRatioCurrentFooter+this.hoverScaleRatio,this.sizeRatioCurrentFooter+this.hoverScaleRatio,this.sizeRatioCurrentFooter+this.hoverScaleRatio);else{const e=15*this.mainNavSlider.deltaEaseAbs||0;this.model.scale.set(this.sizeRatio-e+this.hoverScaleRatio,this.sizeRatio-e+this.hoverScaleRatio,this.sizeRatio-e+this.hoverScaleRatio)}}setMeshGlowSize(){this.isGlow&&(this.meshGlow.scale.set(this.model.meshGlowOrigin.scale.x*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.y*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.z*this.meshGlowScaleRatio),this._updatePositionMeshGlow())}updatePosition(e,t=0){this.isCurrent?this._updateCurrentPosition(e,t):this.isCurrentFooter?this._updateCurrentFooterPosition(e,t):this._updateStandardPosition(e,t)}_updatePositionMeshGlow(){this.meshGlow&&this.meshGlow.position.set(this.model.meshGlowOrigin.position.x,this.model.meshGlowOrigin.position.y,this.model.meshGlowOrigin.position.z)}_updateCurrentPosition(e,t=0){let i=this._setCurrentPositionX();this.model.position.set(i+this.addTranslateX,e-this.currentEl.top-this.currentEl.position.y+this.heightWindowHalf-this.heightHalfCurrent-this.sizeRatioCurrent+5*Math.sin(7.5*(this.time+this.count%4*.1))+this.hoverYRatio,1.5*this.sizeRatioCurrent)}_updateCurrentFooterPosition(e,t=0){this.model.position.set(-this.widthWindowHalf+this.currentFooterEl.left+this.widthHalfCurrentFooter+this.sizeRatioCurrentFooter-.15*this.widthWindowHalf-this.footerPosRatioX*(this.sizeRatioCurrentFooter-.125*this.sizeRatioCurrentFooter),e-this.currentFooterEl.top+this.heightWindowHalf-this.heightHalfCurrentFooter-this.sizeRatioCurrentFooter+this.hoverYRatio,1.5*this.sizeRatioCurrentFooter)}_updateStandardPosition(e,t=0){let i=this.count*this.mainNavSlider.period-this.mainNavSlider.period*this.mainNavSlider.originalItemLength;const s=this.count%this.mainNavSlider.originalItemLength;let o;switch(s){case 0:o=this.mainNavSlider.progressComplete>=2?Math.abs(4-this.mainNavSlider.progressComplete):Math.abs(this.mainNavSlider.progressComplete-s);break;case 1:o=this.mainNavSlider.progressComplete>=3?Math.abs(5-this.mainNavSlider.progressComplete):Math.abs(this.mainNavSlider.progressComplete-s);break;case 3:o=this.mainNavSlider.progressComplete<=1?Math.abs(1+this.mainNavSlider.progressComplete):Math.abs(this.mainNavSlider.progressComplete-s);break;default:o=Math.abs(this.mainNavSlider.progressComplete-s)}const n=250*o*this.mainNavSlider.deltaEaseAbs;this.model.position.set(i+10*Math.sin(4.5*(this.time+this.count%4*.1)),-this.sizeRatio+5*Math.sin(7.5*(this.time+this.count%4*.1))+20*this.mainNavSlider.deltaEaseAbs-20+this.hoverYRatio,1.5*this.sizeRatio+n)}onResize(){this.setSize(),this.updatePosition()}onUpdate({timeDelta:e=0,scrollY:t=0}){if(this.model&&this.canUpdate){if(this.isTransitioning)return;this.isCurrent?(this._onUpdateCurrent(e,t),this.isTransitioning||(this.mouseEnterProgress=Math.min(6.01666,5.01666+(t/this.stage.stageSize.height*.6||0)),this.animationMixer.setTime(this.mouseEnterProgress))):this.isCurrentFooter?this._onUpdateCurrentFooter(e,t):this._onUpdateStandard(e,t),this.meshGlow&&this._updateMaterialGlow()}}_updateMaterialGlow(){if(this.isGlow){this.model.meshGlowOrigin.getWorldPosition(this.viewVector);const e=this.groupIndex+0,t=this.groupIndex+4,i=this.groupIndex+8;let s=new x.zb,o=new x.zb,n=new x.zb;this.parent.model3dNavMesh[e].meshGlow.getWorldPosition(s),this.parent.model3dNavMesh[t].meshGlow.getWorldPosition(o),this.parent.model3dNavMesh[i].meshGlow.getWorldPosition(n),s.x=Math.abs(s.x),o.x=Math.abs(o.x),n.x=Math.abs(n.x),this.viewVector.x=Math.min.apply(null,[s.x,o.x,n.x]),0===this.groupIndex?!this.isCurrent&&!this.isCurrentFooter&&!this.isTransitioning&&Math.abs(this.parent.modelNavGroup.position.x)<.5*this.mainNavSlider.itemGroupWidth&&(this.viewVector.x=-this.viewVector.x):!this.isCurrent&&!this.isCurrentFooter&&!this.isTransitioning&&Math.abs(this.parent.modelNavGroup.position.x)>this.mainNavSlider.itemGroupWidth/4*this.groupIndex&&(this.viewVector.x=-this.viewVector.x),this.materialGlow.uniforms.uViewVector.value=(new x.zb).subVectors(this.stage.camera.instance.position,this.viewVector),this.intensityRatioOut.deltaEaseAbs=Math.min(.35,1.5*this.mainNavSlider.deltaEaseAbs),this.materialGlow.uniforms.uIntensityRatioOut.value=Math.min(1.85,this.intensityRatioOut.base+this.intensityRatioOut.hover+this.intensityRatioOut.deltaEaseAbs)}}_onUpdateCurrent(e=0,t=0){this.currentEl&&this.currentEl.isInView?(this.model.visible||(this.model.visible=!0),this._setTime(e),this._setRotation(),this._setRotationMeshGlow(),this.updatePosition(t,e),this.mainNavSlider.isEventing&&(this.setModelSize(),this.setMeshGlowSize())):this.model.visible&&(this.model.visible=!1)}_onUpdateCurrentFooter(e=0,t=0){this.currentFooterEl.isInView?(this.model.visible||(this.model.visible=!0),this._setTime(e),this._setRotation(),this._setRotationMeshGlow(),this.updatePosition(t,e),this.mainNavSlider.isEventing&&(this.setModelSize(),this.setMeshGlowSize())):this.model.visible&&(this.model.visible=!1)}_onUpdateStandard(e=0,t=0){this._setTime(e),this._setRotation(),this._setRotationMeshGlow(),this.updatePosition(t,e),this.mainNavSlider.isEventing&&(this.setModelSize(),this.setMeshGlowSize())}_setRotation(){const e=.1*this.groupIndex,t=this.mainNavSlider.progressEase*Math.PI*.75,i=this.footerPosRatioX*-Math.PI*2;this.model.rotation.y=e+this.time-this.addRotation-t+i}_setRotationMeshGlow(){this.isGlow&&(this.meshGlow.rotation.y=-this.model.rotation.y)}_setTime(e=0){this.gl.rotationDirection<=0?this.time+=.25*e:this.time-=.25*e}_setCurrentPositionX(){let e=-this.widthWindowHalf+this.currentEl.left+this.widthHalfCurrent+10*Math.sin(4.5*(this.time+this.count%4*.1))-this.parent.modelNavGroup.position.x;return window.isMobileLayout||(e+=.5*this.sizeRatioCurrent),e}hide(){this.model.visible=!1}show(){this.model.visible=!0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}setCurrent(e){this.currentEl=e,this.isCurrent=!0}clearCurrent(){this.currentEl=null,this.isCurrent=!1,this.addRotation=0,this.onUpdate({}),this.setModelSize(),this.setMeshGlowSize()}setCurrentFooter(e){this.currentFooterEl=e,this.isCurrentFooter=!0}clearCurrentFooter(){this.currentFooterEl=null,this.isCurrentFooter=!1,this.footerPosRatioX=0,this.onUpdate({}),this.setModelSize(),this.setMeshGlowSize()}onMouseEnterFooterBanner(){this.isTransitioning||this.mouseEnterAnimFooterBanner()}onMouseLeaveFooterBanner(){this.isTransitioning||this.mouseLeaveAnimFooterBanner()}mouseEnterAnimFooterBanner(){this.gl.rotationDirection=1,this.mouseEnterAnim(.7),h.clearTween(this.tweenFooterPosRatioX),this.tweenFooterPosRatioX=n.a.to(this,1.15,{footerPosRatioX:1,ease:"quint.out"})}mouseLeaveAnimFooterBanner(){this.gl.rotationDirection=-1,this.mouseLeaveAnim(1.15),h.clearTween(this.tweenFooterPosRatioX),this.tweenFooterPosRatioX=n.a.to(this,1.15,{footerPosRatioX:0,ease:"quint.out",delay:.05})}async transitionInHomeToAbout(e,t=1.5){this.gl.rotationDirection=1,this.isTransitioning=!0,this.currentEl=e,this.widthCurrent=this.currentEl.width,this.heightCurrent=this.currentEl.height,this.widthHalfCurrent=.5*this.widthCurrent,this.heightHalfCurrent=.5*this.heightCurrent,this.sizeRatioCurrent=.225*Math.min(this.widthCurrent,this.heightCurrent);const i=this._setCurrentPositionX(),s=0-this.currentEl.top-this.currentEl.position.y+this.heightWindowHalf-this.heightHalfCurrent-this.sizeRatioCurrent+5*Math.sin(7.5*(this.time+this.count%4*.1));await new Promise((e=>{n.a.to(this.model.position,t,{x:i,y:s,z:1.5*this.sizeRatioCurrent,ease:h.getCubicCurve(.6,0,.3,1),onUpdate:()=>{this.meshGlow&&(this._updateMaterialGlow(),this.meshGlow.position.set(this.model.meshGlowOrigin.position.x,this.model.meshGlowOrigin.position.y,this.model.meshGlowOrigin.position.z),this.meshGlow.scale.set(this.model.meshGlowOrigin.scale.x*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.y*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.z*this.meshGlowScaleRatio))},onComplete:()=>{this.meshGlow&&(this._updateMaterialGlow(),this.meshGlow.position.set(this.model.meshGlowOrigin.position.x,this.model.meshGlowOrigin.position.y,this.model.meshGlowOrigin.position.z),this.meshGlow.scale.set(this.model.meshGlowOrigin.scale.x*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.y*this.meshGlowScaleRatio,this.model.meshGlowOrigin.scale.z*this.meshGlowScaleRatio)),requestAnimationFrame((()=>{e()}))}}),h.clearTween(this.tweenMouseEnterScale),this.tweenMouseEnterScale=n.a.to(this,t,{hoverScaleRatio:0,ease:h.getCubicCurve(.6,0,.3,1)}),n.a.to(this.model.scale,t,{x:this.sizeRatioCurrent,y:this.sizeRatioCurrent,z:this.sizeRatioCurrent,ease:h.getCubicCurve(.6,0,.3,1)}),n.a.to(this,t,{addRotation:2*Math.PI,ease:"sine.inOut",onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.addRotation=0,this._setRotation(),this._setRotationMeshGlow()}})}))}async transitionOutHomeToLowerSub(e=1.5,t=0){this.gl.rotationDirection=1,this.isTransitioning=!0,n.a.to(this,e,{addRotation:-2*Math.PI,ease:"sine.inOut",delay:t,onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.addRotation=0,this._setRotation(),this._setRotationMeshGlow(),this.hide()}});const i=this.model.position.x-.1375*window.innerWidth;await n.a.to(this.model.position,e,{x:i,ease:"quart.inOut",delay:t,onComplete:()=>{this.isCurrent=!1,this.isTransitioning=!1,this.hide()}})}setTransitionAboutToCarriersFromFooterBanner(){const e=this.currentFooterEl.$el.getBoundingClientRect();this.transitionScreenCoordFooterBanner.x=e.left,this.transitionScreenCoordFooterBanner.y=e.top,this.canUpdate=!1}async transitionOutAboutToCarriersFromFooterBanner(e){this.isTransitioning=!0,h.clearTween(this.tweenFooterPosRatioX),this.isCurrent&&n.a.to(this,1,{mouseEnterProgress:5.016666666666667,onUpdate:()=>{this.animationMixer.setTime(this.mouseEnterProgress)},onComplete:()=>{this.mouseEnterProgress=0,this.animationMixer.setTime(this.mouseEnterProgress)}}),this.gl.rotationDirection=1,this.currentEl=e,this.widthCurrent=this.currentEl.width,this.heightCurrent=this.currentEl.height,this.widthHalfCurrent=.5*this.widthCurrent,this.heightHalfCurrent=.5*this.heightCurrent,this.sizeRatioCurrent=.225*Math.min(this.widthCurrent,this.heightCurrent);const t=this._setCurrentPositionX(),i=0-this.currentEl.top-this.currentEl.position.y+this.heightWindowHalf-this.heightHalfCurrent-this.sizeRatioCurrent+5*Math.sin(7.5*(this.time+this.count%4*.1));await new Promise((e=>{this.mouseLeaveAnim(1,0,0,!1,!1),n.a.to(this.model.position,1,{x:t,y:i,z:1.5*this.sizeRatioCurrent,ease:h.getCubicCurve(.6,0,.3,1),delay:.725,onComplete:()=>{this.isCurrent=!0,this.isTransitioning=!1,this.restart(),e()}}),n.a.to(this.model.scale,1,{x:this.sizeRatioCurrent,y:this.sizeRatioCurrent,z:this.sizeRatioCurrent,ease:h.getCubicCurve(.6,0,.3,1)}),n.a.to(this,1.725,{addRotation:2*Math.PI,footerPosRatioX:1,ease:"sine.inOut",onUpdate:()=>{this._updateMaterialGlow(),this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.gl.rotationDirection=1}}),h.clearTween(this.tweenMouseEnterScale),this.tweenMouseEnterScale=n.a.to(this,1,{hoverScaleRatio:0,ease:h.getCubicCurve(.6,0,.3,1)})}))}setTransitionCarriersToJournalFromFooterBanner(){const e=this.currentFooterEl.$el.getBoundingClientRect();this.transitionScreenCoordFooterBanner.x=e.left,this.transitionScreenCoordFooterBanner.y=e.top,this.canUpdate=!1}async transitionOutCarriersToJournalFromFooterBanner(e){this.isTransitioning=!0,h.clearTween(this.tweenFooterPosRatioX),this.gl.rotationDirection=1;const t=e.getBoundingClientRect(),i=t.width,s=t.height,o=.5*i,a=.225*Math.min(i,s);let r;this.addRotation=0,this.footerPosRatioX=0,r=window.isMobileLayout?-this.widthWindowHalf+t.left+o+.75*a+10*Math.sin(4.5*(this.time+this.count%4*.1))-this.parent.modelNavGroup.position.x+.95*o:-this.widthWindowHalf+t.left+o+.5*a+10*Math.sin(4.5*(this.time+this.count%4*.1))-this.parent.modelNavGroup.position.x+.95*o,await new Promise((e=>{this.mouseLeaveAnim(.825,0,0,!1,!0),n.a.to(this.model.position,.825,{z:1.5*a,ease:"cubic.inOut"}),n.a.to(this.model.position,1.35,{x:r,ease:h.getCubicCurve(.725,0,.15,1),delay:.825,onComplete:()=>{this.isCurrent=!0,this.isTransitioning=!1,this.clearCurrent(),this.hide(),e()}}),n.a.to(this.model.scale,.825,{x:a,y:a,z:a,ease:"cubic.inOut"}),n.a.to(this,.825,{addRotation:1.5*Math.PI,ease:"sine.inOut",onUpdate:()=>{this._updateMaterialGlow(),this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{n.a.to(this,1.25,{addRotation:-1*Math.PI,ease:"sine.inOut",onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.addRotation=0,this.footerPosRatioX=0,this.gl.rotationDirection=1}})}})}))}async transitionOutDefault(e=1.5){n.a.to(this,e,{addRotation:-2*Math.PI,ease:"cubic.inOut",onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.addRotation=0,this._setRotation(),this._setRotationMeshGlow(),requestAnimationFrame((()=>{this.mouseEnterProgress=0,this.animationMixer.setTime(this.mouseEnterProgress)}))}}),n.a.to(this,e,{addTranslateX:-.315*window.innerWidth,ease:"cubic.inOut",onComplete:()=>{this.addTranslateX=0}})}async transitionInDefault(e=1.25){this.addScale=.75,this.addRotation=.75*Math.PI,this.addTranslateX=.3125*window.innerWidth,n.a.to(this,e,{addRotation:0,ease:"cubic.out",onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this.addRotation=0,this._setRotation(),this._setRotationMeshGlow(),this.isTransitioning=!1}}),n.a.to(this,1.85*e,{addTranslateX:0,ease:"expo.out",onUpdate:()=>{this._setRotation(),this._setRotationMeshGlow()},onComplete:()=>{this._setRotation(),this._setRotationMeshGlow()}}),n.a.to(this,1.85*e,{addScale:0,ease:"expo.out",onUpdate:()=>{this.setModelSize(),this.setMeshGlowSize()}})}}class L{constructor(e){this.parent=e.parent,this.gltf=e.gltf,this.model=this.gltf.scene.clone(),this.stage=e.stage,this.count=e.count,this.navType=e.navType,this.el=null,this.time=0,this.sizeCheckRatio={x:.125,y:.175},this.sizeRatio=0,this.sizeRatioCurrent=0,this.widthWindowHalf=0,this.animationMixer=null,this.canUpdate=!1,this.isCurrent=!1,this.startRotation={x:0,y:0,z:0},this.rotationRatio={x:0,y:0,z:0},this.addTranslateX=0,this.model.children.forEach((t=>{t.material.map=e.texture})),"dark"===P.colorChange.type?this.model.children.forEach((t=>{t.material.color=new x.k("#151515"),t.material.map=e.texture.dark})):this.model.children.forEach((t=>{t.material.map=e.texture.blue}))}async init(){await new Promise((e=>{this.animations=this.gltf.animations,this.animationMixer=new x.b(this.model);let t=0;for(;t<this.animations.length;t++)this.animationMixer.clipAction(this.animations[t]).play();this.setSize(),this.updatePosition(),this.canUpdate=!0,e()}))}setSize(){this.widthWindowHalf=.5*this.stage.stageSize.width,this.heightWindowHalf=.5*this.stage.stageSize.height,this.el&&(this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.sizeRatio=this.width),this.setModelSize(),this.model.position.z=3*this.widthHalf}setModelSize(){this.el,this.model.scale.set(this.sizeRatio,this.sizeRatio,this.sizeRatio)}updatePosition(e,t,i=0){this.el&&(this.model.position.x=-this.widthWindowHalf+this.el.left+this.widthHalf+this.addTranslateX,this.model.position.y=e-this.el.top-this.el.position.y+this.heightWindowHalf-this.heightHalf-15*(Math.sin(this.time)+.5))}onResize(){this.setSize(),this.updatePosition()}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this.el&&this.el.isInView&&this.model&&this.canUpdate?(this.model.visible||(this.model.visible=!0),this.updatePosition(e,t,i),this.time+=i,this.model.rotation.x=this.startRotation.x,this.model.rotation.y=this.startRotation.y,this.model.rotation.z=this.startRotation.z):this.model.visible&&(this.model.visible=!1)}setEl(e){this.el=e,this.el.$el.style.visibility="hidden",this.startRotation={x:parseFloat(this.el.$el.dataset.rotationX)||0,y:parseFloat(this.el.$el.dataset.rotationY)||0,z:parseFloat(this.el.$el.dataset.rotationZ)||0},this.rotationRatio.x=parseFloat(this.el.$el.dataset.rotationMoveX)||0,this.rotationRatio.y=parseFloat(this.el.$el.dataset.rotationMoveY)||0,this.rotationRatio.z=parseFloat(this.el.$el.dataset.rotationMoveZ)||0}clearEl(){this.el=null}hide(){this.model.visible=!1}show(){this.model.visible=!0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}async transitionOutDefault(e=1.5){this.el&&this.el.isInView&&n.a.to(this,e,{addTranslateX:-.1*window.innerWidth,ease:"cubic.inOut",onComplete:()=>{this.addTranslateX=0}})}}class D{constructor(e){this.parent=e.parent,this.gltf=e.gltf,this.model=this.gltf.scene.clone(),this.stage=e.stage,this.count=e.count,this.info=e.data,"dark"===P.colorChange.type?this.model.children.forEach(((e,t)=>{e.material&&(e.material.color=new x.k("#151515"))})):this.model.children.forEach(((e,t)=>{e.material&&(e.material.color=new x.k("#0f10ac"))})),window.isMobileLayout?this.basePosition={x:parseFloat(this.info.posSpX)||parseFloat(this.info.posX)||0,y:parseFloat(this.info.posSpY)||parseFloat(this.info.posY)||0,z:parseFloat(this.info.posSpZ)||parseFloat(this.info.posZ)||0}:this.basePosition={x:parseFloat(this.info.posX)||0,y:parseFloat(this.info.posY)||0,z:parseFloat(this.info.posZ)||0},this.baseRotation={x:parseFloat(this.info.rotationX)||0,y:parseFloat(this.info.rotationY)||0,z:parseFloat(this.info.rotationZ)||0},this.$el=e.$el,this.time=0,this.sizeCheckRatio={x:.125,y:.175},this.sizeRatio=0,this.sizeRatioCurrent=0,this.widthWindowHalf=0,this.animationMixer=null,this.canUpdate=!1,this.isCurrent=!1,this.startRotation={x:0,y:0,z:0},this.rotationRatio={x:0,y:0,z:0},this.addTranslateX=0,this.top=0,this.left=0}async init(){await new Promise((e=>{this.animations=this.gltf.animations,this.animationMixer=new x.b(this.model);let t=0;for(;t<this.animations.length;t++)this.animationMixer.clipAction(this.animations[t]).play();this.setSize(),this.updatePosition(),this.canUpdate=!0,e()}))}setSize(){if(this.widthWindowHalf=.5*this.stage.stageSize.width,this.heightWindowHalf=.5*this.stage.stageSize.height,this.$el){const e=this.$el.getBoundingClientRect();this.width=e.width,this.height=e.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.sizeRatio=this.width,this.top=e.top,this.left=e.left}this.setModelSize(),this.model.position.z=170*this.basePosition.z}setModelSize(){this.model.scale.set(this.sizeRatio,this.sizeRatio,this.sizeRatio)}updatePosition(e,t,i=0){this.$el&&(this.model.position.x=this.basePosition.x*this.width,this.model.position.y=this.basePosition.y*this.width)}onResize(){this.setSize(),this.updatePosition()}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this.model&&this.canUpdate&&(this.updatePosition(e,t,i),this.time+=i,this.model.rotation.x=this.baseRotation.x,this.model.rotation.z=this.baseRotation.z,this.model.rotation.y=this.baseRotation.y+.3*this.time)}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}}class ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform  vec2 uMeshScale;\n\nattribute vec2 uv;\nattribute vec3 position;\nattribute vec4 color;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n\n  vec3 pos = position;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\n//uniform float uAspectRatio;\nuniform vec2 uResWin;\nuniform sampler2D uTexture;\nuniform float uOpacity;\n\nvarying vec2 vUv;\n//const float PI = 3.14159265359;\n\nvoid main() {\n    gl_FragColor = vec4( vec3(1.,0.,0.), uOpacity );\n}\n",geometry:o=null,material:n=null,width:a=1,height:r=1,widthSegments:h=8,heightSegments:l=8,isWireframe:u=!0}){this.stage=e,this.width=a,this.height=r,this.widthHalf=.5*a,this.heightHalf=.5*r,this.screenWidthHalf=.5*e.stageSize.width,this.screenHeightHalf=.5*e.stageSize.height,this.vs=i,this.fs=s,this.isInView=!1,this.uniforms={uOpacity:{value:0},uTime:{value:0},uResolutionWindow:{value:{x:window.innerWidth,y:window.innerHeight}}},Object.assign(this.uniforms,t),this.mesh=null,this.geometry=o||new x.bb(1,1,h,l),this.material=n||new x.kb({vertexShader:this.vs,fragmentShader:this.fs,depthTest:!1,transparent:!0,wireframe:u})}init(){this.el&&this.el.$el&&(this.el.$el.style.visibility="hidden"),this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize()}setMeshSize(){}setBaseSize(e){this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=e.width,this.height=e.height}onResize(e={width:1,height:1}){this.setBaseSize(e),this.setMeshSize()}onUpdate(){}}class N extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\nvec2 rotation2d(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n}\n\n    \n\nuniform bool uIsMobileLayout;\n\nuniform float uTime;\nuniform float uProgress;\nuniform float uProgress2;\nuniform float uProgress2Curve;\nuniform float uStartFade;\nuniform float uStartRotate;\nuniform float uStartScale;\n\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\nuniform vec3 uColor2;\n\nuniform sampler2D uTextureHeadBlue;\nuniform sampler2D uTextureFootBlue;\nuniform sampler2D uTextureHeadWhite;\nuniform sampler2D uTextureFootWhite;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n    vec2 uvRatio = vec2(\n        min((uMeshSize.x / uMeshSize.y) ,1.),\n        min((uMeshSize.y / uMeshSize.x) ,1.)\n    );\n\n    uvTexture -= 0.5;\n    if( uIsMobileLayout ){\n        uvTexture *= uvRatio * 1600. / 460.8 * max(1., uMeshSize.x / 500.);\n    } else {\n        uvTexture *= uvRatio * 1600. / 256. * max(1., uMeshSize.x / 1800.);\n    }\n\n    uvTexture /= 1. + uStartScale * 0.75;\n    uvTexture += 0.5;\n\n    uvTexture.y -= 0.1;\n\n    vec2 uvLogoHead = uvTexture;\n    uvLogoHead -= 0.5;\n    uvLogoHead = rotation2d( uvLogoHead, uTime + uProgress2 * 2. + uStartRotate * 2. );\n    uvLogoHead += 0.5;\n\n    vec4 cTexHB = texture2D(uTextureHeadBlue, uvLogoHead);\n    vec4 cTexFB = texture2D(uTextureFootBlue, uvTexture);\n    vec4 cTexB = mix(cTexHB, cTexFB, smoothstep( 0., cTexHB.a, cTexFB.a ));\n    vec4 cColor1 = mix( vec4(uColor, 1.), cTexB, smoothstep(0., 1. , cTexB.a) );\n\n    vec4 cTexHW = texture2D(uTextureHeadWhite, uvLogoHead);\n    vec4 cTexFW = texture2D(uTextureFootWhite, uvTexture);\n    vec4 cTexW = mix(cTexHW, cTexFW, smoothstep( 0., cTexHW.a, cTexFW.a ));\n    vec4 cColor2 = mix( vec4(uColor2, 1.), vec4(cTexW.rgb, 1.), smoothstep(0., 1. , cTexW.a) );\n\n    vec4 cDist = mix(\n        cColor1,\n        cColor2,\n        step(1. - vUv.x, uProgress)\n    );\n\n    float curveRatio = uMeshSize.x / uMeshSize.y;\n    vec2 uvCurve = vUv * 2. - 1.;\n\n    float uCureveStlength = uIsMobileLayout ? 0.15 : 0.275;\n    float uvSin = (1. - pow( abs( uvCurve.y ),  2. ) ) * uProgress2Curve * uCureveStlength / curveRatio;\n\n    cDist.a = mix(cDist.a, 0., step( 1. - vUv.x - uvSin * uProgress2, uProgress2 ));\n    cDist.a *= uStartFade;\n\n    gl_FragColor = cDist;\n}\n",geometry:o=null,width:n=1,height:a=1,textureLogoHeadBlue:r=null,textureLogoFootBlue:h=null,textureLogoHeadWhite:l=null,textureLogoFootWhite:u=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,width:n,height:a,isWireframe:!1}),this.tweenProgress=null,Object.assign(this.uniforms,{uMeshSize:{value:{x:n,y:a}},uMeshSizeRatio:{value:{x:n/(n+a),y:a/(n+a)}},uTextureHeadBlue:{value:r},uTextureFootBlue:{value:h},uTextureHeadWhite:{value:l},uTextureFootWhite:{value:u},uProgress:{value:0},uProgress2:{value:0},uProgress2Curve:{value:1},uColor:{value:"dark"===P.colorChange.type?new x.k(1381653):new x.k(16777215)},uColor2:{value:"dark"===P.colorChange.type?new x.k(2500134):new x.k(1521100)},uTime:{value:0},uStartFade:{value:0},uStartScale:{value:1},uStartRotate:{value:0},uIsMobileLayout:{value:window.isMobileLayout}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.canUpdate=!0,this.setMeshSize(),this.setMeshPosition()}reinit(){this.setMeshSize()}setMeshSize(){const e={width:this.stage.stageSize.width,height:this.stage.stageSize.height};this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=e.width,this.height=e.height,this.heightHalf=.5*e.height,this.widthHalf=.5*e.width,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition(){this.mesh.position.x=0,this.mesh.position.y=0,this.mesh.position.z=.15}onResize(){this.setMeshSize()}onUpdate({timeDelta:e=0}){this.uniforms.uTime.value+=e}}class F extends ${constructor({stage:e,uniforms:t={},vs:i='#define GLSLIFY 1\n// #pragma glslify: PI = require("../utility/PI.glsl");\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n',fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform float uHypotenuseRatio;\nuniform float uMaskIn;\nuniform float uMaskOut;\nuniform float uMaskCurveIn;\nuniform float uMaskCurveOut;\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\nuniform bool uIsMobileLayout;\nvarying vec2 vUv;\n\nvoid main() {\n    float curveRatio = uMeshSize.x / uMeshSize.y;\n    float cureveSrength = uIsMobileLayout ?  0.115 : 0.15;\n\n    vec2 uvCover = vUv * 2. - 1.;\n    float uvSinIn = (1. - pow( abs( uvCover.y ),  2. ) ) * uMaskCurveIn * cureveSrength / curveRatio;\n    float uvSinOut =(1. - pow( abs( uvCover.y ),  2. ) ) * uMaskCurveOut  * cureveSrength / curveRatio;\n\n    vec4 cDist = vec4(uColor , 1.);\n    cDist.a = mix( cDist.a, 0. , step( uMaskIn, 1. - vUv.x - uvSinIn ) );\n    cDist.a = mix( cDist.a, 0. , step( uMaskOut, vUv.x + uvSinOut ) );\n\n    gl_FragColor = cDist;\n}\n",geometry:o=null,width:n=1,height:a=1}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,width:n,height:a,isWireframe:!1}),this.canUpdate=!1,this.tweenProgressIn=null,this.tweenProgressCurveIn=null,this.tweenProgressOut=null,this.tweenProgressCurveOut=null,this.isTransitioning=!1,Object.assign(this.uniforms,{uMeshSize:{value:{x:n,y:a}},uMeshSizeRatio:{value:{x:n/(n+a),y:a/(n+a)}},uOpacity:{value:0},uMaskIn:{value:0},uMaskOut:{value:1},uMaskCurveIn:{value:0},uMaskCurveOut:{value:0},uColor:{value:"dark"===P.colorChange.type?new x.k("#262626"):new x.k("#1735cc")},uIsMobileLayout:{value:window.isMobileLayout}}),this.speed=window.isMobileLayout?.8:1,this.speedHalf=.5*this.speed}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.canUpdate=!0,this.mesh.visible=!1,this.setMeshSize(),this.setMeshPosition()}reinit(){this.setMeshSize()}setMeshSize(){const e={width:this.stage.stageSize.width,height:this.stage.stageSize.height};this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=e.width,this.height=e.height,this.heightHalf=.5*e.height,this.widthHalf=.5*e.width,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition(){this.mesh.position.x=0,this.mesh.position.y=0,this.mesh.position.z=.1}hide(){this.uniforms.uOpacity.value=0,this.mesh.visible=!1}show(){this.uniforms.uOpacity.value=1,this.mesh.visible=!0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}onResize(){this.setMeshSize()}onUpdate({timeDelta:e=0}){}async in(){this.isTransitioning||this.stage.scene.add(this.mesh),this.isTransitioning=!0,await new Promise((e=>{this.mesh.visible=!0,requestAnimationFrame((()=>{h.clearTween(this.tweenProgressIn),h.clearTween(this.tweenProgressCurveIn),this.tweenProgressIn=n.a.to(this.uniforms.uMaskIn,this.speed,{value:1,ease:"cubic.inOut",onComplete:()=>{h.clearTween(this.tweenProgressIn),h.clearTween(this.tweenProgressCurveIn),this.tweenProgressIn=null,this.tweenProgressCurveIn=null,requestAnimationFrame((()=>{e()}))}}),this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.speedHalf,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveIn),this.tweenProgressCurveIn=null,this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.speedHalf,{value:0,ease:"cubic.out"})}})}))}))}async out(){await new Promise((e=>{requestAnimationFrame((()=>{h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.tweenProgressOut=n.a.to(this.uniforms.uMaskOut,this.speed,{value:0,ease:"cubic.inOut",onComplete:()=>{requestAnimationFrame((()=>{this.uniforms.uMaskOut.value=1,this.uniforms.uMaskIn.value=0,h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.stage.scene.remove(this.mesh),this.isTransitioning=!1,this.mesh.visible=!1,requestAnimationFrame((()=>{e()}))}))}}),n.a.to(this.uniforms.uMaskCurveOut,this.speedHalf,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveOut),this.tweenProgressCurveOut=null,this.tweenProgressCurveOut=n.a.to(this.uniforms.uMaskCurveOut,this.speedHalf,{value:0,ease:"cubic.out"})}})}))}))}async out2(){await new Promise((e=>{requestAnimationFrame((()=>{h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.tweenProgressOut=n.a.to(this.uniforms.uMaskOut,1.4,{value:-.5,ease:"cubic.inOut",onComplete:()=>{requestAnimationFrame((()=>{this.uniforms.uMaskOut.value=1,this.uniforms.uMaskIn.value=0,h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.stage.scene.remove(this.mesh),this.isTransitioning=!1,this.mesh.visible=!1,requestAnimationFrame((()=>{e()}))}))}}),n.a.to(this.uniforms.uMaskCurveOut,.7,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveOut),this.tweenProgressCurveOut=null,this.tweenProgressCurveOut=n.a.to(this.uniforms.uMaskCurveOut,.7,{value:0,ease:"cubic.out"})}})}))}))}}class O extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uBounce;\nuniform vec2 uMeshScaleRatio;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  vec3 pos = position;\n\n  vec2 scaleUv =  vUv;\n  scaleUv -= 0.5;\n  scaleUv *= uMeshScaleRatio;\n  scaleUv += 0.5;\n\n  float curve = ( sin( (scaleUv.x + 1.) * PI ) + 1. ) * uBounce * 0.0125;\n  pos.z += curve;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform float uLayerSwitch;\nuniform float uMaskTranslate;\nuniform float uCenterMaskProgress;\nuniform float uUvMaskRatioX;\n\nuniform vec2 uMeshSize;\nuniform vec2 uMeshScaleRatio;\nuniform vec2 uModelMaskSize;\n\nuniform vec3 uBaseColor;\n\nuniform bool uIsMobileLayout;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvMask = vUv;\n    vec2 modelMaskRatio = vec2(\n    uModelMaskSize.x / uMeshSize.x,\n    uModelMaskSize.y / uMeshSize.y\n    );\n\n    uvMask -= 0.5;\n    uvMask *= uMeshScaleRatio;\n    uvMask += 0.5;\n\n    vec2 uvFrontCover = uvMask;\n    uvFrontCover.x += uCenterMaskProgress * 0.0275;\n    uvFrontCover.x = mod(uvFrontCover.x, 1.);\n\n    uvMask.x -= uMaskTranslate / uMeshSize.x;\n    uvMask.x += uCenterMaskProgress * 0.0275;\n    uvMask.x = mod(uvMask.x, 1.);\n\n    vec2 modelMaskRatioHalf = modelMaskRatio * 0.5;\n\n    float yRatio = (uMeshSize.y - uModelMaskSize.y) / uMeshSize.y * 0.5;\n    vec4 cBase = vec4(uBaseColor, 1.);\n    vec4 cDist = cBase;\n    vec4 cFrontCover = cBase;\n    bool maskY = yRatio <=  uvMask.y && uvMask.y <= 1. - yRatio;\n\n    if (uIsMobileLayout){\n        if (maskY){\n            // z-index 1\n            if (uvFrontCover.x > uUvMaskRatioX && uvFrontCover.x < 1. - uUvMaskRatioX) cFrontCover.a = 0.;\n            if (uvMask.x > uUvMaskRatioX && uvMask.x < 1. - uUvMaskRatioX) cDist.a = 0.;\n        }\n    } else {\n        if (maskY){\n            // z-index 1\n            if (uvFrontCover.x <= modelMaskRatioHalf.x * 0. || uvFrontCover.x > 0.5 - modelMaskRatioHalf.x){\n                if (1. - uvFrontCover.x >= 0.5 - modelMaskRatioHalf.x || 1. - uvFrontCover.x < modelMaskRatioHalf.x * 0.) cFrontCover.a = 0.;\n            }\n\n            // z-index 0\n            if (uvMask.x <= modelMaskRatioHalf.x || uvMask.x > 0.5 - modelMaskRatioHalf.x){\n                if (1. - uvMask.x >= 0.5 - modelMaskRatioHalf.x || 1. - uvMask.x < modelMaskRatioHalf.x) cDist.a = 0.;\n            }\n        }\n    }\n\n    cDist = mix(cDist, cFrontCover, uLayerSwitch);\n\n    float centerPanelStart = 0.5 - modelMaskRatioHalf.x;\n    float centerPanelEnd =  0.5 + modelMaskRatioHalf.x;\n    float centerPanelDiff = centerPanelEnd - centerPanelStart;\n    bool centerPanalMask = centerPanelEnd - centerPanelDiff * uCenterMaskProgress <= uvFrontCover.x && uvFrontCover.x <= centerPanelEnd;\n\n    if (centerPanalMask) cDist.a = 1.;\n\n    gl_FragColor = cDist;\n}\n",geometry:o=null,width:n=1,height:a=1,mainNavSlider:r=null,texture:h=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,width:n,height:a,isWireframe:!1}),this.canUpdate=!1,this.mainNavSlider=r,this.sizeRatio=0,window.isMobileLayout?this.sizeCheckRatio={x:.225,y:.315}:this.sizeCheckRatio={x:.125,y:.175},Object.assign(this.uniforms,{uMeshSize:{value:{x:n,y:a}},uMeshSizeRatio:{value:{x:n/(n+a),y:a/(n+a)}},uModelMaskSize:{value:{x:0,y:0}},uMaskTranslate:{value:0},uCenterMaskProgress:{value:0},uBounce:{value:0},uPeriod:{value:0},uOpacity:{value:0},uMeshScaleRatio:{value:{x:1.25,y:1.75}},uLayerSwitch:{value:0},uIsMobileLayout:{value:window.isMobileLayout},uUvMaskRatioX:{value:0},uBaseColor:{value:"dark"===P.colorChange.type?new x.k("#151515"):new x.k("#fff")}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.canUpdate=!0,this.setMeshSize()}reinit(){this.setMeshSize()}setMeshSize(){const e={width:this.stage.stageSize.width,height:this.stage.stageSize.height};this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=e.width,this.height=e.height,this.heightHalf=.5*e.height,this.widthHalf=.5*e.width,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.sizeRatio=Math.min(this.sizeCheckRatio.x*window.innerWidth,this.sizeCheckRatio.y*window.innerHeight),this.mesh.scale.set(this.width*this.uniforms.uMeshScaleRatio.value.x,this.height*this.uniforms.uMeshScaleRatio.value.y,this.sizeRatio),this.uniforms.uModelMaskSize.value.x=this.mainNavSlider.panelSize.x,this.uniforms.uModelMaskSize.value.y=this.mainNavSlider.panelSize.y,window.isMobileLayout&&(this.uniforms.uUvMaskRatioX.value=(this.uniforms.uMeshSize.value.x-this.mainNavSlider.panelSize.x)/this.uniforms.uMeshSize.value.x*.5),this.uniforms.uPeriod.value=this.mainNavSlider.period}setMeshPosition(){this.mesh.position.x=0,this.mesh.position.y=0}hide(){this.uniforms.uOpacity.value=0,this.uniforms.uLayerSwitch.value=0,this.uniforms.uCenterMaskProgress.value=0,this.mesh.visible=!1}show(){this.uniforms.uOpacity.value=1,this.mesh.visible=!0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}onResize(){this.setMeshSize()}onUpdate({timeDelta:e=0}){this.canUpdate&&(this.uniforms.uTime.value+=e,this.uniforms.uMaskTranslate.value=-this.mainNavSlider.progressComplete*this.mainNavSlider.period,this.uniforms.uBounce.value=300*this.mainNavSlider.deltaEaseAbs,this.setMeshPosition())}async toggle(e,t){const i=e?1:0;await n.a.to(this.uniforms.uLayerSwitch,t,{value:i,ease:"none"})}async toggleCenterMask(e=!0,t,i){const s=e?1:0;await n.a.to(this.uniforms.uCenterMaskProgress,1,{value:s,ease:"quart.inOut",delay:i})}}class H extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uBounce;\nuniform vec2 uMeshScaleRatio;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvoid main()  {\n  vec3 pos = position;\n  vec2 scaleUv =  uv;\n\n  scaleUv -= 0.5;\n  scaleUv *= uMeshScaleRatio;\n  scaleUv += 0.5;\n\n  float curve = ( sin( (scaleUv.x + 1.) * PI ) + 1. ) * uBounce * 0.0125;\n  pos.z += curve;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 uColorBg;\n\nvoid main() {\n    vec4 cDist = vec4(uColorBg, 1.);\n    gl_FragColor = cDist;\n}\n",geometry:o=null,width:n=1,height:a=1,mainNavSlider:r=null,texture:h=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,width:n,height:a,isWireframe:!1}),this.canUpdate=!1,this.mainNavSlider=r,this.sizeRatio=0,this.sizeCheckRatio={x:.125,y:.175},Object.assign(this.uniforms,{uMeshSize:{value:{x:n,y:a}},uBounce:{value:0},uMeshScaleRatio:{value:{x:1.25,y:1.75}},uColorBg:{value:"dark"===P.colorChange.type?new x.k("#1c1c1c"):new x.k(15527407)}})}init(){this.material.uniforms=this.uniforms,this.material.depthTest=!0,this.material.depthWrite=!0,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.canUpdate=!0,this.setMeshSize()}reinit(){this.setMeshSize()}setMeshSize(){const e={width:this.stage.stageSize.width,height:this.stage.stageSize.height};this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=e.width,this.height=e.height,this.heightHalf=.5*e.height,this.widthHalf=.5*e.width,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.sizeRatio=Math.min(this.sizeCheckRatio.x*window.innerWidth,this.sizeCheckRatio.y*window.innerHeight),this.mesh.scale.set(this.width*this.uniforms.uMeshScaleRatio.value.x,this.height*this.uniforms.uMeshScaleRatio.value.y,this.sizeRatio)}setMeshPosition(){this.mesh.position.x=0,this.mesh.position.y=0,this.mesh.position.z=-300}hide(){this.mesh.visible=!1}show(){this.mesh.visible=!0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}onResize(){this.setMeshSize()}onUpdate({timeDelta:e=0}){this.canUpdate&&(this.uniforms.uBounce.value=300*this.mainNavSlider.deltaEaseAbs,this.setMeshPosition())}}class k extends ${constructor({gl:e,stage:t,uniforms:i={},vs:s="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nmat3 rotation3dX(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0, c, s,\n        0.0, -s, c\n    );\n}\n\nmat3 rotation3dY(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, 0.0, -s,\n    0.0, 1.0, 0.0,\n    s, 0.0, c\n    );\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTransitionScale;\nuniform float uBounceAbs;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  vec3 pos = position;\n  pos *= rotation3dY(uTransitionScale * PI * 0.375);\n  pos *= rotation3dX(uTransitionScale * PI * 0.05);\n\n  float curve = (sin( (pos.x - 1.)  * PI ) + 1.) * 0.5 * uBounceAbs * 1.;\n  pos.z += curve;\n\n  pos *= 1. + uTransitionScale * 0.25;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:o="precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uTransitionFade;\nuniform float uBounce;\nuniform float uProgress;\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureSize;\n\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n    vec2 uvCurve = vUv;\n\n    uvCurve -= 0.5;\n    uvCurve *= 3.;\n    uvCurve += 0.5;\n\n    float curve = sin( uvCurve.y * PI ) * clamp( uBounce , -0.5, 0.5 ) * 0.175;\n\n    uvTexture.x /= ( uTextureSize.x / uMeshSize.x );\n    uvTexture -= 0.5;\n    uvTexture.y /= ( uTextureSize.y / uMeshSize.y );\n    uvTexture += 0.5;\n\n    uvTexture.x += uProgress;\n    uvTexture.x = mod( uvTexture.x, 1. );\n\n    vec4 cDist = texture2D( uTexture , uvTexture);\n    cDist.a *= uTransitionFade;\n\n    gl_FragColor = cDist;\n}\n",geometry:n=null,mainNavSlider:a=null,canvas2d:r=null,$el:h=null}){super({stage:t,uniforms:i,vs:s,fs:o,geometry:n,isWireframe:!1}),this.gl=e,this.canUpdate=!0,this.mainNavSlider=a,this.canvas2d=r,this.sizeRatio=0,this.sizeCheckRatio={x:.125,y:.175},this.$el=h,this.tweenRoate=null,this.tweenScale=null,this.tweenFade=null,Object.assign(this.uniforms,{uOpacity:{value:1},uMeshSize:{value:{x:0,y:0}},uMeshSizeRatio:{value:{x:0,y:0}},uBounceAbs:{value:0},uBounce:{value:0},uPeriod:{value:0},uTexture:{value:new x.h(this.canvas2d.$canvas)},uProgress:{value:0},uTranslate:{value:{x:0,y:0}},uTextureSize:{value:{x:this.canvas2d.canvasSize.x,y:this.canvas2d.canvasSize.y}},uOffsetRatio:{value:0},uTransitionRotate:{value:0},uTransitionScale:{value:0},uTransitionFade:{value:1}}),this.uniforms.uTexture.value.minFilter=x.G}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setMeshPosition()}reinit(){this.setMeshSize()}onResize(){this.setMeshSize(),this.setMeshPosition()}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}hide(){this.uniforms.uOpacity.value=0,this.mesh.visible=!1,h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=0,this.uniforms.uTransitionScale.value=0,this.uniforms.uTransitionFade.value=1}show(){this.uniforms.uOpacity.value=1,this.mesh.visible=!0}async hideAnimation(e,t=!0){await new Promise((i=>{h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=0,this.uniforms.uTransitionScale.value=0,this.uniforms.uTransitionFade.value=1,requestAnimationFrame((()=>{t&&(this.tweenRoate=n.a.to(this.uniforms.uTransitionRotate,1.4*e,{value:1,ease:"cubic.inOut",onComplete:()=>{}}),this.tweenScale=n.a.to(this.uniforms.uTransitionScale,1.75*e,{value:1,ease:"cubic.inOut",onComplete:()=>{}})),this.tweenFade=n.a.to(this.uniforms.uTransitionFade,e,{value:0,ease:"none",onComplete:()=>{requestAnimationFrame((()=>{i()}))}})}))}))}async showAnimation(){await new Promise((e=>{h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=1,this.uniforms.uTransitionScale.value=1,this.uniforms.uTransitionFade.value=0,this.tweenRoate=n.a.to(this.uniforms.uTransitionRotate,1.25,{value:0,ease:"expo.out"}),this.tweenScale=n.a.to(this.uniforms.uTransitionScale,1.25,{value:0,ease:"expo.out",onComplete:()=>{e()}}),this.tweenFade=n.a.to(this.uniforms.uTransitionFade,1,{value:1,ease:"none"})}))}onUpdate({timeDelta:e=0}){this.canUpdate&&(this.uniforms.uTime.value+=e,this.uniforms.uProgress.value=this.mainNavSlider.progressComplete/this.mainNavSlider.originalItemLength,this.uniforms.uBounce.value=this.mainNavSlider.deltaEase,this.uniforms.uBounceAbs.value=this.mainNavSlider.deltaEaseAbs)}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.uniforms.uTextureSize.value.x=this.canvas2d.canvasSize.x,this.uniforms.uTextureSize.value.y=this.canvas2d.canvasSize.y;const e=this.$el.getBoundingClientRect();this.width=e.width,this.height=e.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.sizeRatio=Math.min(this.sizeCheckRatio.x*this.stage.stageSize.width,this.sizeCheckRatio.y*this.stage.stageSize.height),this.mesh.scale.set(this.width,this.height,this.sizeRatio)}setMeshPosition(){this.mesh.position.x=-this.screenWidthHalf+h.getTargetOffset(this.$el).left+this.widthHalf,this.mesh.position.y=-h.getTargetOffset(this.$el).top+this.screenHeightHalf-this.heightHalf,this.mesh.position.z=0}}class I extends ${constructor({gl:e=null,stage:t,uniforms:i={},vs:s="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nmat3 rotation3dX(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0, c, s,\n        0.0, -s, c\n    );\n}\n\nmat3 rotation3dY(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, 0.0, -s,\n    0.0, 1.0, 0.0,\n    s, 0.0, c\n    );\n}\n\nmat3 rotation3dZ(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, s, 0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0\n    );\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uBounceAbs;\nuniform float uProgress;\nuniform float uRotation;\n\nuniform float uTransitionRotate;\nuniform float uTransitionScale;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  vec3 pos = position;\n\n  pos *= rotation3dZ(uRotation - uProgress * PI - uTransitionRotate * PI * 0.25);\n  pos *= rotation3dY( abs(uTransitionScale) * PI * 0.375);\n  pos *= rotation3dX( abs(uTransitionScale) * PI * 0.05);\n\n  float curve = (sin( (pos.x - 1.)  * PI ) + 1. ) * 0.5  * uBounceAbs * 1.;\n  pos.z += curve;\n\n  pos *= 1. + uTransitionScale * 0.25;\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:o="precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uOpacity;\nuniform float uProgress;\nuniform float uTransitionFade;\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureSize;\nuniform vec3 uColor;\nuniform sampler2D uTexture;\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvTexture = vUv;\n\n    vec4 cDist = texture2D( uTexture , uvTexture);\n    cDist.a *= uOpacity;\n    cDist.a *= uTransitionFade;\n\n    cDist.rgb = uColor;\n\n    gl_FragColor = cDist;\n}\n",geometry:n=null,mainNavSlider:a=null,$el:r=null}){super({stage:t,uniforms:i,vs:s,fs:o,geometry:n,isWireframe:!1}),this.gl=e,this.canUpdate=!0,this.mainNavSlider=a,this.$el=r,this.sizeRatio=0,this.sizeCheckRatio={x:.125,y:.175},this.isTransition=!1,Object.assign(this.uniforms,{uMeshSize:{value:{x:0,y:0}},uMeshSizeRatio:{value:{x:0,y:0}},uTexture:{value:null},uProgress:{value:0},uRotation:{value:0},uBounce:{value:0},uBounceAbs:{value:0},uOpacity:{value:1},uTransitionRotate:{value:0},uTransitionScale:{value:0},uTransitionFade:{value:1},uColor:{value:"dark"===P.colorChange.type?new x.k("#a2a2a2"):new x.k("#1735cc")}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.mesh.material.side=x.o,this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setMeshPosition()}setTexture(e,t){e&&(e.minFilter=x.G),this.texture&&this.texture.dispose(),this.uniforms.uTexture.value&&this.uniforms.uTexture.value.dispose(),this.texture=e,this.uniforms.uTexture.value=this.texture}reinit(){this.setMeshSize()}onResize(){this.setMeshSize(),this.setMeshPosition()}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}hide(){this.uniforms.uOpacity.value=0,this.mesh.visible=!1,h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=0,this.uniforms.uTransitionScale.value=0,this.uniforms.uTransitionFade.value=1}show(){this.uniforms.uOpacity.value=1,this.mesh.visible=!0}async hideAnimation(e,t=!0){await new Promise((i=>{this.isTransition=!0,h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=0,this.uniforms.uTransitionScale.value=0,this.uniforms.uTransitionFade.value=1,requestAnimationFrame((()=>{this.tweenRoate=n.a.to(this.uniforms.uTransitionRotate,1.6*e,{value:-1*this.gl.rotationDirection,ease:"cubic.inOut",onComplete:()=>{}}),t&&(this.tweenScale=n.a.to(this.uniforms.uTransitionScale,1.9*e,{value:1,ease:"cubic.inOut",onComplete:()=>{}})),this.tweenFade=n.a.to(this.uniforms.uTransitionFade,e,{value:0,ease:"none",onComplete:()=>{requestAnimationFrame((()=>{this.isTransition=!1,i()}))}})}))}))}async showAnimation(){await new Promise((e=>{h.clearTween(this.tweenRoate),h.clearTween(this.tweenScale),h.clearTween(this.tweenFade),this.uniforms.uTransitionRotate.value=1,this.uniforms.uTransitionScale.value=1,this.uniforms.uTransitionFade.value=0,this.tweenRoate=n.a.to(this.uniforms.uTransitionRotate,1.25,{value:0,ease:"expo.out"}),this.tweenScale=n.a.to(this.uniforms.uTransitionScale,1.25,{value:0,ease:"expo.out",onComplete:()=>{e()}}),this.tweenFade=n.a.to(this.uniforms.uTransitionFade,1,{value:1,ease:"none"})}))}onUpdate({timeDelta:e=0}){this.canUpdate&&!this.isTransition&&(this.uniforms.uTime.value+=e,this.uniforms.uProgress.value=this.mainNavSlider.progressComplete/this.mainNavSlider.originalItemLength,this.uniforms.uBounce.value=this.mainNavSlider.deltaEase,this.uniforms.uBounceAbs.value=this.mainNavSlider.deltaEaseAbs,this.uniforms.uRotation.value+=.1*this.mainNavSlider.deltaEase,this.gl.rotationDirection<1?this.uniforms.uRotation.value-=.3*e:this.uniforms.uRotation.value+=.3*e)}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height;const e=this.$el.getBoundingClientRect();this.width=e.width,this.height=e.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.sizeRatio=Math.min(this.sizeCheckRatio.x*this.stage.stageSize.width,this.sizeCheckRatio.y*this.stage.stageSize.height),this.mesh.scale.set(this.width,this.height,this.sizeRatio)}setMeshPosition(){this.mesh.position.x=-this.screenWidthHalf+h.getTargetOffset(this.$el).left+this.widthHalf,this.mesh.position.y=-h.getTargetOffset(this.$el).top+this.screenHeightHalf-this.heightHalf,this.mesh.position.z=0}}class B extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nmat3 rotation3dX(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0, c, s,\n        0.0, -s, c\n    );\n}\n\nmat3 rotation3dY(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, 0.0, -s,\n    0.0, 1.0, 0.0,\n    s, 0.0, c\n    );\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uProgress;\nuniform float uBounceAbs;\nuniform float uTransitionScale;\nuniform vec2 uResolutionWindow;\n\nattribute vec2 uv;\nattribute vec3 position;\nattribute vec4 color;\n\nvarying vec2 vUv;\n\nvoid main()  {\n    vUv = uv;\n    vec3 pos = position;\n    pos *= rotation3dX(uProgress * PI * 2. + 0.115 * min(1.1,uResolutionWindow.x / uResolutionWindow.y));\n\n    float curveZ = (sin((vUv.x + 1.)  * PI) + 1. ) * 0.5 * 6.;\n    pos.z += curveZ * uBounceAbs;\n\n    pos.y += uTransitionScale * 0.0125;\n    pos.xy *= 1. - uTransitionScale * 0.0375;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nvec2 rotation2d(vec2 v, float a) {\n    float s = sin(a);\n    float c = cos(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m * v;\n}\n\n    \n\nuniform float uMaterialNum;\nuniform float uProgressFade;\nuniform float uDotScale;\nuniform float uArrowFade;\nuniform float uArrowTranslate;\nuniform float uTransitionFade;\nuniform vec2 uDotOffsetRatio;\n\nuniform vec2 uMeshSize;\nuniform vec2 uTextureSize;\n\nuniform vec3 uColor;\nuniform vec3 uColor2;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureArrow;\n\nuniform bool uIsMobileLayout;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvRatio = vec2(\n    min((uMeshSize.x / uMeshSize.y), 1.),\n    min((uMeshSize.y / uMeshSize.x), 1.)\n    );\n\n    vec2 uvArrow = vUv;\n    uvArrow -= 0.5;\n    uvArrow *= uvRatio;\n    uvArrow += 0.5;\n    uvArrow.x += 0.5 * uvRatio.x;\n    uvArrow.x -= uDotOffsetRatio.x;\n\n    if (uMaterialNum == 1.){\n        uvArrow.y += 0.5 * uvRatio.y;\n        uvArrow.y -= uDotOffsetRatio.y * 0.42 * 0.5;\n    } else {\n        uvArrow.y -= 0.5 * uvRatio.y;\n        uvArrow.y += uDotOffsetRatio.y * 0.42 * 0.5;\n    }\n\n    if (uMaterialNum == 1.){\n        uvArrow -= 0.5;\n        uvArrow = rotation2d(uvArrow, PI);\n        uvArrow += 0.5;\n    }\n\n    uvArrow -= 0.5;\n    uvArrow /= 0.035;\n    uvArrow += 0.5;\n\n    uvArrow.x += (1. - uArrowTranslate) * 0.45;\n\n    vec4 cArrow = texture2D(uTextureArrow, uvArrow);\n    cArrow.rgb = uColor2;\n    cArrow.a *= uArrowFade;\n\n    vec2 uvDot = vUv * 2. - 1.;\n    uvDot *= uvRatio;\n    uvDot.x += 1. * uvRatio.x;\n    uvDot.x -= uDotOffsetRatio.x * 2.;\n    if (uMaterialNum == 1.){\n        uvDot.y += 1. * uvRatio.y;\n        uvDot.y -= uDotOffsetRatio.y * 0.43;\n    } else {\n        uvDot.y -= 1. * uvRatio.y;\n        uvDot.y += uDotOffsetRatio.y * 0.43;\n    }\n\n    if( uIsMobileLayout ){\n        uvDot /= 1. + 5.25 * uDotScale;\n    } else {\n        uvDot /= 1. + 7.5 * uDotScale;\n    }\n\n    uvDot /= 0.022;\n\n    float l = length(uvDot);\n    vec4 dot = mix(vec4(uColor, 1.), vec4(uColor, 0.), smoothstep(.5, .54 + 0.25 * (1. - uDotScale), l));\n    vec4 cDot = dot;\n\n    vec2 uvTexture = vUv;\n\n    uvTexture.x /= (uTextureSize.x / uMeshSize.x);\n    uvTexture.y /= (uTextureSize.y / uMeshSize.y);\n    uvTexture.y += uMaterialNum * 0.25;\n    uvTexture.y = mod(uvTexture.y, 1.);\n\n    if (uvTexture.y >= 0.25 && uvTexture.y <= 0.5){\n        uvTexture -= 0.5;\n        uvTexture = rotation2d(uvTexture, PI);\n        uvTexture += 0.5;\n        uvTexture.y -= 0.25;\n    }\n\n    vec4 cDist = texture2D(uTexture, uvTexture);\n\n    if (uMaterialNum < 0.) cDist.a = 0.;\n\n    cDot.rgb = mix(cDot.rgb, uColor2, smoothstep(0., 1., cDist.a));\n\n    cDist = mix(cDist, cDot, smoothstep(0., 1., cDot.a));\n    cDist = mix(cDist, cArrow, smoothstep(0., 1., cArrow.a));\n    cDist.a *= 1. - uProgressFade;\n\n    cDist.a *= uTransitionFade;\n\n    gl_FragColor = cDist;\n}\n",geometry:o=null,mainNavSlider:n=null,canvas2ds:a=null,$el:r=null,textureArrow:h=null,parent:l=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,isWireframe:!1}),this.canUpdate=!0,this.mainNavSlider=n,this.canvas2ds=a,this.sizeRatio=0,this.sizeCheckRatio={x:.125,y:.175},this.parent=l,this.$el=r,this.$lowerEl=document.querySelector(".cSec_fv_head_ttl"),this.$aMain=document.querySelector(".jsNav_ttls_in"),this.$aAll=document.querySelectorAll(".mNav_li_panel"),this.$about=document.querySelector("#nav-about"),this.$carriers=document.querySelector("#nav-carriers"),this.$journal=document.querySelector("#nav-journal"),this.$contact=document.querySelector("#nav-contact"),this.$aboutSubText=this.$about.querySelector(".mNav_li_txt_sub"),this.$carriersSubText=this.$carriers.querySelector(".mNav_li_txt_sub"),this.$journalSubText=this.$journal.querySelector(".mNav_li_txt_sub"),this.$contactSubText=this.$contact.querySelector(".mNav_li_txt_sub"),this.aboutOffsetRatio={x:0,y:0},this.carriersOffsetRatio={x:0,y:0},this.journalOffsetRatio={x:0,y:0},this.contactOffsetRatio={x:0,y:0},this.textureArrow=h,this.tweenDotScale=new Array(4),this.tweenArrowFade=new Array(4),this.tweenArrowTranslate=new Array(4),this.materials=[],this.lowerPageWidth=0,this.lowerPageWidthHalf=0,this.lowerPageHeight=0,this.lowerPageHeightHalf=0,Object.assign(this.uniforms,{uMeshSize:{value:{x:0,y:0}},uMeshSizeRatio:{value:{x:0,y:0}},uBounceAbs:{value:0},uBounce:{value:0},uPeriod:{value:0},uTexture:{value:new x.h(this.canvas2ds[0].$canvas)},uTextureArrow:{value:h},uProgress:{value:0},uTranslate:{value:{x:0,y:0}},uTextureSize:{value:{x:this.canvas2ds[0].canvasSize.x,y:this.canvas2ds[0].canvasSize.y}},uMaterialNum:{value:0},uProgressAll:{value:0},uProgressFade:{value:0},uColor:{value:"dark"===P.colorChange.type?new x.k("#eeeeee"):new x.k("#1735cc")},uColor2:{value:"dark"===P.colorChange.type?new x.k("#151515"):new x.k("#ffffff")},uDotOffsetRatio:{value:{x:0,y:0}},uDotScale:{value:0},uArrowTranslate:{value:0},uArrowFade:{value:0},uTransitionFade:{value:1},uTransitionScale:{value:0},uIsMobileLayout:{value:window.isMobileLayout}}),this.uniforms.uTexture.value.minFilter=x.G,this.tweenPageTransitionFade=[],this.tweenPageTransitionScale=[],this.isCurrentHome=!this.$lowerEl}init(){this.material.uniforms=this.uniforms;for(let e=0;e<6;e++){let e=this.material.clone();this.materials.push(e)}this.setOffsetRatioSubTextDot(),this.materials[4].uniforms.uMaterialNum.value=3,this.materials[4].uniforms.uTextureArrow.value=this.textureArrow,this.materials[3].uniforms.uMaterialNum.value=2,this.materials[3].uniforms.uTextureArrow.value=this.textureArrow,this.materials[5].uniforms.uMaterialNum.value=1,this.materials[5].uniforms.uTextureArrow.value=this.textureArrow,this.materials[2].uniforms.uMaterialNum.value=0,this.materials[2].uniforms.uTextureArrow.value=this.textureArrow,this.mesh=new x.O(this.geometry,this.materials),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setMeshPosition(),this._setEventListener()}setLowerEl(e){this.$lowerEl=document.querySelector(".jsTtl_fv"),this.lowerEl=e.find((e=>e.$el===this.$lowerEl))}setIsCurrentHome(){this.isCurrentHome=!0}clearIsCurrentHome(){this.isCurrentHome=!1}_setEventListener(){this.$aMain.addEventListener("mouseenter",this.onMouseEnter.bind(this,this.$aMain)),this.$aMain.addEventListener("mouseleave",this.onMouseLeave.bind(this,this.$aMain)),this.$aAll.forEach((e=>{e.addEventListener("mouseenter",this.onMouseEnter.bind(this,e)),e.addEventListener("mouseleave",this.onMouseLeave.bind(this,e))}))}onMouseEnter(e){const t=e.getAttribute("href"),i=h.getCubicCurve(.165,.84,.44,1),s=h.getCubicCurve(.15,.05,.2,1);let o,a;switch(t){case"/about/":a=0,o=this.materials[4];break;case"/carriers/":a=1,o=this.materials[3];break;case"/journal/":a=2,o=this.materials[5];break;case"/contact/":a=3,o=this.materials[2]}this._clearMouseAnimationTween(a),OTHER&&(this.tweenDotScale[a]=n.a.to(o.uniforms.uDotScale,.625,{value:1,ease:i}),this.tweenArrowTranslate[a]=n.a.to(o.uniforms.uArrowTranslate,.65,{value:1,ease:i,delay:.05}),this.tweenArrowFade[a]=n.a.to(o.uniforms.uArrowFade,.65,{value:1,ease:s,delay:.05}));for(let e=0;e<3;e++)this.parent.model3dNavMesh[a+4*e].onMouseEnter()}onMouseLeave(e){const t=e.getAttribute("href"),i=.15,s=h.getCubicCurve(.23,1,.32,1),o=h.getCubicCurve(.15,.05,.2,1);let a,r;switch(t){case"/about/":r=0,a=this.materials[4];break;case"/carriers/":r=1,a=this.materials[3];break;case"/journal/":r=2,a=this.materials[5];break;case"/contact/":r=3,a=this.materials[2]}this._clearMouseAnimationTween(r),OTHER&&(this.tweenDotScale[r]=n.a.to(a.uniforms.uDotScale,.575,{value:0,ease:s,delay:i}),this.tweenArrowTranslate[r]=n.a.to(a.uniforms.uArrowTranslate,.575,{value:0,ease:s,delay:i}),this.tweenArrowFade[r]=n.a.to(a.uniforms.uArrowFade,.15,{value:0,ease:o,delay:i}));for(let e=0;e<3;e++)this.parent.model3dNavMesh[r+4*e].onMouseLeave()}_clearMouseAnimationTween(e){[this.tweenDotScale[e],this.tweenArrowFade[e],this.tweenArrowTranslate[e]].forEach((e=>{h.clearTween(e)}))}setOffsetRatioSubTextDot(){let e=.02;window.isMobileLayout&&(e=.025),this.aboutOffsetRatio.x=this.$aboutSubText.getBoundingClientRect().width/this.$about.getBoundingClientRect().width+e,this.carriersOffsetRatio.x=this.$carriersSubText.getBoundingClientRect().width/this.$carriers.getBoundingClientRect().width+e,this.journalOffsetRatio.x=1-this.$journalSubText.getBoundingClientRect().width/this.$journal.getBoundingClientRect().width-e,this.contactOffsetRatio.x=this.$contactSubText.getBoundingClientRect().width/this.$contact.getBoundingClientRect().width+e,this.aboutOffsetRatio.y=(this.$aboutSubText.offsetTop+.5*this.$aboutSubText.getBoundingClientRect().height)/this.$about.getBoundingClientRect().height,this.carriersOffsetRatio.y=(this.$carriersSubText.offsetTop+.5*this.$carriersSubText.getBoundingClientRect().height)/this.$carriers.getBoundingClientRect().height,this.journalOffsetRatio.y=(this.$journalSubText.offsetTop+.5*this.$journalSubText.getBoundingClientRect().height)/this.$journal.getBoundingClientRect().height,this.contactOffsetRatio.y=(this.$contactSubText.offsetTop+.5*this.$contactSubText.getBoundingClientRect().height)/this.$contact.getBoundingClientRect().height,this.materials[4].uniforms.uDotOffsetRatio.value=this.aboutOffsetRatio,this.materials[3].uniforms.uDotOffsetRatio.value=this.carriersOffsetRatio,this.materials[5].uniforms.uDotOffsetRatio.value=this.journalOffsetRatio,this.materials[2].uniforms.uDotOffsetRatio.value=this.contactOffsetRatio}reinit(){this.setMeshSize()}onResize(){this.setOffsetRatioSubTextDot(),this.setMeshSize(),this.setMeshPosition()}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}hide(){this.uniforms.uOpacity.value=0,this.mesh.visible=!1}show(){this.uniforms.uOpacity.value=1,this.uniforms.uTransitionFade.value=1,this.mesh.visible=!0,this.materials.forEach(((e,t)=>{e.uniforms.uTransitionFade.value=1}))}onUpdate({scrollY:e=0,timeDelta:t=0}){this.canUpdate&&(this.setMeshPosition(e),this.materials.forEach(((e,i)=>{switch(e.uniforms.uTime.value+=t,e.uniforms.uProgress.value=this.mainNavSlider.progressComplete/this.mainNavSlider.originalItemLength,e.uniforms.uBounce.value=c.clamp(-.5,.5,this.mainNavSlider.deltaEase),e.uniforms.uBounceAbs.value=c.clamp(-.5,.5,this.mainNavSlider.deltaEaseAbs),e.uniforms.uProgressAll.value+=c.clamp(-.5,.5,this.mainNavSlider.deltaEase),i){case 4:this.mainNavSlider.progressComplete>3?e.uniforms.uProgressFade.value=Math.abs(4-this.mainNavSlider.progressComplete)%this.mainNavSlider.originalItemLength:e.uniforms.uProgressFade.value=Math.abs(0-this.mainNavSlider.progressComplete)%this.mainNavSlider.originalItemLength;break;case 3:e.uniforms.uProgressFade.value=Math.abs(1-this.mainNavSlider.progressComplete)%this.mainNavSlider.originalItemLength;break;case 5:e.uniforms.uProgressFade.value=Math.abs(2-this.mainNavSlider.progressComplete)%this.mainNavSlider.originalItemLength;break;case 2:e.uniforms.uProgressFade.value=Math.abs(3-this.mainNavSlider.progressComplete)%this.mainNavSlider.originalItemLength}})),this.isCurrentHome)}async hideAnimation(e){await new Promise((t=>{this.materials.forEach(((i,s)=>{h.clearTween(this.tweenPageTransitionFade[s]),h.clearTween(this.tweenPageTransitionScale[s]),requestAnimationFrame((()=>{this.tweenPageTransitionFade[s]=n.a.to(i.uniforms.uTransitionFade,e,{value:0,ease:"none",onComplete:()=>{0===s&&t(),h.clearTween(this.tweenPageTransitionFade[s]),h.clearTween(this.tweenPageTransitionScale[s]),i.uniforms.uTransitionScale.value=0}}),this.tweenPageTransitionScale[s]=n.a.to(i.uniforms.uTransitionScale,1.75*e,{value:1,ease:"quart.inOut"})}))}))}))}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height;const e=this.$el.getBoundingClientRect();this.width=e.width,this.widthHalf=.5*this.width,this.height=e.height,this.heightHalf=.5*this.height,this.materials.forEach((e=>{e.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,e.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,e.uniforms.uTextureSize.value.x=this.canvas2ds[0].canvasSize.x,e.uniforms.uTextureSize.value.y=this.canvas2ds[0].canvasSize.y,e.uniforms.uMeshSize.value.x=this.width,e.uniforms.uMeshSize.value.y=this.height,e.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),e.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height)})),this.sizeRatio=Math.min(this.sizeCheckRatio.x*this.stage.stageSize.width,this.sizeCheckRatio.y*this.stage.stageSize.height),!this.isCurrentHome&&this.lowerEl?(this.lowerPageWidth=this.lowerEl.width,this.lowerPageHeight=this.lowerEl.height,this.lowerPageWidthHalf=.5*this.lowerPageWidth,this.lowerPageHeightHalf=.5*this.lowerPageHeight,this.mesh.scale.set(this.lowerPageWidth,this.lowerPageHeight,this.lowerPageHeight)):(this.mesh.scale.set(this.width,this.height,this.height),this.mesh.position.z=0)}setMeshPosition(e=0){!this.isCurrentHome&&this.lowerEl?(this.mesh.position.x=-this.screenWidthHalf+this.lowerEl.left+this.lowerPageWidthHalf,this.mesh.position.y=e-this.lowerEl.top+this.screenHeightHalf-this.lowerPageHeightHalf):(this.mesh.position.x=-this.screenWidthHalf+h.getTargetOffset(this.$el).left+this.widthHalf,this.mesh.position.y=-h.getTargetOffset(this.$el).top+this.screenHeightHalf-this.heightHalf)}}class W extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform float uOpacity;\nuniform float uMaskIn;\nuniform float uMaskOut;\nuniform float uMaskDirection;\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\nvarying vec2 vUv;\n\nvoid main() {\n    vec4 cDist = vec4( uColor, 1. );\n\n    if( uMaskDirection == 0. ){\n        cDist.a = mix( 0., cDist.a,  step( uMaskOut, 1. - vUv.y ) );\n    } else {\n        cDist.a = mix( 0., cDist.a,  step( uMaskIn, vUv.y ) );\n    }\n\n    cDist.a *= uOpacity;\n\n    gl_FragColor = vec4( cDist );\n}\n",geometry:o=null,$el:n=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,isWireframe:!1}),this.canUpdate=!0,this.$el=n,this.$el.style.opacity=0,this.tweenMaskIn=null,this.tweenMaskOut=null,this.pointOfHidingY=0;let a="#ccd0e4";"dark"===P.colorChange.type&&(a="#37373d"),Object.assign(this.uniforms,{uMeshSize:{value:{x:0,y:0}},uMeshSizeRatio:{value:{x:0,y:0}},uColor:{value:new x.k(a)},uOpacity:{value:1},uMaskIn:{value:0},uMaskOut:{value:0},uMaskDirection:{value:0}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setMeshPosition()}reinit(){this.setMeshSize()}onResize(){this.setMeshSize(),this.setMeshPosition()}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}show(){h.clearTween(this.tweenOpacity),h.clearTween(this.tweenMaskOut),this.uniforms.uOpacity.value=1,this.uniforms.uMaskIn.value=1,this.uniforms.uMaskOut.value=0,this.uniforms.uMaskDirection.value=0,this.isSwitchAnimating=!1,this.mesh.visible=!0}hide(){h.clearTween(this.tweenOpacity),h.clearTween(this.tweenMaskOut),this.uniforms.uOpacity.value=1,this.uniforms.uMaskOut.value=0,this.uniforms.uMaskIn.value=0,this.uniforms.uMaskDirection.value=0,this.isSwitchAnimating=!1,this.mesh.visible=!1}onUpdate({scrollY:e=0}){this.canUpdate&&(e<this.pointOfHidingY?this.mesh.visible||this.isSwitchAnimating||this.showAnimation():this.mesh.visible&&!this.isSwitchAnimating&&this.hideAnimation())}showAnimation(){this.isSwitchAnimating=!0,h.clearTween(this.tweenMaskOut),this.uniforms.uMaskOut.value=0,this.uniforms.uMaskIn.value=1,this.uniforms.uMaskDirection.value=1,this.mesh.visible=!0,this.tweenMaskOut=n.a.to(this.uniforms.uMaskIn,.75,{value:0,ease:"quart.out",onComplete:()=>{this.uniforms.uMaskOut.value=0,this.uniforms.uMaskIn.value=1,this.uniforms.uMaskDirection.value=0,this.isSwitchAnimating=!1}})}hideAnimation(){this.isSwitchAnimating=!0,h.clearTween(this.tweenMaskOut),this.tweenMaskOut=n.a.to(this.uniforms.uMaskOut,.75,{value:1,ease:"cubic.out",onComplete:()=>{this.isSwitchAnimating=!1,this.mesh.visible=!1}})}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height;const e=this.$el.getBoundingClientRect();this.width=e.width,this.height=e.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.pointOfHidingY=Math.max(100,.0625*this.stage.stageSize.width),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition(){this.mesh.position.x=-this.screenWidthHalf+h.getTargetOffset(this.$el).left+this.widthHalf,this.mesh.position.y=-h.getTargetOffset(this.$el).top+this.screenHeightHalf-this.heightHalf}}class U extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform float uOpacity;\nuniform float uProgress;\nuniform float uProgressFade;\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvC = vUv * 2. - 1.;\n\n    float c = smoothstep( 0.9999, 1., length( uvC ) );\n    vec4 cDist = vec4( uColor, 1. );\n\n    cDist.a = mix( cDist.a , 0., smoothstep(0.,1., c) );\n    cDist.a *= uProgressFade;\n    cDist.a *= uOpacity;\n\n    gl_FragColor = cDist;\n}\n",geometry:o=null,$el:n=null,$parent:a=null}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,isWireframe:!1}),this.canUpdate=!0,this.$el=n,this.$parent=a,this.tweenProgress=null,this.tweenProgressFade=null,this.tweenOpacity=null,this.heightParent=0,this.positionRatio=0,this.pointOfHidingY=0,Object.assign(this.uniforms,{uMeshSize:{value:{x:0,y:0}},uMeshSizeRatio:{value:{x:0,y:0}},uColor:{value:"dark"===P.colorChange.type?new x.k("#eeeeee"):new x.k("#1735cc")},uProgress:{value:0},uProgressFade:{value:0},uOpacity:{value:1}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setMeshPosition(),this.resetPositionRatio(),this.setMeshPosition(),this.start()}reinit(){this.setMeshSize()}onResize(){this.setMeshSize(),this.setMeshPosition()}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0,this.start()}show(){h.clearTween(this.tweenOpacity),this.uniforms.uOpacity.value=1,this.mesh.visible=!0}hide(){h.clearTween(this.tweenOpacity),h.clearTween(this.tweenProgress),h.clearTween(this.tweenProgressFade),this.resetPositionRatio(),this.uniforms.uOpacity.value=0,this.uniforms.uProgressFade.value=0,this.mesh.visible=!1}onUpdate({scrollY:e=0}){this.canUpdate&&(e<this.pointOfHidingY?this.mesh.visible||this.isSwitchAnimating||this.showAnimation():this.mesh.visible&&!this.isSwitchAnimating&&this.hideAnimation(),this.mesh.visible&&this.setMeshPosition())}resetPositionRatio(){this.positionRatio=this.heightParent+this.heightHalf}start(){h.clearTween(this.tweenProgress),this.resetPositionRatio(),this.tweenProgress=n.a.to(this,1.7,{positionRatio:0,ease:"quart.inOut",onComplete:()=>{n.a.delayedCall(.1,(()=>{this.start()}))}}),h.clearTween(this.tweenProgressFade),this.tweenProgressFade=n.a.to(this.uniforms.uProgressFade,.7,{value:1,ease:"none",onComplete:()=>{h.clearTween(this.tweenProgressFade),this.tweenProgressFade=n.a.to(this.uniforms.uProgressFade,.5,{value:0,delay:.5,ease:"none"})}})}play(){this.tweenProgress.play(),this.tweenProgressFade.play()}pause(){this.tweenProgress.pause(),this.tweenProgressFade.pause()}showAnimation(){this.isSwitchAnimating=!0,h.clearTween(this.tweenOpacity),h.clearTween(this.tweenProgress),this.resetPositionRatio(),this.uniforms.uOpacity.value=0,n.a.delayedCall(.1,(()=>{this.mesh.visible=!0,this.start(),this.tweenOpacity=n.a.to(this.uniforms.uOpacity,.5,{value:1,ease:"none",onComplete:()=>{this.isSwitchAnimating=!1}})}))}hideAnimation(){this.isSwitchAnimating=!0,h.clearTween(this.tweenOpacity),this.tweenOpacity=n.a.to(this.uniforms.uOpacity,.3,{value:0,ease:"none",onComplete:()=>{this.pause(),this.isSwitchAnimating=!1,this.mesh.visible=!1}})}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height;const e=this.$el.getBoundingClientRect();this.width=e.width,this.height=e.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height);const t=this.$parent.getBoundingClientRect();this.heightParent=t.height,this.pointOfHidingY=Math.max(100,.0625*this.stage.stageSize.width),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition(){this.mesh.position.x=-this.screenWidthHalf+h.getTargetOffset(this.$el).left+this.widthHalf,this.mesh.position.y=-h.getTargetOffset(this.$el).top+this.screenHeightHalf-this.heightHalf+this.positionRatio-this.heightHalf}}class q extends ${constructor({stage:e,uniforms:t={},vs:i="#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTransitionProgress;\nuniform vec2 uMeshScale;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvoid main()  {\n    vec3 pos = position;\n\n    float t = 1. - uv.y;\n    float b = uv.y;\n    float l = uv.x;\n    float r = 1. - uv.x;\n    float tL = (uv.x + 1.- uv.y);\n    float tR = (1.-uv.x + 1.- uv.y);\n    float bL = (uv.x + uv.y);\n    float bR = (1.-uv.x + uv.y);\n\n    float activation = r;\n\n    float latestStart = 0.45;\n    float startAt = activation * latestStart;\n    float vProgress = smoothstep(startAt, 1., uTransitionProgress);\n    float progressMax = 0.6;\n\n    float progress = min(\n    clamp(vProgress / progressMax, 0., 1.),\n    clamp((1.-vProgress) / (1.- progressMax), 0., 1.)\n    );\n\n    progress = smoothstep(0., 1., progress);\n\n    vec2 amplitude = vec2( 0.035, 0.075 );\n\n    pos.xy += amplitude * progress;\n    pos.xy *= 1. + (uMeshScale * vProgress);\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:s="precision highp float;\n#define GLSLIFY 1\n\nuniform vec3 uColor;\n\nvoid main() {\n    vec4 cDist = vec4(vec3( uColor ), 1.);\n    gl_FragColor = cDist;\n}\n",geometry:o=null,width:n=1,height:a=1}){super({stage:e,uniforms:t,vs:i,fs:s,geometry:o,width:n,height:a,isWireframe:!1}),this.canUpdate=!1,this.isTransitioning=!1,this.$navItem=document.querySelector(".jsNav_app_i"),this.$lowerPageHeadBg=null,this.widthHome=0,this.heightHome=0,this.widthLower=0,this.heightLower=0,this.isHome=!0,Object.assign(this.uniforms,{uMeshSize:{value:{x:n,y:a}},uMeshTranslate:{value:{x:1,y:1}},uMeshScale:{value:{x:1,y:1}},uTransitionProgress:{value:0},uOpacity:{value:0},uColor:{value:"dark"===P.colorChange.type?new x.k("#1c1c1c"):new x.k("#ecedef")}})}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.canUpdate=!0,this.hide(),this.setMeshSize(),this.setMeshPosition(),this.mesh.material.depthTest=!0,this.mesh.material.depthWrite=!0}reinit(){this.setMeshSize()}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.$navItem?(this.widthHome=this.$navItem.offsetWidth,this.heightHome=this.$navItem.offsetHeight):(this.widthHome=0,this.heightHome=0),this.$lowerPageHeadBg&&(this.widthLower=this.$lowerPageHeadBg.offsetWidth,this.heightLower=this.$lowerPageHeadBg.offsetHeight),this.isHome?(this.width=this.widthHome,this.height=this.heightHome):(this.width=this.widthLower,this.height=this.heightLower),this.heightHalf=.5*this.height,this.widthHalf=.5*this.width,this.isTransitioning||(this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.mesh.scale.set(this.width,this.height,0))}setMeshPosition(){this.isTransitioning||this.isHome&&(this.mesh.position.x=0,this.mesh.position.y=0,this.mesh.position.z=0)}hide(){this.uniforms.uOpacity.value=0,this.mesh.visible=!1,this.isHome=!0}show(){this.uniforms.uOpacity.value=1,this.mesh.visible=!0}onResize(){this.setMeshSize()}onUpdate({timeDelta:e=0}){this.setMeshPosition()}async toLowerPageAnimation(e=1.6){this.$lowerPageHeadBg&&await new Promise((t=>{this.mesh.scale.x=this.width,this.mesh.scale.y=this.height,this.mesh.position.x=0,this.mesh.position.y=0,this.show(),this.uniforms.uTransitionProgress.value=0,this.uniforms.uMeshScale.value.x=0,this.uniforms.uMeshScale.value.y=0,this.isTransitioning=!0;const i=this.$lowerPageHeadBg.getBoundingClientRect(),s=-i.top+this.screenHeightHalf-.5*i.height,o=-this.screenWidthHalf+i.left+.5*i.width,a={x:i.width/this.width-1,y:i.height/this.height-1};n.a.to(this.uniforms.uTransitionProgress,e,{value:1,ease:"quart.inOut"}),n.a.to(this.uniforms.uMeshScale.value,e,{x:a.x,y:a.y,ease:"cubic.out"}),n.a.to(this.mesh.position,.9*e,{x:o,y:s,ease:"cubic.inOut",onComplete:()=>{t()}})}))}setLowerElement(e=document){this.$lowerPageHeadBg=e.querySelector(".js-gl-cc"),this.setMeshSize(),this.isHome=!1}}class G{constructor(){this.text=null,this.fontFamily=null,this.fontSize=null,this.color=null,this.textAlign=null,this.$canvas=null,this.context=null,this.canvasSize={x:0,y:0},this.textBaseSize={width:0,height:0},this.textureSize={width:0,height:0},this.$el=null,this.texture=null,window.isMobileLayout?this.pixelRatio=Math.min(2*window.devicePixelRatio,6):this.pixelRatio=Math.min(2*window.devicePixelRatio,4),this.pixelRatioDiv=1}setCanvasGroup({el:e=null,childrenName:t="",debug:i=!1,isOriginScreen:s=!0,offsetYRatioElementName:o=null}){this.context=null,this.texture=null,this.ttlChildrenOption=[];const n=e.querySelectorAll(t),a=e.getBoundingClientRect();this.$canvas=document.createElement("canvas"),this.$canvas.width=a.width*this.pixelRatio,this.$canvas.height=a.height*this.pixelRatio,this.context=this.$canvas.getContext("2d"),this.context.fillStyle="rgba(255, 255, 255, 0)",this.context.fillRect(0,0,this.$canvas.height*this.pixelRatio,this.$canvas.width*this.pixelRatio),n.forEach(((e,t)=>{const n=window.getComputedStyle(e,"");if(this.ttlChildrenOption[t]={el:e,text:e.innerText,fontFamily:n.getPropertyValue("font-family"),fontSize:parseFloat(n.getPropertyValue("font-size"))*this.pixelRatio+"px",fontWeight:n.getPropertyValue("font-weight"),color:n.getPropertyValue("color"),textAlign:n.getPropertyValue("text-align"),letterSpacing:parseFloat(n.getPropertyValue("letter-spacing"))*this.pixelRatio||0,x:(e.getBoundingClientRect().left+parseInt(n.getPropertyValue("padding-left")))*this.pixelRatio,y:(parseInt(e.offsetTop)+.75*parseInt(n.getPropertyValue("height")))*this.pixelRatio},!s)if(o){let i=e.closest(o).offsetLeft,s=e.closest(o).offsetTop;this.ttlChildrenOption[t].x=(e.offsetLeft+i+parseInt(n.getPropertyValue("padding-left")||0))*this.pixelRatio,this.ttlChildrenOption[t].y=(e.offsetTop+s+.75*parseInt(n.getPropertyValue("height")))*this.pixelRatio}else this.ttlChildrenOption[t].x=(e.offsetLeft+parseInt(n.getPropertyValue("padding-left")||0))*this.pixelRatio,this.ttlChildrenOption[t].y=(e.offsetTop+.75*parseInt(n.getPropertyValue("height")))*this.pixelRatio;i&&console.log(this.ttlChildrenOption[t]),this.context.font=`${this.ttlChildrenOption[t].fontWeight} ${this.ttlChildrenOption[t].fontSize} ${this.ttlChildrenOption[t].fontFamily}`,this.context.fillStyle=this.ttlChildrenOption[t].color,this.renderText(this.ttlChildrenOption[t].text,this.ttlChildrenOption[t].x,this.ttlChildrenOption[t].y,this.ttlChildrenOption[t].letterSpacing,this.ttlChildrenOption[t],this.context)})),this.$canvas.style.width=this.$canvas.width/this.pixelRatio+"px",this.$canvas.style.height=this.$canvas.height/this.pixelRatio+"px",this.canvasSize.x=this.$canvas.width/this.pixelRatio,this.canvasSize.y=this.$canvas.height/this.pixelRatio,i&&(document.body.appendChild(this.$canvas),this.$canvas.style.position="fixed",this.$canvas.style.top=0,this.$canvas.style.left=0,this.$canvas.style.zIndex=1e3)}setCanvas({el:e=null,debug:t=!1}){this.context=null,this.texture=null,this.ttlOption={};const i=e.$el,s=i.getBoundingClientRect();this.$canvas=document.createElement("canvas"),this.$canvas.width=s.width,this.$canvas.height=s.height,this.context=this.$canvas.getContext("2d"),this.context.fillStyle="rgba(255, 255, 255, 0)",this.context.fillRect(0,0,this.$canvas.height,this.$canvas.width);const o=window.getComputedStyle(i,"");this.ttlOption={el:i,text:i.innerText,fontFamily:o.getPropertyValue("font-family"),fontSize:o.getPropertyValue("font-size"),fontWeight:o.getPropertyValue("font-weight"),color:o.getPropertyValue("color"),textAlign:o.getPropertyValue("text-align"),letterSpacing:parseFloat(o.getPropertyValue("letter-spacing"))||0,x:parseInt(o.getPropertyValue("padding-left")),y:.925*parseInt(this.$canvas.height)-parseInt(o.getPropertyValue("padding-top"))},t&&console.log(this.ttlOption),this.context.font=` ${this.ttlOption.fontWeight} ${this.ttlOption.fontSize} ${this.ttlOption.fontFamily}`,this.context.fillStyle=this.ttlOption.color,this.renderText(this.ttlOption.text,this.ttlOption.x,this.ttlOption.y,this.ttlOption.letterSpacing,this.ttlOption,this.context),t&&(document.body.appendChild(this.$canvas),this.$canvas.style.position="fixed",this.$canvas.style.top=0,this.$canvas.style.left=0,this.$canvas.style.zIndex=1e3)}renderText(e,t,i,s,o,n){if(!e||"string"!=typeof e||0===e.length)return;void 0===s&&(s=0);let a,r=String.prototype.split.call(e,""),h=0,l=t,u=1;if("right"===o.textAlign)r=r.reverse(),u=-1;else if("center"===o.textAlign){for(var c=0,d=0;d<r.length;d++)c+=n.measureText(r[d]).width+s;l=t*this.pixelRatio/this.pixelRatio-c/2}for(;h<e.length;)a=r[h++],n.fillText(a,l,i),l+=u*(n.measureText(a).width+s)}setCanvasVertical({text:e="test",fontFamily:t=null,fontSize:i="10vw",color:s="#000",textAlign:o="left",width:n=256,height:a=256,el:r=null,isBlur:h=!1}){this.text=e,this.fontFamily=t,this.fontSize=i,this.color=s,this.textAlign=o,this.isBlur=h,this.$canvas=null,this.context=null,this.textBaseSize.width=n,this.textBaseSize.height=a,this.textureSize.width=this.checkSize(n),this.textureSize.height=this.checkSize(a),this.$el=r,this.texture=null,this.$canvas=document.createElement("canvas"),this.$canvas.width=this.textureSize.height,this.$canvas.height=this.textureSize.width,this.context=this.$canvas.getContext("2d"),this.context.fillStyle="rgba(0, 0, 0, 0)",this.context.fillRect(0,0,this.textureSize.height,this.textureSize.width),this.x_=0,this.y_=.75*this.textBaseSize.height+.5*(this.textureSize.height-this.textBaseSize.height),this.context.font=`${this.fontSize} ${this.fontFamily}`,this.context.textAlign=this.textAlign,this.context.fillStyle=this.color,this.isBlur&&(this.context.filter="blur(10px)"),this.context.translate(parseInt(this.$canvas.width),0),this.context.rotate(.5*Math.PI),this.context.fillText(this.text,this.x_,this.y_)}checkSize(e){let t=32;for(;t<e;t*=2);return t}clearCanvas(){this.context.clearRect(0,0,this.$canvas.width,this.$canvas.height)}}class j{constructor(e){if(Object.assign(this,e),this.isNotFound=!1,this.path={nav:"/asset/m/nav/",about:"/asset/m/about/",carriers:"/asset/m/carriers/",textTexture:"/asset/img/texture/text/",common:"/asset/m/common/",notFound:"/asset/m/not_found/"},"dark"===P.colorChange.type?this.navModelSrc={about:"about_dark_draco.glb",carriers:"carriers_dark_draco.glb",journal:"journal_dark_draco.glb",contact:"contact_dark_draco.glb"}:this.navModelSrc={about:"about_draco.glb",carriers:"carriers_draco.glb",journal:"journal_draco.glb",contact:"contact_draco.glb"},this.timeDelta=0,window.isMobileLayout||!OTHER?this.parallaxItemModelSrc=[]:this.parallaxItemModelSrc=["i_1_1_drc.glb","i_1_2_drc.glb","i_1_3_drc.glb","i_1_4_drc.glb","i_2_1_drc.glb","i_2_2_drc.glb","i_2_3_drc.glb"],this.notFoundModelSrc={num0:"nf_0_draco.glb",num4:"nf_4_draco.glb"},this.navArrowTextureSrc="/asset/img/texture/icon/arrow.png","dark"===P.colorChange.type){const e="/asset/img/texture/tex/dark/";this.model3dTextureSrc={dark:e+"tex.jpg"},this.cubeTextureSrc="/asset/img/texture/map/cubemap_dark.hdr"}else{const e="/asset/img/texture/tex/normal/";this.model3dTextureSrc={blue:e+"tex_blue.jpg",green:e+"tex_green.jpg",navy:e+"tex_navy.jpg"},this.cubeTextureSrc="/asset/img/texture/map/cubemap.hdr"}this.gltfLoader=new A.a,this.rgbeLoader=new T.a,this.textureLoader=new x.ub,this.startupCoverMesh=null,this.screenCoverMesh=null,this.transitionBgMesh=null,this.counterMesh=null,this.circleMesh=null,this.modelCoverMesh=null,this.modelBgMesh=null,this.ttlMesh=null,this.promptLineMesh=null,this.promptCircleMesh=null,this.model3dNavMesh=[],this.model3dParallaxMesh=[],this.model3dNotFoundMesh=[],this.model3dNav={},this.model3dParallax={},this.model3dNotFound={},this.modelNavGroup=null,this.currentModel3dNavMesh=null,this.currentFooterModel3dNavMesh=null,this.canUpdateModelGroupPosition=!0,this.cubeTexture=null,this.model3dTexture={},this.textureStartLogoHeadBlue=null,this.textureStartLogoFootBlue=null,this.textureStartLogoHeadWhite=null,this.textureStartLogoFootWhite=null,this.textureArrow=null,this.counterCvs=null,this.prgrsCoutnerCvs=null,this.ttlCvs=[],this.$currentContainer=null,this.$currentFooter=null,this.$modelElAll=null,this.$counterList=null}async setStartupLoading(e){this.isNotFound="not-found"===e;let t={hd:null,ft:null};"dark"===P.colorChange.type?(t.hd="/asset/img/texture/logo/logo_g_hd.png",t.ft="/asset/img/texture/logo/logo_g_ft.png"):(t.hd="/asset/img/texture/logo/logo_b_hd.png",t.ft="/asset/img/texture/logo/logo_b_ft.png"),await new Promise((e=>{Promise.all([this._loadTexture(t.hd,(e=>{this.textureStartLogoHeadBlue=e})),this._loadTexture(t.ft,(e=>{this.textureStartLogoFootBlue=e})),this._loadTexture("/asset/img/texture/logo/logo_w_hd.png",(e=>{this.textureStartLogoHeadWhite=e})),this._loadTexture("/asset/img/texture/logo/logo_w_ft.png",(e=>{this.textureStartLogoFootWhite=e}))]).then((()=>{this.startupCoverMesh=new N({stage:this.stage,geometry:new x.bb(1,1,1,1),textureLogoHeadBlue:this.textureStartLogoHeadBlue,textureLogoFootBlue:this.textureStartLogoFootBlue,textureLogoHeadWhite:this.textureStartLogoHeadWhite,textureLogoFootWhite:this.textureStartLogoFootWhite}),this.startupCoverMesh.init(),this.stage.scene.add(this.startupCoverMesh.mesh),e()}))}))}init(){this.pmremGenerator=new x.Z(this.stage.renderer),this.pmremGenerator.compileEquirectangularShader(),this._setDracoLoader(),this._set3dModelLoader(),this._setOthersTexture()}_setOthersTexture(){this.startupLoaderProgress.add((()=>this._loadTexture(this.navArrowTextureSrc,(e=>{this.textureArrow=e}))),"loadNavArrowTextureStartup"),Object.keys(this.model3dTextureSrc).forEach((e=>{this.startupLoaderProgress.add((()=>this._loadTexture(this.model3dTextureSrc[e],(t=>{this.model3dTexture[e]=t}))),"loadModel3dTextureStartup")}))}_setDracoLoader(){const e=new z.a;e.setDecoderPath("/asset/js/lib/"),e.setDecoderConfig({type:"js"}),e.preload(),this.gltfLoader.setDRACOLoader(e)}_setSelector(){this.$modelElAll=document.querySelectorAll(".jsNav_app_i"),this.$counterList=document.querySelector(".jsNav_num")}_set3dModelLoader(){this.isNotFound&&Object.keys(this.notFoundModelSrc).forEach((e=>{this.startupLoaderProgress.add((()=>this._load3dModel(this.path.notFound+this.notFoundModelSrc[e],(t=>{this.model3dNotFound[e]=t}))),e+"notFoundModel")})),Object.keys(this.navModelSrc).forEach((e=>{this.startupLoaderProgress.add((()=>this._load3dModel(this.path.nav+this.navModelSrc[e],(t=>{this.model3dNav[e]=t}))),e+"navModel")})),this.parallaxItemModelSrc.forEach((e=>{this.startupLoaderProgress.add((()=>this._load3dModel(this.path.common+e,(t=>{this.model3dParallax[e]=t}))),e+"parallaxItemModel")})),this.startupLoaderProgress.add((()=>this._loadCubeTexture(this.cubeTextureSrc,(e=>{this.cubeTexture=e,this.cubeTexture=this.pmremGenerator.fromEquirectangular(e).texture,this.pmremGenerator.dispose(),this.stage.scene.environment=this.cubeTexture}))),"startupLoaderProgress")}async _load3dModel(e,t=(()=>{})){await new Promise((i=>{this.gltfLoader.load(e,(e=>{t(e),i()}))}))}async _loadCubeTexture(e,t=(()=>{})){await new Promise((i=>{this.rgbeLoader.setDataType(x.xb).load(e,(e=>{t(e),i()}))}))}async _loadTexture(e,t=(()=>{})){await new Promise((i=>{this.textureLoader.load(e,(e=>{t(e),i()}))}))}async setMesh(){this._setSelector();let e=new x.bb(1,1,1,1),t=new x.bb(1,1,16,16),i=new x.bb(1,1,32,32),s=new x.e(1,1,1,32,32);this.modelNavGroup=new x.t,this.$modelElAll.forEach(((e,t)=>{const i=e.dataset.navType;this._setModel3dNavMesh(e,i,t)})),this.parallaxItemModelSrc.forEach(((e,t)=>{this._setModel3dParallaxMesh(e,t)})),this.stage.scene.attach(this.modelNavGroup),this.isNotFound&&("dark"===P.colorChange.type?this.stage.scene.fog=new x.r("#1c1c1c",-2e3,4e3):this.stage.scene.fog=new x.r("#1735cc",-2e3,8e3),this.$modelNFAll=document.querySelectorAll(".js-gl-nf"),this.nFGroup=new x.t,this.$modelNFAll.forEach(((e,t)=>{const i=e.dataset,s=i.objNum;this._setModel3dNotFoundMesh(e,t,s,i)})),this.stage.scene.add(this.nFGroup)),this._setScreenCover(e),this._setMeshTransitionBg(i),this._setModelCoverMesh(t),this._setModelBgMesh(t),this._setCounterMesh(t),this._setCircleMesh(t),this._setTtlMesh(s),this._setPromptMesh(t),[e,t,s].forEach((e=>{e.dispose(),e=null}))}_setScreenCover(e){this.screenCoverMesh=new F({stage:this.stage,geometry:e}),this.screenCoverMesh.init()}_setMeshTransitionBg(e){this.transitionBgMesh=new q({stage:this.stage,geometry:e}),this.transitionBgMesh.init(),this.stage.scene.add(this.transitionBgMesh.mesh)}_setModelCoverMesh(e){this.modelCoverMesh=new O({stage:this.stage,mainNavSlider:this.mainNavSlider,geometry:e}),this.modelCoverMesh.init(),this.stage.scene.add(this.modelCoverMesh.mesh)}_setModelBgMesh(e){this.modelBgMesh=new H({stage:this.stage,mainNavSlider:this.mainNavSlider,geometry:e}),this.modelBgMesh.init(),this.stage.scene.add(this.modelBgMesh.mesh)}_setModel3dNavMesh(e,t="about",i){this.model3dNavMesh[i]=new E({count:i,$el:e,mainNavSlider:this.mainNavSlider,stage:this.stage,gltf:this.model3dNav[t],loader:this.gltfLoader,navType:t,cubeTexture:this.cubeTexture,bodyTexture:this.model3dTexture,gl:this.gl,parent:this}),this.model3dNavMesh[i].init().then((()=>{this.modelNavGroup.attach(this.model3dNavMesh[i].model)}))}_setModel3dParallaxMesh(e,t){this.model3dParallaxMesh[t]=new L({count:t,stage:this.stage,gltf:this.model3dParallax[e],loader:this.gltfLoader,texture:this.model3dTexture,cubeTexture:this.cubeTexture,navType:e,parent:this}),this.model3dParallaxMesh[t].init()}_setModel3dNotFoundMesh(e,t,i,s){let o;o="0"===i?"num0":"num4",this.model3dNotFoundMesh[t]=new D({$el:e,count:t,stage:this.stage,gltf:this.model3dNotFound[o],loader:this.gltfLoader,cubeTexture:this.cubeTexture,navType:o,objNum:i,parent:this,data:s}),this.model3dNotFoundMesh[t].init(),this.nFGroup.add(this.model3dNotFoundMesh[t].model)}_setCounterMesh(e){this.counterCvs=new G,this.$counterList.style.color="",this.counterCvs.setCanvasGroup({el:this.$counterList,childrenName:".jsNav_num_i",isOriginScreen:!1,debug:!1}),this.counterMesh=new k({gl:this.gl,stage:this.stage,geometry:e,canvas2d:this.counterCvs,mainNavSlider:this.mainNavSlider,$el:document.querySelector(".jsNav_blk")}),this.counterMesh.init(),this.stage.scene.add(this.counterMesh.mesh),this.$counterList.style.color="transparent"}_setCircleMesh(e){this.circleMesh=new I({gl:this.gl,stage:this.stage,geometry:e,mainNavSlider:this.mainNavSlider,$el:document.querySelector(".jsNav_p")}),this.circleMesh.init(),this.stage.scene.add(this.circleMesh.mesh),this.circleMesh.$el.style.visibility="hidden",(new x.ub).load("/asset/img/icon/circle_01.png",(e=>{e.name=String("/asset/img/icon/circle_01.png"),Object.defineProperty(e,"externalResourcesType",{value:"texture"}),this.circleMesh.setTexture(e,0)}),(e=>{}),(e=>{}))}_setTtlMesh(e){document.querySelectorAll(".mNav_li_ttls_blk").forEach(((e,t)=>{e.style.color="",this.ttlCvs[t]=new G,this.ttlCvs[t].setCanvasGroup({el:e,childrenName:".jsNav_ttl_t",offsetYRatioElementName:".jsNav_ttl",isOriginScreen:!1}),e.style.color="transparent"})),this.ttlMesh=new B({stage:this.stage,geometry:e,canvas2ds:this.ttlCvs,mainNavSlider:this.mainNavSlider,$el:document.querySelector(".jsNav_ttls_in"),textureArrow:this.textureArrow,parent:this}),this.ttlMesh.init(),this.stage.scene.add(this.ttlMesh.mesh)}_setPromptMesh(e){this.promptLineMesh=new W({stage:this.stage,geometry:e,$el:document.querySelector(".mPrompt_scl_in")}),this.promptCircleMesh=new U({stage:this.stage,geometry:e,$el:document.querySelector(".mPrompt_dot"),$parent:document.querySelector(".mPrompt_scl_in")}),this.promptLineMesh.init(),this.promptCircleMesh.init(),this.stage.scene.add(this.promptLineMesh.mesh),this.stage.scene.add(this.promptCircleMesh.mesh)}_updatePositionModelGroup(){this.modelNavGroup&&this.model3dNavMesh[0]&&this.model3dNavMesh[0].model&&this.canUpdateModelGroupPosition&&(this.modelNavGroup.position.x=-this.mainNavSlider.progressComplete*this.mainNavSlider.period)}onResize(){if(this.model3dNavMesh.forEach((e=>{e.onResize()})),this.model3dParallaxMesh.forEach((e=>{e.onResize()})),this.model3dNotFoundMesh.forEach((e=>{e.onResize()})),this.screenCoverMesh&&this.screenCoverMesh.onResize(),this.transitionBgMesh&&this.transitionBgMesh.onResize(),this.modelCoverMesh&&this.modelCoverMesh.onResize(),this.modelBgMesh&&this.modelBgMesh.onResize(),this.circleMesh&&this.circleMesh.onResize(),this.promptLineMesh&&this.promptLineMesh.onResize(),this.promptCircleMesh&&this.promptCircleMesh.onResize(),this.counterMesh&&(this.$counterList.style.color="",this.counterCvs.clearCanvas(),this.counterCvs.setCanvasGroup({el:this.$counterList,childrenName:".jsNav_num_i",isOriginScreen:!1}),this.counterMesh.uniforms.uTexture.value.dispose(),this.counterMesh.uniforms.uTexture.value=new x.h(this.counterCvs.$canvas),this.counterMesh.uniforms.uTexture.value.minFilter=x.G,this.counterMesh.canvas2d=this.counterCvs,this.$counterList.style.color="transparent",this.counterMesh.onResize()),this.ttlMesh){document.querySelectorAll(".mNav_li_ttls_blk").forEach(((e,t)=>{e.style.color="",this.ttlCvs[t].clearCanvas(),this.ttlCvs[t].setCanvasGroup({el:e,childrenName:".jsNav_ttl_t",offsetYRatioElementName:".jsNav_ttl",isOriginScreen:!1}),this.ttlMesh.materials.forEach((e=>{e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.ttlCvs[t].$canvas),e.uniforms.uTexture.value.minFilter=x.G})),this.ttlMesh.canvas2ds=this.ttlCvs,e.style.color="transparent"})),this.ttlMesh.onResize()}}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this._updatePositionModelGroup(),this.model3dNavMesh.forEach((t=>{t.onUpdate({scrollY:e,timeDelta:i})})),this.model3dParallaxMesh.forEach((t=>{t.onUpdate({scrollY:e,timeDelta:i})})),this.model3dNotFoundMesh.forEach((t=>{t.onUpdate({scrollY:e,timeDelta:i})})),this.nFGroup&&(this.timeDelta+=.3*i,this.nFGroup.rotation.z=this.timeDelta,this.nFGroup.rotation.y=this.timeDelta),this.startupCoverMesh&&this.startupCoverMesh.onUpdate({timeDelta:i}),this.screenCoverMesh&&this.screenCoverMesh.onUpdate({timeDelta:i}),this.transitionBgMesh&&this.transitionBgMesh.onUpdate({timeDelta:i}),this.modelCoverMesh&&this.modelCoverMesh.onUpdate({timeDelta:i}),this.modelBgMesh&&this.modelBgMesh.onUpdate({timeDelta:i}),this.counterMesh&&this.counterMesh.onUpdate({timeDelta:i}),this.circleMesh&&this.circleMesh.onUpdate({timeDelta:i}),this.ttlMesh&&this.ttlMesh.onUpdate({timeDelta:i,scrollY:e}),this.promptLineMesh&&this.promptLineMesh.onUpdate({scrollY:e}),this.promptCircleMesh&&this.promptCircleMesh.onUpdate({timeDelta:i,scrollY:e})}stopModelGroupPosition(){this.canUpdateModelGroupPosition=!1}restartModelGroupPosition(){this.canUpdateModelGroupPosition=!0}clearModelGroupPosition(){this.modelNavGroup.position.x=0}startupHome(){}viewDidLoadStartupAbout(){this.gl.changeStageColor("about"),this.clearMeshHome(),this.setCurrentSelector(),this.assignPageCurrentNavMesh("about"),this.assignPageFooterMesh("carriers"),this.clearModelNav(),this.addMeshAbout()}viewWillAppearStartupAbout(){this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionInDefault(),this.gl.rotationDirection=-1}viewDidLoadStartupCarriers(){this.gl.changeStageColor("carriers"),this.clearMeshHome(),this.setCurrentSelector(),this.assignPageCurrentNavMesh("carriers"),this.assignPageFooterMesh("journal"),this.clearModelNav(),this.addMeshCarriers()}viewWillAppearStartupCarriers(){this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionInDefault(),this.gl.rotationDirection=-1}startupNotFound(){this.hidePromptGroup(),this.stopModelGroupPosition(),this.gl.changeStageColor("notFound"),this.clearMeshHome(),this.clearModelNav()}startupJournal(){this.stopModelGroupPosition(),this.gl.changeStageColor("journal"),this.clearMeshHome(),this.clearModelNav()}startupContact(){this.stopModelGroupPosition(),this.gl.changeStageColor("contact"),this.clearMeshHome(),this.clearModelNav()}setAbout(){this.gl.changeStageColor("about"),this.setCurrentSelector(),this.resetModelNav(),this.assignPageCurrentNavMesh("about"),this.assignPageFooterMesh("carriers"),this.clearModelNav(),this.addMeshAbout()}setCarriers(){this.gl.changeStageColor("carriers"),this.setCurrentSelector(),this.resetModelNav(),this.assignPageCurrentNavMesh("carriers"),this.assignPageFooterMesh("journal"),this.clearModelNav(),this.addMeshCarriers()}setJournal(){this.stopModelGroupPosition(),this.gl.changeStageColor("journal"),this.resetModelNav(),this.clearModelNav()}setContact(){this.stopModelGroupPosition(),this.gl.changeStageColor("contact"),this.resetModelNav(),this.clearModelNav()}setNotFound(){this.hidePromptGroup(),this.stopModelGroupPosition(),this.gl.changeStageColor("notFound"),this.resetModelNav(),this.clearModelNav()}showPromptGroup(){this.promptCircleMesh.show(),this.promptLineMesh.show(),this.promptCircleMesh.restart(),this.promptLineMesh.restart()}hidePromptGroup(){this.promptCircleMesh.hide(),this.promptLineMesh.hide(),this.promptCircleMesh.stop(),this.promptLineMesh.stop()}async transitionOutDefault(){this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionOutDefault(),this.model3dParallaxMesh.forEach((e=>{e.transitionOutDefault()})),await this.screenCoverMesh.in()}async transitionInDefault(){this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionInDefault(),this.gl.rotationDirection=-1,await this.screenCoverMesh.out()}async transitionOutToHome(){this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionOutDefault(),this.model3dParallaxMesh.forEach((e=>{e.transitionOutDefault()})),await this.screenCoverMesh.in()}async transitionInToHome(){this.resetModelNav(),this.addMeshHome(),this.restartModelGroupPosition(),await this.screenCoverMesh.out2()}async transitionInMenuToHome(){this.promptCircleMesh.hide(),this.promptLineMesh.hide(),this.promptCircleMesh.stop(),this.promptLineMesh.stop(),this.resetModelNav(),this.addMeshHome(),this.restartModelGroupPosition()}async transitionInHomeToAbout(e){Promise.all([this.counterMesh.hideAnimation(.975),this.circleMesh.hideAnimation(.975),this.ttlMesh.hideAnimation(.975)]).then((()=>{this.clearMeshHome()})),await this.modelCoverMesh.toggle(1,.6),e(),await new Promise((e=>{this.gl.changeStageColor("about"),[this.modelCoverMesh,this.modelBgMesh].forEach((e=>{e.stop(),e.hide()})),this.setCurrentSelector(),this.$currentContainer&&(this.$currentContainer.style.pointerEvents="none",this.modelNavGroup.position.x<0?(this.currentModel3dNavMesh=this.model3dNavMesh[8],this.currentFooterModel3dNavMesh=this.model3dNavMesh[5],this.model3dNavMesh[4].mouseLeaveAnim(0,0),this.model3dNavMesh[4].setSize()):(this.currentModel3dNavMesh=this.model3dNavMesh[4],this.currentFooterModel3dNavMesh=this.model3dNavMesh[9],this.model3dNavMesh[8].mouseLeaveAnim(0,0),this.model3dNavMesh[8].setSize()),this.model3dNavMesh[0].mouseLeaveAnim(0,0),this.model3dNavMesh[0].setSize()),this.clearModelNav(),e()}));const t=this.scrollManager.els.find((e=>e.$el===this.$currentContainer));await Promise.all([this.currentModel3dNavMesh.transitionInHomeToAbout(t,1.8),this.currentModel3dNavMesh.mouseLeaveAnim(1.8,0,!0,!1)]).then((()=>{this.currentModel3dNavMesh.restart(),this.currentModel3dNavMesh.isCurrent=!0,this.currentModel3dNavMesh.isTransitioning=!1})),this.assignPageFooterMesh(),n.a.delayedCall(.15,(()=>{this.addMeshAbout()}))}async transitionFromHomeMenu(e){await Promise.all([this.modelCoverMesh.toggle(1,0),this.counterMesh.hideAnimation(0),this.circleMesh.hideAnimation(0),this.ttlMesh.hideAnimation(0)]),await new Promise((e=>{this.gl.changeStageColor("about"),this.clearMeshHome(),this.setCurrentSelector(),this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionInDefault(),this.gl.rotationDirection=-1,this.clearModelNav(),e()}))}async transitionFromMenu(e){await new Promise((e=>{this.currentModel3dNavMesh&&this.currentModel3dNavMesh.transitionInDefault(),this.gl.rotationDirection=-1,this.clearModelNav(),e()}))}async transitionInHomeToCarriers(e){Promise.all([this.counterMesh.hideAnimation(.975),this.circleMesh.hideAnimation(.975),this.ttlMesh.hideAnimation(.975)]).then((()=>{this.clearMeshHome()})),await this.modelCoverMesh.toggle(1,.6),e(),await new Promise((e=>{this.gl.changeStageColor("carriers"),[this.modelCoverMesh,this.modelBgMesh].forEach((e=>{e.stop(),e.hide()})),this.setCurrentSelector(),this.$currentContainer&&(this.$currentContainer.style.pointerEvents="none",this.modelNavGroup.position.x<-this.mainNavSlider.period?(this.currentModel3dNavMesh=this.model3dNavMesh[9],this.currentFooterModel3dNavMesh=this.model3dNavMesh[6],this.model3dNavMesh[5].mouseLeaveAnim(0,0),this.model3dNavMesh[5].setSize()):(this.currentModel3dNavMesh=this.model3dNavMesh[5],this.currentFooterModel3dNavMesh=this.model3dNavMesh[10],this.model3dNavMesh[9].mouseLeaveAnim(0,0),this.model3dNavMesh[9].setSize()),this.model3dNavMesh[1].mouseLeaveAnim(0,0),this.model3dNavMesh[1].setSize()),this.clearModelNav(),e()}));const t=this.scrollManager.els.find((e=>e.$el===this.$currentContainer));await Promise.all([this.currentModel3dNavMesh.transitionInHomeToAbout(t,1.8),this.currentModel3dNavMesh.mouseLeaveAnim(1.8,0,!0,!1)]).then((()=>{this.currentModel3dNavMesh.restart(),this.currentModel3dNavMesh.isCurrent=!0,this.currentModel3dNavMesh.isTransitioning=!1})),this.assignPageFooterMesh(),n.a.delayedCall(.15,(()=>{this.addMeshCarriers()}))}async transitionInHomeToJournal(){this.modelNavGroup.position.x<-this.mainNavSlider.period?this.currentModel3dNavMesh=this.model3dNavMesh[6]:this.currentModel3dNavMesh=this.model3dNavMesh[10],await Promise.all([this.modelCoverMesh.toggle(1,.6),this.modelCoverMesh.toggleCenterMask(1,1.35,.675),this.currentModel3dNavMesh.transitionOutHomeToLowerSub(1.35,.675),this.counterMesh.hideAnimation(1,!1),this.circleMesh.hideAnimation(1,!1),this.ttlMesh.hideAnimation(1)]),await new Promise((e=>{this.stopModelGroupPosition(),this.gl.changeStageColor("journal"),this.clearMeshHome(),this.clearModelNav(),e()})),this.model3dNavMesh[2].mouseLeaveAnim(),this.model3dNavMesh[6].mouseLeaveAnim(),this.model3dNavMesh[10].mouseLeaveAnim()}async transitionInHomeToContact(){this.modelNavGroup.position.x<-this.mainNavSlider.period?this.currentModel3dNavMesh=this.model3dNavMesh[7]:this.currentModel3dNavMesh=this.model3dNavMesh[11],await Promise.all([this.modelCoverMesh.toggle(1,.6),this.modelCoverMesh.toggleCenterMask(1,1.35,.675),this.currentModel3dNavMesh.transitionOutHomeToLowerSub(1.35,.675),this.counterMesh.hideAnimation(1,!1),this.circleMesh.hideAnimation(1,!1),this.ttlMesh.hideAnimation(1)]),await new Promise((e=>{this.stopModelGroupPosition(),this.gl.changeStageColor("contact"),this.clearMeshHome(),this.clearModelNav(),e()})),this.model3dNavMesh[3].mouseLeaveAnim(),this.model3dNavMesh[7].mouseLeaveAnim(),this.model3dNavMesh[11].mouseLeaveAnim()}setTransitionAboutToCarriersFromFooterBanner(){this.currentFooterModel3dNavMesh.setTransitionAboutToCarriersFromFooterBanner(),this.promptCircleMesh.stop(),this.promptLineMesh.stop()}async transitionOutAboutToCarriersFromFooterBanner(){this.currentFooterModel3dNavMesh.stop(),this.model3dNavMesh.forEach((e=>{e!==this.currentFooterModel3dNavMesh&&(e.hide(),e.stop())})),this.currentModel3dNavMesh.mouseEnterProgress=0,this.currentModel3dNavMesh.animationMixer.setTime(this.currentModel3dNavMesh.mouseEnterProgress),this.$currentContainer=document.querySelector(".js-gl-mdl");const e=this.scrollManager.els.find((e=>e.$el===this.$currentContainer));await this.currentFooterModel3dNavMesh.transitionOutAboutToCarriersFromFooterBanner(e)}async transitionInAboutToCarriersFromFooterBanner(){const e=this.scrollManager.els.find((e=>e.$el===this.$currentContainer));this.currentModel3dNavMesh.clearCurrent(),this.currentModel3dNavMesh.stop(),this.modelNavGroup.remove(this.currentModel3dNavMesh.model),this.currentModel3dNavMesh=this.currentFooterModel3dNavMesh,this.currentModel3dNavMesh.setCurrent(e),this.currentModel3dNavMesh.clearCurrentFooter(),this.$currentFooter=document.querySelector(".mF_head_r"),this.$currentFooter&&(this.assignPageFooterMesh("journal"),this.modelNavGroup.add(this.currentFooterModel3dNavMesh.model)),this.addMeshCarriers(),this.promptCircleMesh.restart(),this.promptLineMesh.restart()}setTransitionCarriersToJournalFromFooterBanner(){this.currentFooterModel3dNavMesh.setTransitionCarriersToJournalFromFooterBanner(),this.promptCircleMesh.stop(),this.promptLineMesh.stop()}async transitionOutCarriersToJournalFromFooterBanner(){this.currentModel3dNavMesh.stop(),this.model3dNavMesh.forEach((e=>{e!==this.currentFooterModel3dNavMesh&&(e.hide(),e.stop())})),this.currentModel3dNavMesh.mouseEnterProgress=0,this.currentModel3dNavMesh.animationMixer.setTime(this.currentModel3dNavMesh.mouseEnterProgress),this.$currentContainer=document.querySelector(".js-gl-mdl"),await this.currentFooterModel3dNavMesh.transitionOutCarriersToJournalFromFooterBanner(this.$currentContainer),this.$currentContainer=null,this.currentModel3dNavMesh.stop(),this.currentFooterModel3dNavMesh.stop(),this.currentModel3dNavMesh.clearCurrent(),this.currentFooterModel3dNavMesh.clearCurrentFooter(),this.currentModel3dNavMesh=null,this.currentFooterModel3dNavMesh=null}async transitionInCarriersToJournalFromFooterBanner(){this.stopModelGroupPosition(),this.gl.changeStageColor("journal"),this.resetModelNav(),this.clearModelNav(),this.promptCircleMesh.restart(),this.promptLineMesh.restart()}setCurrentSelector(){this.$currentContainer=document.querySelector(".js-gl-mdl"),this.$currentFooter=document.querySelector(".mF_head_r")}assignPageCurrentNavMesh(e=""){const t=this.scrollManager.els.find((e=>e.$el===this.$currentContainer));this.$currentContainer&&(this.$currentContainer.style.pointerEvents="none",e&&(this.currentModel3dNavMesh=this.model3dNavMesh.find((t=>t.navType===e&&0!==t.count&&1!==t.count)),this.currentModel3dNavMesh.setCurrent(t),this.currentModel3dNavMesh.show(),this.currentModel3dNavMesh.setSize(),this.currentModel3dNavMesh.restart(),this.stopModelGroupPosition(),this.clearModelGroupPosition()))}assignPageFooterMesh(e=""){const t=this.scrollManager.els.find((e=>e.$el===this.$currentFooter));this.$currentFooter&&(this.$currentFooter.style.pointerEvents="none",e&&(this.currentFooterModel3dNavMesh=this.model3dNavMesh.find((t=>t.navType===e&&0!==t.count&&1!==t.count&&2!==t.count&&3!==t.count))),this.currentFooterModel3dNavMesh.setCurrentFooter(t),this.currentFooterModel3dNavMesh.show(),this.currentFooterModel3dNavMesh.setSize(),this.currentFooterModel3dNavMesh.restart(),this.stopModelGroupPosition(),this.clearModelGroupPosition())}resetModelNav(){this.currentModel3dNavMesh&&(this.currentModel3dNavMesh.stop(),this.currentModel3dNavMesh.hide(),this.modelNavGroup.remove(this.currentModel3dNavMesh.model),this.currentModel3dNavMesh.clearCurrent(),this.currentModel3dNavMesh=null),this.currentFooterModel3dNavMesh&&(this.currentFooterModel3dNavMesh.stop(),this.currentFooterModel3dNavMesh.hide(),this.modelNavGroup.remove(this.currentFooterModel3dNavMesh.model),this.currentFooterModel3dNavMesh.clearCurrentFooter(),this.currentFooterModel3dNavMesh=null),this.model3dNavMesh.forEach((e=>{e.time=0,e.model.rotation.x=0,e.model.rotation.y=0,e.restart(),e.show(),this.modelNavGroup.add(e.model)}))}clearModelNav(){this.model3dNavMesh.forEach((e=>{e!==this.currentModel3dNavMesh&&e!==this.currentFooterModel3dNavMesh&&(e.stop(),e.hide(),this.modelNavGroup.children&&this.modelNavGroup.children.length&&this.modelNavGroup.children.forEach((t=>{t===e.model&&this.modelNavGroup.remove(e.model)})))}))}clearMeshHome(){[this.counterMesh,this.modelCoverMesh,this.modelBgMesh,this.circleMesh,this.ttlMesh].forEach((e=>{e.stop(),e.hide(),requestAnimationFrame((()=>{this.stage.scene.remove(e.mesh)}))}))}addMeshHome(){[this.modelCoverMesh,this.modelBgMesh,this.circleMesh,this.counterMesh,this.ttlMesh].forEach((e=>{e.restart(),e.show(),this.stage.scene.add(e.mesh)}))}addMeshAbout(){this.scrollManager.els.forEach((e=>{const t=e.$el.dataset.glModelType;let i;switch(e.type){case"gl-model-pl":i=this.model3dParallaxMesh.find((e=>e.navType===t)),i&&(i.setEl(e),this.stage.scene.add(i.model),i.setSize(),i.show(),i.restart())}}))}addMeshCarriers(){this.scrollManager.els.forEach((e=>{const t=e.$el.dataset.glModelType;let i;switch(e.type){case"gl-model-pl":i=this.model3dParallaxMesh.find((e=>e.navType===t)),i&&(i.setEl(e),this.stage.scene.add(i.model),i.setSize(),i.show(),i.restart())}}))}clearMeshAbout(){this.model3dParallaxMesh.forEach((e=>{this.stage.scene.remove(e.model)}))}clearMeshCarriers(){this.model3dParallaxMesh.forEach((e=>{this.stage.scene.remove(e.model)}))}}class Y{constructor(e){}static disposeMesh(e,t){e.material&&(e.material.uniforms&&Object.keys(e.material.uniforms).forEach((t=>{let i=e.material.uniforms[t];(i.value instanceof x.h||i.value instanceof x.tb)&&i.value.dispose()})),e.material.dispose()),e.geometry&&e.geometry.dispose(),t&&t.remove(e)}}class V extends ${constructor({stage:e,geometry:t=null,el:i=null}){super({stage:e,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uMaskIn;\nuniform float uMaskOut;\nuniform float uMaskCurveIn;\nuniform float uMaskCurveOut;\nuniform float uTransitionDirection;\n\nuniform vec2 uMeshSize;\nuniform vec3 uColor;\n\nvarying vec2 vUv;\n\nvoid main() {\n    // uv cover\n    float curveRatio = uMeshSize.x / uMeshSize.y;\n    vec2 uvCover = vUv * 2. - 1.;\n    float uvSinIn = (1. - pow(abs(uvCover.y), 2.)) * uMaskCurveIn * 0.1 / curveRatio;\n    float uvSinOut =(1. - pow(abs(uvCover.y), 2.)) * uMaskCurveOut  * 0.1 / curveRatio;\n\n    // color cover\n    vec4 cDist = vec4(uColor, 1.);\n    if (uTransitionDirection == 1.){\n        cDist.a = mix(cDist.a, 0., step(uMaskIn, 1. - vUv.x - uvSinIn));\n        cDist.a = mix(cDist.a, 0., step(uMaskOut, vUv.x + uvSinOut));\n    } else {\n        cDist.a = mix(cDist.a, 0., step(uMaskIn, vUv.x - uvSinIn));\n        cDist.a = mix(cDist.a, 0., step(uMaskOut, 1. - vUv.x + uvSinOut));\n    }\n\n    gl_FragColor = cDist;\n}\n",geometry:t,isWireframe:!1}),this.el=i,this.tweenProgressIn=null,this.tweenProgressCurveIn=null,this.tweenProgressOut=null,this.tweenProgressCurveOut=null,Object.assign(this.uniforms,{uMeshSize:{value:{x:i.width,y:i.height}},uMeshSizeRatio:{value:{x:i.width/(i.width+i.height),y:i.height/(i.width+i.height)}},uColor:{value:"dark"===P.colorChange.type?new x.k("#151515"):new x.k("#001477")},uTransitionDirection:{value:1},uMaskIn:{value:0},uMaskOut:{value:1},uMaskCurveIn:{value:0},uMaskCurveOut:{value:0},uIsMobileLayout:{value:window.isMobileLayout}}),this.slideSpeed=.65,this.slideSpeedHalf=.5*this.slideSpeed}init(){super.init(),this.setMeshSize(),this.mesh.material.depthTest=!0,this.mesh.material.depthWrite=!0}reinit(){this.setMeshSize()}onResize(){this.setMeshSize()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.el.isInView?(this.setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}),this.mesh.visible||(this.mesh.visible=!0)):this.mesh.visible&&(this.mesh.visible=!1)}setTexture(e,t){e.minFilter=x.G,this.uniforms.uTexture.value=e,e.dispose(),n.a.to(this.uniforms.uFadeIn,t,{value:1,ease:"none"})}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}){this.mesh.position.x=-this.screenWidthHalf+this.el.left+this.widthHalf,this.mesh.position.y=e-this.el.top+this.screenHeightHalf-this.heightHalf}async in(){await new Promise((e=>{this.mesh.visible=!0,h.clearTween(this.tweenProgressIn),h.clearTween(this.tweenProgressCurveIn),this.uniforms.uTransitionDirection.value=1,this.tweenProgressIn=n.a.to(this.uniforms.uMaskIn,this.slideSpeed,{value:1,ease:"cubic.inOut",onComplete:()=>{h.clearTween(this.tweenProgressIn),this.tweenProgressIn=null,h.clearTween(this.tweenProgressCurveIn),this.tweenProgressCurveIn=null,e()}}),this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.slideSpeedHalf,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveIn),this.tweenProgressCurveIn=null,this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.slideSpeedHalf,{value:0,ease:"cubic.out"})}})}))}async out(){await new Promise((e=>{h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.tweenProgressOut=n.a.to(this.uniforms.uMaskOut,this.slideSpeed,{value:0,ease:"cubic.inOut",delay:.075,onComplete:()=>{this.uniforms.uMaskOut.value=1,this.uniforms.uMaskIn.value=0,h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),e()}}),n.a.to(this.uniforms.uMaskCurveOut,this.slideSpeedHalf,{value:1,ease:"cubic.in",delay:.075,onComplete:()=>{h.clearTween(this.tweenProgressCurveOut),this.tweenProgressCurveOut=null,this.tweenProgressCurveOut=n.a.to(this.uniforms.uMaskCurveOut,this.slideSpeedHalf,{value:0,ease:"cubic.out"})}})}))}async in2(){await new Promise((e=>{h.clearTween(this.tweenProgressIn),h.clearTween(this.tweenProgressCurveIn),this.uniforms.uTransitionDirection.value=0,this.tweenProgressIn=n.a.to(this.uniforms.uMaskIn,this.slideSpeed,{value:1,ease:"cubic.inOut",onComplete:()=>{h.clearTween(this.tweenProgressIn),this.tweenProgressIn=null,h.clearTween(this.tweenProgressCurveIn),this.tweenProgressCurveIn=null,e()}}),this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.slideSpeedHalf,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveIn),this.tweenProgressCurveIn=null,this.tweenProgressCurveIn=n.a.to(this.uniforms.uMaskCurveIn,this.slideSpeedHalf,{value:0,ease:"cubic.out"})}})}))}async out2(){await new Promise((e=>{this.mesh.visible=!0,h.clearTween(this.tweenProgressOut),h.clearTween(this.tweenProgressCurveOut),this.tweenProgressOut=n.a.to(this.uniforms.uMaskOut,this.slideSpeed,{value:0,ease:"cubic.inOut",onComplete:()=>{this.uniforms.uMaskIn.value=0,this.uniforms.uMaskOut.value=1,this.uniforms.uMaskOut.value=1,this.uniforms.uMaskIn.value=0,h.clearTween(this.tweenProgressCurveOut),this.tweenProgressCurveOut=null,e()}}),this.tweenProgressCurveOut=n.a.to(this.uniforms.uMaskCurveOut,this.slideSpeedHalf,{value:1,ease:"cubic.in",onComplete:()=>{h.clearTween(this.tweenProgressCurveOut),this.tweenProgressCurveOut=null,this.tweenProgressCurveOut=n.a.to(this.uniforms.uMaskCurveOut,this.slideSpeedHalf,{value:0,ease:"cubic.out"})}})}))}}class X extends ${constructor({stage:e,geometry:t=null,el:i=null,canvas2d:s=null,type:o=null,textureArrow:n=null}){super({stage:e,vs:"#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nmat3 rotation3dZ(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat3(\n    c, s, 0.0,\n    -s, c, 0.0,\n    0.0, 0.0, 1.0\n    );\n}\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nuniform float uTransitionProgress;\n\nattribute vec2 uv;\nattribute vec3 position;\n\nvarying vec2 vUv;\n\nvoid main()  {\n    vec3 pos = position;\n\n    vUv = uv;\n\n    float t = 1. - uv.y;\n    float b = uv.y;\n    float l = uv.x;\n    float r = 1. - uv.x;\n    float tL = (uv.x + 1.- uv.y);\n    float tR = (1.-uv.x + 1.- uv.y);\n    float bL = (uv.x + uv.y);\n    float bR = (1.-uv.x + uv.y);\n\n    float activation = tL;\n\n    float latestStart = 0.4;\n    float startAt = activation * latestStart;\n    float vProgress = smoothstep(startAt, 1., uTransitionProgress);\n    float progressMax = 0.5;\n\n    float progress = min(\n    clamp(vProgress / progressMax, 0., 1.),\n    clamp((1.-vProgress) / (1.- progressMax), 0., 1.)\n    );\n\n    progress = smoothstep(0., 1., progress);\n\n    vec2 amplitude = vec2( 0.0125, 0.05 );\n//\n    pos.xy *= 1. + (1. - uTransitionProgress) * 0.1;\n\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.);\n}\n",fs:"button"===o?"precision highp float;\n#define GLSLIFY 1\nconst float PI = 3.1415926535897932384626433832795;\n\nuniform float uTime;\nuniform float uFade;\nuniform float uTransitionProgress;\nuniform float uDotScale;\nuniform float uArrowFade;\nuniform float uArrowTranslate;\n\nuniform vec2 uMeshSize;\nuniform vec2 uDotOffsetRatio;\n\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureArrow;\n\nuniform bool uIsMobileLayout;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvRatio = vec2(\n    min((uMeshSize.x / uMeshSize.y), 1.),\n    min((uMeshSize.y / uMeshSize.x), 1.)\n    );\n\n    vec2 uvArrow = vUv;\n    uvArrow -= 0.5;\n    uvArrow *= uvRatio;\n    uvArrow += 0.5;\n    uvArrow.x += 0.5 * uvRatio.x;\n    uvArrow.x -= uDotOffsetRatio.x;\n\n    uvArrow.y -= uvRatio.y * 0.5;\n    uvArrow.y += uDotOffsetRatio.y * uvRatio.y;\n    uvArrow -= 0.5;\n    uvArrow /= 0.115;\n    uvArrow += 0.5;\n\n    uvArrow.x += (1. - uArrowTranslate) * 0.45;\n\n    vec4 cArrow = texture2D(uTextureArrow, uvArrow);\n    cArrow.a *= uArrowFade;\n    cArrow.rgb = vec3(uColor2);\n\n    vec2 uvDot = vUv * 2. - 1.;\n    uvDot *= uvRatio;\n\n    uvDot.x += 1. * uvRatio.x;\n    uvDot.x -= uDotOffsetRatio.x * 2.;\n\n    uvDot.y -= uvRatio.y;\n    uvDot.y += uDotOffsetRatio.y * uvRatio.y * 2.;\n    uvDot /= 1. + 8.95 * uDotScale;\n\n    float dotScaleRatio = uIsMobileLayout ? 0.075 : 0.05;\n    uvDot /= dotScaleRatio;\n\n    float l = length(uvDot);\n    vec4 dot = mix(vec4(uColor1, 1.), vec4(uColor1, 0.), smoothstep(.5, .54 + 0.25 * (1. - uDotScale), l));\n    vec4 cDot = dot;\n\n    vec4 cText = texture2D(uTexture, vUv);\n    cDot.rgb = mix(cDot.rgb, uColor2, smoothstep(0., 1., cText.a));\n    cDot = mix(cDot, cArrow, smoothstep(0., 1., cArrow.a));\n\n    vec4 cDist = mix(cText, cDot, smoothstep(0., 1., cDot.a));\n\n    gl_FragColor = vec4(cDist);\n}\n":"precision highp float;\n#define GLSLIFY 1\n\nuniform float uFade;\nuniform sampler2D uTexture;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec4 cDist = texture2D( uTexture, vUv );\n    cDist.a *= uFade;\n\n    gl_FragColor = cDist;\n}\n",geometry:t,isWireframe:!1}),this.type=o,this.el=i,this.canvas2d=s,Object.assign(this.uniforms,{uMeshSize:{value:{x:i.width,y:i.height}},uMeshSizeRatio:{value:{x:i.width/(i.width+i.height),y:i.height/(i.width+i.height)}},uTexture:{value:new x.h(this.canvas2d.$canvas)},uFade:{value:0},uTransitionProgress:{value:0},uTransitionScale:{value:{x:0,y:0}},uTime:{value:0}}),this.uniforms.uTransitionProgress.value=1,this.uniforms.uFade.value=1,"button"===this.type&&(this.textureArrow=n,this.$dot=this.el.$el.querySelector(".jsC_dot"),this.uniforms.uDotOffsetRatio={value:{x:0,y:0}},this.uniforms.uDotSizeRatio={value:{x:0,y:0}},this.uniforms.uDotScale={value:0},this.uniforms.uArrowFade={value:0},this.uniforms.uArrowTranslate={value:0},this.uniforms.uIsMobileLayout={value:window.isMobileLayout},this.uniforms.uTextureArrow={value:this.textureArrow},this.uniforms.uColor1={value:"dark"===P.colorChange.type?new x.k("#eeeeee"):new x.k("#ffffff")},this.uniforms.uColor2={value:"dark"===P.colorChange.type?new x.k("#151515"):new x.k("#1735cc")},this.tweenDotScale=null,this.tweenArrowFade=null,this.tweenArrowTranslate=null),this.uniforms.uTexture.value.minFilter=x.G,this.uniforms.uTexture.value.rotation=-1,this.tweenFade=null,this.tweenTransitionProgress=null,this.startWidth=0,this.startHeight=0,this.startWidthHalf=0,this.startHeightHalf=0,this.transitionTranslateX=0}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.mesh.material.depthTest=!0,this.mesh.material.depthWrite=!0,"button"===this.type&&this.setEvent()}reinit(){this.setMeshSize()}async in(e=0,t=1.3){h.clearTween(this.tweenFade),h.clearTween(this.tweenTransitionProgress),this.uniforms.uFade.value=0,this.uniforms.uTransitionProgress.value=0,this.uniforms.uTransitionScale.value.x=0,this.uniforms.uTransitionScale.value.y=0;const i={x:this.width/this.startWidth-1,y:this.height/this.startHeight-1};await new Promise((s=>{this.mesh.visible?(this.transitionTranslateX=.075*window.innerWidth,this.setMeshPosition({scrollY:0}),n.a.to(this,1.75*e,{transitionTranslateX:0,ease:"expo.out",delay:t,onUpdate:()=>{this.setMeshPosition({scrollY:0})}}),this.tweenFade=n.a.to(this.uniforms.uFade,.5*e,{value:1,delay:t+.25}),this.uTransitionProgress=n.a.to(this.uniforms.uTransitionProgress,1.75*e,{value:1,ease:h.getCubicCurve(.21,1,.21,1),delay:t,onComplete:()=>{s()}}),this.uTransitionScale=n.a.to(this.uniforms.uTransitionScale.value,e,{x:i.x,y:i.y,ease:"quart.out",delay:t,onComplete:()=>{this.uniforms.uTransitionScale.value.x=0,this.uniforms.uTransitionScale.value.y=0,this.mesh.scale.set(this.width,this.height,this.height),s()}})):s()}))}async out(e=1.3,t=0){await new Promise((t=>{this.mesh.visible?n.a.to(this,e,{transitionTranslateX:.075*-window.innerWidth,ease:"cubic.inOut",onUpdate:()=>{this.setMeshPosition({scrollY:0})},onComplete:()=>{t()}}):t()}))}onResize(){this.setMeshSize()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.uniforms.uTime.value+=i,this.el.isInView?(this.setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}),this.mesh.visible||(this.mesh.visible=!0)):this.mesh.visible&&(this.mesh.visible=!1)}setMeshSize(){if(this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.startWidth=.7*this.width,this.startHeight=.7*this.height,this.startWidthHalf=.5*this.startWidth,this.startHeightHalf=.5*this.startHeightHalf,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,1),"button"===this.type){const e=this.$dot.getBoundingClientRect();let t={x:0,y:0};t.x=Math.round((.5*e.width+this.$dot.offsetLeft)/this.width*1e3)/1e3,t.y=Math.round((.5*e.height+this.$dot.offsetTop)/this.height*1e3)/1e3,this.uniforms.uDotOffsetRatio.value=t}}setMeshPosition({scrollY:e=0,scrollDeltaY:t,timeDelta:i}){this.mesh.position.x=-this.screenWidthHalf+this.el.left+this.widthHalf+this.transitionTranslateX,this.mesh.position.y=e-this.el.top+this.screenHeightHalf-this.heightHalf}setEvent(){OTHER&&!window.isMobileLayout&&(this.el.$el.addEventListener("mouseenter",this.onMouseEnter.bind(this),!1),this.el.$el.addEventListener("mouseleave",this.onMouseLeave.bind(this),!1))}onMouseEnter(){const e=h.getCubicCurve(.165,.84,.44,1),t=h.getCubicCurve(.15,.05,.2,1);requestAnimationFrame((()=>{this._clearMouseAnimationTween(),this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.625,{value:1,ease:e}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.65,{value:1,ease:e,delay:.05}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.65,{value:1,ease:t,delay:.05})}))}onMouseLeave(){const e=h.getCubicCurve(.23,1,.32,1),t=h.getCubicCurve(.15,.05,.2,1);requestAnimationFrame((()=>{this._clearMouseAnimationTween(),this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.575,{value:0,ease:e,delay:.1}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.575,{value:0,ease:e,delay:.1}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.15,{value:0,ease:t,delay:.1})}))}_clearMouseAnimationTween(){[this.tweenDotScale,this.tweenArrowTranslate,this.tweenArrowFade].forEach((e=>{h.clearTween(e)}))}}class J extends ${constructor({stage:e,geometry:t=null,el:i=null,canvas2d:s=null,textureArrow:o=null}){super({stage:e,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uMask;\nuniform float uMask2;\nuniform float uOpacity;\nuniform float uTextTranslate;\nuniform float uDotScale;\nuniform float uArrowFade;\nuniform float uArrowTranslate;\n\nuniform vec2 uMeshSize;\nuniform vec2 uDotOffsetRatio;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureArrow;\n\nuniform bool uIsMobileLayout;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvRatio = vec2(\n    min((uMeshSize.x / uMeshSize.y), 1.),\n    min((uMeshSize.y / uMeshSize.x), 1.)\n    );\n\n    vec2 uvArrow = vUv;\n    uvArrow -= 0.5;\n    uvArrow *= uvRatio;\n    uvArrow += 0.5;\n    uvArrow.x += 0.5 * uvRatio.x;\n    uvArrow.x -= uDotOffsetRatio.x;\n    uvArrow.x += uTextTranslate * 0.0225;\n\n    uvArrow.y -= uvRatio.y * 0.5;\n    uvArrow.y += uDotOffsetRatio.y * uvRatio.y;\n    uvArrow -= 0.5;\n    uvArrow /= 0.0175;\n    uvArrow += 0.5;\n\n    uvArrow.x += (1. - uArrowTranslate) * 0.5;\n\n    vec4 cArrow = texture2D(uTextureArrow, uvArrow);\n    cArrow.a *= uArrowFade;\n    cArrow.rgb = uColor1;\n\n    vec2 uvDot = vUv * 2. - 1.;\n    uvDot *= uvRatio;\n    uvDot.x += 1. * uvRatio.x;\n    uvDot.x -= uDotOffsetRatio.x * 2.;\n\n    uvDot.x += uTextTranslate * 0.0225 * 2.;\n\n    uvDot.y -= uvRatio.y;\n    uvDot.y += uDotOffsetRatio.y * uvRatio.y * 2.;\n\n    uvDot /= 1. + 5.5 * uDotScale;\n    uvDot /= uIsMobileLayout ? 0.0195 : 0.0125;\n\n    vec3 cW = vec3(1.);\n    float l = length(uvDot);\n    vec4 dot = mix(vec4(cW, 1.), vec4(cW, 0.), smoothstep(.5, .51, l));\n    vec4 cDot = dot;\n\n    vec2 uvText = vUv;\n    uvText.x += uTextTranslate * 0.0225;\n\n    vec4 cText = texture2D(uTexture, uvText);\n    vec4 cColor1 = vec4(uColor1, 1.);\n    vec4 cColor2 = vec4(uColor2, 1.);\n    vec4 cDist = mix(cColor1, cText, smoothstep(0., 1., cText.a));\n    cDot.rgb = mix(cDot.rgb, vec3(uColor1), smoothstep(0., 1., cDist.r));\n\n    cDist = mix(cDist, cDot, smoothstep(0., 1., cDot.a));\n    cDist = mix(cDist, cArrow, smoothstep(0., 1., cArrow.a));\n\n    cDist = mix(cColor2, cDist, step(vUv.x, uMask));\n    cDist.a = mix(0., cDist.a, step(vUv.x, uMask2));\n\n    gl_FragColor = cDist;\n}",geometry:t,isWireframe:!1}),this.canUpdate=!0,this.el=i,this.$elTtlSub=this.el.$el.querySelector(".mF_head_ttl_sub"),this.canvas2d=s,this.tweenMask=null,this.tweenTextTranslate=null,this.tweenDotScale=null,this.tweenArrowFade=null,this.tweenArrowTranslate=null,this.transitionScreenCoord={x:0,y:0},this.ttlSubOffsetRatio={x:0,y:0},this.textureArrow=o,this.transitionTranslateX=0,Object.assign(this.uniforms,{uMeshSize:{value:{x:i.width,y:i.height}},uMeshSizeRatio:{value:{x:i.width/(i.width+i.height),y:i.height/(i.width+i.height)}},uTexture:{value:new x.h(this.canvas2d.$canvas)},uTextureArrow:{value:o},uColor1:{value:"dark"===P.colorChange.type?new x.k("#212121"):new x.k("#1735cc")},uColor2:{value:"dark"===P.colorChange.type?new x.k("#1c1c1c"):new x.k("#ecedef")},uMask:{value:.8},uMask2:{value:1},uTextTranslate:{value:0},uDotOffsetRatio:{value:{x:0,y:0}},uDotScale:{value:0},uArrowFade:{value:0},uArrowTranslate:{value:0},uIsMobileLayout:{value:window.isMobileLayout}})}init(){super.init(),this.setMeshSize(),this.setOffsetRatioSubTextDot(),this.mesh.material.depthTest=!0,this.mesh.material.depthWrite=!0,this.el.$el.style.visibility="",this.el.$el.style.opacity=0}reinit(){this.setMeshSize()}onResize(){this.setMeshSize(),this.setOffsetRatioSubTextDot()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.canUpdate&&(this.el.isInView?(this.setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}),this.mesh.visible||(this.mesh.visible=!0)):this.mesh.visible&&(this.mesh.visible=!1))}setTexture(e,t){e.minFilter=x.G,this.uniforms.uTexture.value=e,e.dispose(),n.a.to(this.uniforms.uFadeIn,t,{value:1,ease:"none"})}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,0)}setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}){this.mesh.position.x=-this.screenWidthHalf+this.el.left+this.widthHalf+this.transitionTranslateX,this.mesh.position.y=e-this.el.top+this.screenHeightHalf-this.heightHalf}setOffsetRatioSubTextDot(){this.ttlSubOffsetRatio.x=(this.$elTtlSub.getBoundingClientRect().width+this.$elTtlSub.offsetLeft)/this.width+.01125,this.ttlSubOffsetRatio.y=(this.$elTtlSub.offsetTop+.5*this.$elTtlSub.getBoundingClientRect().height)/this.height,this.uniforms.uDotOffsetRatio.value=this.ttlSubOffsetRatio}onMouseEnter(){const e=h.getCubicCurve(.165,.84,.44,1),t=h.getCubicCurve(.15,.05,.2,1);this._clearMouseAnimationTween(),requestAnimationFrame((()=>{this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.525,{value:1,ease:e,delay:.15}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.55,{value:1,ease:e,delay:.2}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.55,{value:1,ease:t,delay:.2}),this.tweenMask=n.a.to(this.uniforms.uMask,.75,{value:.725,ease:e,delay:.15}),this.tweenTextTranslate=n.a.to(this.uniforms.uTextTranslate,.75,{value:1,ease:e,delay:.2})}))}onMouseLeave(){const e=h.getCubicCurve(.23,1,.32,1),t=h.getCubicCurve(.15,.05,.2,1);this._clearMouseAnimationTween(),requestAnimationFrame((()=>{this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.65,{value:0,ease:e,delay:.15}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.65,{value:0,ease:e,delay:.15}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.15,{value:0,ease:t,delay:.15}),this.tweenMask=n.a.to(this.uniforms.uMask,.75,{value:.8,ease:"cubic.out"}),this.tweenTextTranslate=n.a.to(this.uniforms.uTextTranslate,.75,{value:0,ease:"cubic.out"})}))}_clearMouseAnimationTween(){[this.tweenDotScale,this.tweenTextTranslate,this.tweenMask,this.tweenArrowTranslate,this.tweenArrowFade].forEach((e=>{h.clearTween(e)}))}setTransitionAboutToCarriersFromFooterBanner(){const e=this.el.$el.getBoundingClientRect();this.transitionScreenCoord.x=e.left,this.transitionScreenCoord.y=e.top,this.canUpdate=!1}async transitionOutAboutToCarriersFromFooterBanner(e){await new Promise((t=>{h.clearTween(this.tweenMask),this.tweenMask=n.a.to(this.uniforms.uMask,.75,{value:0,ease:"cubic.inOut"}),h.clearTween(this.tweenTextTranslate),this.tweenTextTranslate=n.a.to(this.uniforms.uTextTranslate,.75,{value:4,ease:"cubic.inOut",delay:.075,onComplete:()=>{const t=document.querySelector(".js-gl-cc").getBoundingClientRect(),i=-this.screenWidthHalf+t.left+.5*t.width,s=-t.top+this.screenHeightHalf-.5*t.height;n.a.to(this.mesh.position,.75,{x:i,y:s,ease:"cubic.inOut"}),n.a.to(this.mesh.scale,.75,{x:t.width,y:t.height,ease:"cubic.inOut",onComplete:()=>{e.querySelector(".cSec_fv_img").style.opacity=1,this.mesh.visible=!1}})}}),t()}))}setTransitionCarriersToJournalFromFooterBanner(){this.setTransitionAboutToCarriersFromFooterBanner()}async transitionOutCarriersToJournalFromFooterBanner(e){await new Promise((e=>{h.clearTween(this.tweenMask),this.tweenMask=n.a.to(this.uniforms.uMask,.75,{value:0,ease:"cubic.inOut"}),h.clearTween(this.tweenTextTranslate),this.tweenTextTranslate=n.a.to(this.uniforms.uTextTranslate,.75,{value:4,ease:"cubic.inOut",delay:.075,onComplete:()=>{const t=document.querySelector(".js-gl-cc").getBoundingClientRect(),i=-this.screenWidthHalf+t.left+.5*t.width+t.width;n.a.to(this.mesh.position,1.25,{x:i,ease:h.getCubicCurve(.725,0,.15,1),onComplete:()=>{this.mesh.visible=!1,e()}}),n.a.to(this.mesh.scale,1.25,{x:t.width,y:t.height,ease:h.getCubicCurve(.725,0,.15,1)})}})}))}async out(e=1.3,t=0){await new Promise((t=>{this.mesh.visible?n.a.to(this,e,{transitionTranslateX:.075*-window.innerWidth,ease:"cubic.inOut",onComplete:()=>{this.transitionTranslateX=0,t()}}):t()}))}}class K{constructor(e){Object.assign(this,e),this.textElementMesh=[],this.textElementCvs=[],this.sliderCoverMesh=[],this.footerMesh=[],this.footerCvs=[]}async setMesh(){this.sliderCoverMesh=[],this.textElementMesh=[],this.textElementCvs=[];let e=0,t=0,i=0,s=new x.bb(1,1,1,1);this.scrollManager.els.forEach((o=>{switch(o.type){case"gl-slider-cover":this._setMeshSliderCover(o,t,s),t++;break;case"gl-footer-banner":this._setFooterMesh(o,i,s),i++;break;case"gl-text":this._setTextElementMesh(o,e,s),e++}})),s.dispose(),s=null}_setTextElementMesh(e,t,i){e.$el.style.color="";const s=e.$el.dataset;this.textElementCvs[t]=new G,this.textElementCvs[t].setCanvasGroup({el:e.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.$el.style.color="transparent",this.textElementMesh[t]=new X({stage:this.stage,geometry:i,canvas2d:this.textElementCvs[t],el:e,type:s.elementType}),this.textElementMesh[t].init(),this.stage.scene.add(this.textElementMesh[t].mesh)}_setMeshSliderCover(e,t,i){this.sliderCoverMesh[t]=new V({stage:this.stage,geometry:i,el:e}),this.sliderCoverMesh[t].init(),this.stage.scene.add(this.sliderCoverMesh[t].mesh)}_setFooterMesh(e,t,i){this.footerCvs[t]=new G,this.footerCvs[t].setCanvasGroup({el:e.$el,childrenName:".mF_head_i",isOriginScreen:!1}),this.footerMesh[t]=new J({stage:this.stage,geometry:i,canvas2d:this.footerCvs[t],el:e,textureArrow:this.gl.common.textureArrow}),this.footerMesh[t].init(),this.stage.scene.add(this.footerMesh[t].mesh)}onResize(){this.textElementMesh.forEach(((e,t)=>{e.el.$el.style.color="",this.textElementCvs[t].clearCanvas(),this.textElementCvs[t].setCanvasGroup({el:e.el.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.el.$el.style.color="transparent",e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.textElementCvs[t].$canvas),e.canvas2d=this.textElementMesh[t],e.onResize()})),this.sliderCoverMesh.forEach((e=>{e.onResize()})),this.footerMesh.forEach(((e,t)=>{this.footerCvs[t].clearCanvas(),this.footerCvs[t].setCanvasGroup({el:e.el.$el,childrenName:".mF_head_i",isOriginScreen:!1}),e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.footerCvs[t].$canvas),e.canvas2d=this.footerCvs[t],e.onResize()}))}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this.textElementMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})})),this.sliderCoverMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})})),this.footerMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})}))}removeMesh(){this._removeMeshTextElement(),this._removeMeshSliderCover(),this._removeMeshFooterCover()}_removeMeshSliderCover(){this.sliderCoverMesh.forEach(((e,t)=>{Y.disposeMesh(this.sliderCoverMesh[t].mesh,this.stage.scene),this.sliderCoverMesh[t]=null})),this.sliderCoverMesh=null,this.sliderCoverMesh=[]}_removeMeshTextElement(){this.textElementMesh.forEach(((e,t)=>{Y.disposeMesh(this.textElementMesh[t].mesh,this.stage.scene),this.textElementMesh[t]=null})),this.textElementMesh=null,this.textElementMesh=[]}_removeMeshFooterCover(){this.footerMesh.forEach(((e,t)=>{Y.disposeMesh(this.footerMesh[t].mesh,this.stage.scene),this.footerMesh[t]=null})),this.footerMesh=null,this.footerMesh=[]}async viewWillAppearStartupAbout(){await new Promise((e=>{this.textElementMesh[0].in(1.5,0).then((()=>{e()}))}))}async transitionInDefault(){await new Promise((e=>{this.textElementMesh[0].in(1.5,0).then((()=>{e()}))}))}async transitionOutDefault(){this.footerMesh.forEach((e=>{e.out(1.5,0)}))}async transitionInHomeToAbout(){await new Promise((e=>{this.textElementMesh[0].in(1.5,1.575).then((()=>{e()}))}))}setTransitionAboutToCarriersFromFooterBanner(){this.footerMesh[0].setTransitionAboutToCarriersFromFooterBanner()}async transitionOutAboutToCarriersFromFooterBanner(e){await this.footerMesh[0].transitionOutAboutToCarriersFromFooterBanner(e)}}class Q extends ${constructor({stage:e,geometry:t=null,el:i=null,canvas2d:s=null,textureArrow:o=null}){super({stage:e,vs:"#define GLSLIFY 1\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec2 uv;\nattribute vec3 position;\nvarying vec2 vUv;\n\nvoid main()  {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n}\n",fs:"precision highp float;\n#define GLSLIFY 1\n\nuniform float uDotScale;\nuniform float uArrowFade;\nuniform float uArrowTranslate;\nuniform vec2 uMeshSize;\nuniform vec2 uDotOffsetRatio;\nuniform vec3 uColor1;\nuniform vec3 uColor2;\n\nuniform sampler2D uTexture;\nuniform sampler2D uTextureArrow;\n\nuniform bool uIsMobileLayout;\n\nvarying vec2 vUv;\n\nvoid main() {\n    vec2 uvRatio = vec2(\n        min((uMeshSize.x / uMeshSize.y), 1.),\n        min((uMeshSize.y / uMeshSize.x), 1.)\n    );\n\n    vec2 uvArrow = vUv;\n    uvArrow -= 0.5;\n    uvArrow *= uvRatio;\n    uvArrow += 0.5;\n    uvArrow.x += 0.5 * uvRatio.x;\n    uvArrow.x -= uDotOffsetRatio.x;\n\n    uvArrow.y -= uvRatio.y * 0.5;\n    uvArrow.y += uDotOffsetRatio.y * uvRatio.y;\n    uvArrow -= 0.5;\n    uvArrow /= 0.175;\n    uvArrow += 0.5;\n\n    uvArrow.x += (1. - uArrowTranslate) * 0.65;\n\n    vec4 cArrow = texture2D(uTextureArrow, uvArrow);\n    cArrow.a *= uArrowFade;\n    cArrow.rgb = vec3(uColor2);\n\n    vec2 uvDot = vUv * 2. - 1.;\n    uvDot *= uvRatio;\n\n    uvDot.x += 1. * uvRatio.x;\n    uvDot.x -= uDotOffsetRatio.x * 2.;\n\n    uvDot.y -= uvRatio.y;\n    uvDot.y += uDotOffsetRatio.y * uvRatio.y * 2.;\n    uvDot /= 1. + 5.95 * uDotScale;\n\n    float dotScaleRatio = uIsMobileLayout ? 0.1 : 0.15;\n    uvDot /= dotScaleRatio;\n\n    float l = length(uvDot);\n    vec4 dot = mix(vec4(uColor1, 1.), vec4(uColor1, 0.), smoothstep(.5, .54 + 0.25 * (1. - uDotScale), l));\n    vec4 cDot = dot;\n\n    vec4 cText  = texture2D( uTexture, vUv );\n    cDot.rgb = mix( cDot.rgb, uColor2,  smoothstep(0., 1., cText.a) );\n    cDot = mix(cDot, cArrow, smoothstep(0., 1., cArrow.a));\n\n    vec4 cDist = mix(cText, cDot, smoothstep(0., 1., cDot.a));\n\n    gl_FragColor = cDist;\n}\n",geometry:t,isWireframe:!1}),this.el=i,this.el&&this.el.$el&&(this.$dot=this.el.$el.querySelector(".pCr_ovw_btn_dot"),this.$dot.style.opacity=0),this.canvas2d=s,this.textureArrow=o,this.dotOffsetRatio={x:0,y:0},Object.assign(this.uniforms,{uMeshSize:{value:{x:i.width,y:i.height}},uMeshSizeRatio:{value:{x:i.width/(i.width+i.height),y:i.height/(i.width+i.height)}},uColor1:{value:"dark"===P.colorChange.type?new x.k("#eeeeee"):new x.k("#1735cc")},uColor2:{value:"dark"===P.colorChange.type?new x.k("#151515"):new x.k("#ffffff")},uTexture:{value:new x.h(this.canvas2d.$canvas)},uTextureArrow:{value:o},uDotOffsetRatio:{value:{x:0,y:0}},uDotScale:{value:0},uArrowFade:{value:0},uArrowTranslate:{value:0},uIsMobileLayout:{value:window.isMobileLayout}}),this.uniforms.uTexture.value.minFilter=x.G,this.transitionTranslateX=0,this.tweenDotScale=null,this.tweenArrowFade=null,this.tweenArrowTranslate=null}init(){this.material.uniforms=this.uniforms,this.mesh=new x.O(this.geometry,this.material),this.geometry.dispose(),this.material.dispose(),this.setMeshSize(),this.setOffsetRatioSubTextDot(),this.setEvent()}reinit(){this.setMeshSize(),this.setOffsetRatioSubTextDot()}onResize(){this.setMeshSize(),this.setOffsetRatioSubTextDot()}onUpdate({scrollY:e,scrollDeltaY:t,timeDelta:i=0}){this.el.isInView?(this.setMeshPosition({scrollY:e,scrollDeltaY:t,timeDelta:i}),this.mesh.visible||(this.mesh.visible=!0)):this.mesh.visible&&(this.mesh.visible=!1)}setMeshSize(){this.screenWidthHalf=.5*this.stage.stageSize.width,this.screenHeightHalf=.5*this.stage.stageSize.height,this.uniforms.uResolutionWindow.value.x=this.stage.stageSize.width,this.uniforms.uResolutionWindow.value.y=this.stage.stageSize.height,this.width=this.el.width,this.height=this.el.height,this.widthHalf=.5*this.width,this.heightHalf=.5*this.height,this.uniforms.uMeshSize.value.x=this.width,this.uniforms.uMeshSize.value.y=this.height,this.uniforms.uMeshSizeRatio.x=this.width/(this.width+this.height),this.uniforms.uMeshSizeRatio.y=this.height/(this.width+this.height),this.mesh.scale.set(this.width,this.height,1)}setMeshPosition({scrollY:e=0,scrollDeltaY:t,timeDelta:i}){this.mesh.position.x=-this.screenWidthHalf+this.el.left+this.widthHalf+this.transitionTranslateX,this.mesh.position.y=e-this.el.top+this.screenHeightHalf-this.heightHalf}setOffsetRatioSubTextDot(){this.$dot&&(this.dotOffsetRatio.x=(.5*this.$dot.getBoundingClientRect().width+this.$dot.offsetLeft)/this.width,this.dotOffsetRatio.y=(.5*this.$dot.getBoundingClientRect().height+this.$dot.offsetTop)/this.height,this.uniforms.uDotOffsetRatio.value=this.dotOffsetRatio)}setEvent(){OTHER&&(this.el.$el.addEventListener("mouseenter",this.onMouseEnter.bind(this),!1),this.el.$el.addEventListener("mouseleave",this.onMouseLeave.bind(this),!1))}onMouseEnter(){const e=h.getCubicCurve(.165,.84,.44,1),t=h.getCubicCurve(.15,.05,.2,1);this._clearMouseAnimationTween(),this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.625,{value:1,ease:e}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.65,{value:1,ease:e,delay:.05}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.65,{value:1,ease:t,delay:.05})}onMouseLeave(){const e=.15,t=h.getCubicCurve(.23,1,.32,1),i=h.getCubicCurve(.15,.05,.2,1);this._clearMouseAnimationTween(),this.tweenDotScale=n.a.to(this.uniforms.uDotScale,.575,{value:0,ease:t,delay:e}),this.tweenArrowTranslate=n.a.to(this.uniforms.uArrowTranslate,.575,{value:0,ease:t,delay:e}),this.tweenArrowFade=n.a.to(this.uniforms.uArrowFade,.15,{value:0,ease:i,delay:e})}_clearMouseAnimationTween(){[this.tweenDotScale,this.tweenArrowFade,this.tweenArrowTranslate].forEach((e=>{h.clearTween(e)}))}async out(e=1.3,t=0){await new Promise((t=>{this.mesh.visible?n.a.to(this,e,{transitionTranslateX:.075*-window.innerWidth,ease:"cubic.inOut",onUpdate:()=>{this.setMeshPosition({scrollY:0})},onComplete:()=>{t()}}):t()}))}}class Z{constructor(e){Object.assign(this,e),this.entryElementMesh=[],this.entryElementCvs=[],this.footerMesh=[],this.footerCvs=[]}async setMesh(){this.entryElementMesh=[],this.entryElementCvs=[];let e=0,t=new x.bb(1,1,1,1);this.scrollManager.els.forEach((i=>{switch(i.type){case"gl-footer-banner":this._setFooterMesh(i,0,t);break;case"gl-entry":this._setEntryElementMesh(i,e,t),e++}})),t.dispose(),t=null}_setEntryElementMesh(e,t,i){e.$el.style.color="",this.entryElementCvs[t]=new G,this.entryElementCvs[t].setCanvasGroup({el:e.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.$el.style.color="transparent",this.entryElementMesh[t]=new Q({stage:this.stage,geometry:i,canvas2d:this.entryElementCvs[t],el:e,textureArrow:this.gl.common.textureArrow}),this.entryElementMesh[t].init(),this.stage.scene.add(this.entryElementMesh[t].mesh)}_setMeshSliderCover(e,t,i){this.sliderCoverMesh[t]=new SliderCoverMesh({stage:this.stage,geometry:i,el:e}),this.sliderCoverMesh[t].init(),this.stage.scene.add(this.sliderCoverMesh[t].mesh)}_setFooterMesh(e,t,i){this.footerCvs[t]=new G,this.footerCvs[t].setCanvasGroup({el:e.$el,childrenName:".mF_head_i",isOriginScreen:!1}),this.footerMesh[t]=new J({stage:this.stage,geometry:i,canvas2d:this.footerCvs[t],el:e,textureArrow:this.gl.common.textureArrow}),this.footerMesh[t].init(),this.stage.scene.add(this.footerMesh[t].mesh)}onResize(){this.entryElementMesh.forEach(((e,t)=>{e.el.$el.style.color="",this.entryElementCvs[t].clearCanvas(),this.entryElementCvs[t].setCanvasGroup({el:e.el.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.el.$el.style.color="transparent",e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.entryElementCvs[t].$canvas),e.canvas2d=this.entryElementMesh[t],e.onResize()})),this.footerMesh.forEach(((e,t)=>{this.footerCvs[t].clearCanvas(),this.footerCvs[t].setCanvasGroup({el:e.el.$el,childrenName:".mF_head_i",isOriginScreen:!1}),e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.footerCvs[t].$canvas),e.canvas2d=this.footerCvs[t],e.onResize()}))}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this.entryElementMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})})),this.footerMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})}))}removeMesh(){this._removeMeshEntryElement(),this._removeMeshFooterCover()}_removeMeshEntryElement(){this.entryElementMesh.forEach(((e,t)=>{Y.disposeMesh(this.entryElementMesh[t].mesh,this.stage.scene),this.entryElementMesh[t]=null})),this.entryElementMesh=null,this.entryElementMesh=[]}_removeMeshFooterCover(){this.footerMesh.forEach(((e,t)=>{Y.disposeMesh(this.footerMesh[t].mesh,this.stage.scene),this.footerMesh[t]=null})),this.footerMesh=null,this.footerMesh=[]}async viewWillAppearStartupCarriers(){}async transitionInDefault(){}async transitionOutDefault(){this.footerMesh.forEach((e=>{e.out(1.5,0)})),this.entryElementMesh.forEach((e=>{e.out(1.5,0)}))}async transitionInHomeToCarriers(){}async transitionInAboutToCarriersFromFooterBanner(){}setTransitionCarriersToJournalFromFooterBanner(){this.footerMesh[0].setTransitionCarriersToJournalFromFooterBanner()}async transitionOutCarriersToJournalFromFooterBanner(e){await this.footerMesh[0].transitionOutCarriersToJournalFromFooterBanner(e)}}class ee{constructor(e){Object.assign(this,e),this.textElementMesh=[],this.textElementCvs=[]}async setMesh(){this.textElementMesh=[],this.textElementCvs=[];let e=new x.bb(1,1,1,1),t=0;this.scrollManager.els.forEach((i=>{switch(i.type){case"gl-text":this._setTextElementMesh(i,t,e),t++}})),e.dispose(),e=null}_setTextElementMesh(e,t,i){e.$el.style.color="";const s=e.$el.dataset;this.textElementCvs[t]=new G,this.textElementCvs[t].setCanvasGroup({el:e.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.$el.style.color="transparent",this.textElementMesh[t]=new X({stage:this.stage,geometry:i,canvas2d:this.textElementCvs[t],el:e,type:s.elementType,textureArrow:this.gl.common.textureArrow}),this.textElementMesh[t].init(),this.stage.scene.add(this.textElementMesh[t].mesh)}onResize(){this.textElementMesh.forEach(((e,t)=>{e.el.$el.style.color="",this.textElementCvs[t].clearCanvas(),this.textElementCvs[t].setCanvasGroup({el:e.el.$el,childrenName:".jsC_t",isOriginScreen:!1}),e.el.$el.style.color="transparent",e.uniforms.uTexture.value.dispose(),e.uniforms.uTexture.value=new x.h(this.textElementCvs[t].$canvas),e.canvas2d=this.textElementMesh[t],e.onResize()}))}onUpdate({scrollY:e=0,scrollDeltaEaseY:t=0,timeDelta:i=0}){this.textElementMesh.forEach((s=>{s.onUpdate({scrollY:e,scrollDeltaEaseY:t,timeDelta:i})}))}removeMesh(){this._removeMeshTextElement()}_removeMeshTextElement(){this.textElementMesh.forEach(((e,t)=>{Y.disposeMesh(this.textElementMesh[t].mesh,this.stage.scene),this.textElementMesh[t]=null})),this.textElementMesh=null,this.textElementMesh=[]}}class te{constructor(e){Object.assign(this,e),this.config={},this.time=new x.j,this.common=null,this.about=null,this.carriers=null,this.notFound=null,this.canUpdateMesh=!1,this.canUpdate=!1,this.canResize=!1,this.rotationDirection=1}init(){this._setStage(),this._setMeshGroup()}reinit(){this.stage.reinit()}async setStartupLoading(e){return this.common.setStartupLoading(e)}_setMeshGroup(){this.common=new j({gl:this,stage:this.stage,startupLoaderProgress:this.startupLoaderProgress,scrollManager:this.scrollManager,mouseMove:this.mouseMove,mainNavSlider:this.mainNavSlider}),this.about=new K({scrollManager:this.scrollManager,mouseMove:this.mouseMove,mainNavSlider:this.mainNavSlider,stage:this.stage,gl:this}),this.carriers=new Z({scrollManager:this.scrollManager,mouseMove:this.mouseMove,mainNavSlider:this.mainNavSlider,stage:this.stage,gl:this}),this.notFound=new ee({scrollManager:this.scrollManager,mouseMove:this.mouseMove,mainNavSlider:this.mainNavSlider,stage:this.stage,gl:this})}_setStage(){this.stage=new b,this.stage.init(this.$canvas,this.config)}async runStartup(){this.common.init()}async setMeshStartup(){this.common.setMesh()}async run(e,t){await new Promise((t=>{switch(e){case"home":break;case"about":this.about.setMesh();break;case"carriers":this.carriers.setMesh();break;case"not-found":this.notFound.setMesh()}this.restart(),this.onUpdate(),t()}))}onResize(){this.canResize&&(this.stage.onResize(),this.common.onResize(),this.about.onResize(),this.carriers.onResize(),this.notFound.onResize())}updateMesh(e,t){e.forEach((e=>{e.onUpdate({smoothScroll:this.scrollManager,scrollY:this.scrollManager.scroll.y,scrollDeltaY:this.scrollManager.scrollDeltaEase.y,timeDelta:t})}))}onUpdate(){let e=this.time.getDelta();e=Math.floor(1e4*e)/1e4,e=c.clamp(e,.015,.019),this.common.onUpdate({scrollY:this.scrollManager.scroll.y,scrollDeltaEaseY:this.scrollManager.scrollDeltaEase.y,timeDelta:e}),this.about.onUpdate({scrollY:this.scrollManager.scroll.y,scrollDeltaEaseY:this.scrollManager.scrollDeltaEase.y,timeDelta:e}),this.carriers.onUpdate({scrollY:this.scrollManager.scroll.y,scrollDeltaEaseY:this.scrollManager.scrollDeltaEase.y,timeDelta:e}),this.notFound.onUpdate({scrollY:this.scrollManager.scroll.y,scrollDeltaEaseY:this.scrollManager.scrollDeltaEase.y,timeDelta:e}),this.stage.onUpdate()}stop(){this.canUpdate=!1,this.canUpdateMesh=!1,this.canResize=!1}restart(){this.canUpdateMesh=!0,this.canUpdate=!0,this.canResize=!0}clear(){this.stop()}clearMeshPage(e="",t=!1,i=!1){switch(this.isStop&&this.stop(),e){case"about":this.about.removeMesh(),this.common.clearMeshAbout();break;case"carriers":this.carriers.removeMesh(),this.common.clearMeshCarriers();break;case"not-found":this.notFound.removeMesh()}}startupHome(){this.rotationDirection=1,this.common.startupHome()}async viewDidLoadStartupAbout(){this.common.viewDidLoadStartupAbout()}async viewWillAppearStartupAbout(){this.common.viewWillAppearStartupAbout()}viewDidLoadStartupCarriers(){this.common.viewDidLoadStartupCarriers()}async viewWillAppearStartupCarriers(){this.common.viewWillAppearStartupCarriers()}startupJournal(){this.common.startupJournal()}startupContact(){this.common.startupContact()}startupNotFound(){this.common.startupNotFound()}setAbout(){this.common.setAbout()}setCarriers(){this.common.setCarriers()}setJournal(){this.common.setJournal()}setContact(){this.common.setJournal()}setNotFound(){this.common.setNotFound()}async transitionOutDefault(e){switch(e){case"about":await Promise.all([this.common.transitionOutDefault(),this.about.transitionOutDefault()]);break;case"carriers":await Promise.all([this.common.transitionOutDefault(),this.carriers.transitionOutDefault()]);break;default:await this.common.transitionOutDefault()}}async transitionInDefault(e){switch(e){case"about":case"carriers":await Promise.all([this.common.transitionInDefault()]);break;default:await this.common.transitionInDefault()}}async transitionOutToHome(e){switch(e){case"about":await Promise.all([this.common.transitionOutToHome(),this.about.transitionOutDefault()]);break;case"carriers":await Promise.all([this.common.transitionOutToHome(),this.carriers.transitionOutDefault()]);break;default:await this.common.transitionOutToHome()}}async transitionInToHome(){await this.common.transitionInToHome()}async transitionInHomeToAbout(e=(()=>{})){await Promise.all([this.common.transitionInHomeToAbout(e)])}async transitionInHomeToCarriers(e=(()=>{})){await Promise.all([this.common.transitionInHomeToCarriers(e)])}async transitionInHomeToJournal(){await this.common.transitionInHomeToJournal()}async transitionInHomeToContact(){await this.common.transitionInHomeToContact()}setTransitionAboutToCarriersFromFooterBanner(){this.about.setTransitionAboutToCarriersFromFooterBanner(),this.common.setTransitionAboutToCarriersFromFooterBanner()}setTransitionCarriersToJournalFromFooterBanner(){this.carriers.setTransitionCarriersToJournalFromFooterBanner(),this.common.setTransitionCarriersToJournalFromFooterBanner()}async transitionOutAboutToCarriersFromFooterBanner(e){this.about.transitionOutAboutToCarriersFromFooterBanner(e),await Promise.all([this.common.transitionOutAboutToCarriersFromFooterBanner()])}async transitionOutCarriersToJournalFromFooterBanner(e){await Promise.all([this.carriers.transitionOutCarriersToJournalFromFooterBanner(e),this.common.transitionOutCarriersToJournalFromFooterBanner()])}async transitionInAboutToCarriersFromFooterBanner(){await Promise.all([this.common.transitionInAboutToCarriersFromFooterBanner()])}async transitionInCarriersToJournalFromFooterBanner(){await this.common.transitionInCarriersToJournalFromFooterBanner()}onMouseEnterFooterBanner(e=""){switch(e){case"about":this.about.footerMesh[0].onMouseEnter(),this.common.currentFooterModel3dNavMesh.onMouseEnterFooterBanner();break;case"carriers":this.carriers.footerMesh[0].onMouseEnter(),this.common.currentFooterModel3dNavMesh.onMouseEnterFooterBanner()}}onMouseLeaveFooterBanner(e=""){switch(e){case"about":this.about.footerMesh[0].onMouseLeave(),this.common.currentFooterModel3dNavMesh.onMouseLeaveFooterBanner();break;case"carriers":this.carriers.footerMesh[0].onMouseLeave(),this.common.currentFooterModel3dNavMesh.onMouseLeaveFooterBanner()}}changeStageColor(e){this.stage.changeColor(e)}}class ie{constructor(){this.panelSize={x:0,y:0},window.isMobileLayout?(this.periodRatio=1,this.panelSizeRatio={x:.8,y:.5205},this.aspectBorderLine=375/634):(this.periodRatio=.5,this.panelSizeRatio={x:.3625,y:.58},this.aspectBorderLine=1.6),this.deltaLimit={min:-100,max:100},this.navName=".jsNav_app",this.itemName=".jsNav_app_i",this.progressNavName=".jsNav_num",this.progressItemName=".jsNav_num_i",this.circleName=".jsNav_p",this.aMainName=".jsNav_ttls_in",this.$html=document.documentElement,this.$nav=null,this.$itemAll=null,this.$progressNav=null,this.$progressItemAll=null,this.$circle=null,this.$aMain=null,this.originalItemLength=0,MOBILE||TABLET?this.deltaRatio=185e-6:this.deltaRatio=1e-4,this.deltaBrake=.92125,this.ease=.1,this.isEventing=!1,this.direction=1,this.delta=0,this.delta2=0,this.deltaEase=0,this.deltaEaseAbs=0,this.rotation=0,this.currentNumber=0,this.progress=0,this.progressEase=0,this.progressComplete=0,this.period=0,this.windowSize={x:0,y:0},this.transitionCurrentNum=0,this.scrollEase=0,this.scrollDeltaEase=0,this.canUpdate=!1,this.isTransitioning=!1,this.tweenToNum=null}init(){this.canUpdate=!0,this._setSelector(),this._setLengthOriginalItem(),this._setClone(),this._setEventListener(),this._setSize(),this._setPositionItem(),this._update(),this._setUrl()}_setSelector(){this.$nav=document.querySelector(this.navName),this.$itemAll=this.$nav.querySelectorAll(this.itemName),this.$progressNav=document.querySelector(this.progressNavName),this.$progressItemAll=this.$progressNav.querySelectorAll(this.progressItemName),this.$circle=document.querySelector(this.circleName),this.$aMain=document.querySelector(this.aMainName)}_setLengthOriginalItem(){this.originalItemLength=this.$itemAll.length}_setEventListener(){this.$aMain.addEventListener("mouseenter",this._setUrl.bind(this))}_setUrl(){const e=Math.round(this.progressComplete),t=this.$itemAll[e].querySelector("a").getAttribute("href");this.$aMain.setAttribute("href",t)}_setClone(){this.$itemAll.forEach(((e,t)=>{const i=e.cloneNode(!0);this.$nav.appendChild(i)})),this.$itemAll.forEach(((e,t)=>{const i=e.cloneNode(!0);this.$nav.appendChild(i)})),this.$itemAll=this.$nav.querySelectorAll(this.itemName)}_setSize(){let e;this.windowSize.x=window.innerWidth,this.windowSize.y=window.innerHeight,this.period=this.windowSize.x*this.periodRatio,this.periodProgress=this.$progressItemAll[0].getBoundingClientRect().width,e=window.isMobileLayout?Math.round(.8*this.windowSize.x):Math.round(.35*this.windowSize.x);let t=Math.round(this.windowSize.x*this.panelSizeRatio.x),i=Math.round(this.windowSize.y*this.panelSizeRatio.y);window.isMobileLayout,this.panelSize.y=Math.min(t,i),this.panelSize.x=Math.max(this.panelSize.y,e),this.$html.style.setProperty("--home-panel-size-x",`${this.panelSize.x}px`),this.$html.style.setProperty("--home-panel-size-x-half",.5*this.panelSize.x+"px"),this.$html.style.setProperty("--home-panel-size-y",`${this.panelSize.y}px`),this.$html.style.setProperty("--home-panel-size-y-half",.5*this.panelSize.y+"px");const s=this.windowSize.x/this.windowSize.y;let o,n,a,r,h;window.isMobileLayout?s<this.aspectBorderLine?(o=.1493333*this.windowSize.x,n=.045333*this.windowSize.x,a=.2*this.windowSize.x,r=.1734851*this.windowSize.x,h=.08*this.windowSize.x):(o=.088*this.windowSize.y,n=.026*this.windowSize.y,a=.118*this.windowSize.y,r=.10241529*this.windowSize.y,h=.04731*this.windowSize.y):s<this.aspectBorderLine?(o=.07185*this.windowSize.x,n=.016875*this.windowSize.x,a=.0828125*this.windowSize.x,r=.071875*this.windowSize.x,h=.03375*this.windowSize.x):(o=.115*this.windowSize.y,n=.027*this.windowSize.y,a=.1325*this.windowSize.y,r=.115*this.windowSize.y,h=.054*this.windowSize.y),this.$html.style.setProperty("--nav-text-main-font-size",`${o}px`),this.$html.style.setProperty("--nav-text-sub-font-size",`${n}px`),this.$html.style.setProperty("--nav-pie-size",`${a}px`),this.$html.style.setProperty("--nav-pie-inner-size",`${r}px`),this.$html.style.setProperty("--nav-pie-font-size",`${h}px`)}_setPositionItem(){this.itemGroupWidth=this.originalItemLength*this.period,this.$itemAll.forEach(((e,t)=>{n.a.set(e,{x:t*this.period-this.itemGroupWidth})}))}_updatePositionItemGroupStyle(){const e=-this.progressComplete*this.period;this.$nav.style.transform=`translate3d(${e}px,0,0)`}_updateProgressStyle(){let e=-this.progressComplete*this.periodProgress;n.a.set(this.$progressNav,{x:e})}_updateCircleStyle(){this.rotation+=10*this.deltaEase,this.rotation=Math.round(100*this.rotation)/100,this.$circle.style.transform=`translate3d(-50%,-50%,0) rotate(${this.rotation}deg)`}onWhile(e){this.canUpdate&&(e.deltaY>0?(this.direction=1,P.bW.rotationDirection=1):e.deltaY<0&&(this.direction=-1,P.bW.rotationDirection=-1),this.delta+=c.clamp(e.deltaY,this.deltaLimit.min,this.deltaLimit.max)*this.deltaRatio,this.delta2+=c.clamp(e.deltaY,this.deltaLimit.min,this.deltaLimit.max)*this.deltaRatio,this.isEventing=!0)}onResize(){this._setSize(),this._setPositionItem(),this._update()}_checkDeltaBreaking(){this.delta*=this.deltaBrake}_updateProgress(){this.progress+=-this.delta,this.difference=this.currentNumber-this.progress,this.progress+=.03*this.difference,this.currentNumber=Math.round(this.progress)}reset(){this.onWhile({deltaY:0}),this.currentNumber=0,this.direction=1,this.delta=0,this.delta2=0,this.deltaEase=0,this.deltaEaseAbs=0,this.progress=0,this.progressEase=0,this.progressComplete=0,this.transitionCurrentNum=0,this.scrollEase=0,this.scrollDeltaEase=0}stop(){this.canUpdate=!1}restart(){this.canUpdate=!0}onUpdate(){(this.isEventing&&this.canUpdate||this.isTransitioning)&&this._update()}_update(){this._checkDeltaBreaking(),this._updateProgress(),this.progressEase=c.lerp(this.progressEase,this.progress,this.ease);const e=c.clamp(this.progressEase-this.progress,-1.5,1.5),t=Math.min(Math.abs(this.progressEase-this.progress),1.5);this.deltaEase=c.lerp(this.deltaEase,e,.1),this.deltaEaseAbs=c.lerp(this.deltaEaseAbs,t,.1),this.scrollEase=c.lerp(this.scrollEase,this.delta2,.1),this.progressEase<=0?this.progressComplete=this.originalItemLength+this.progressEase%this.originalItemLength:this.progressComplete=this.progressEase%this.originalItemLength,this._checkIsEventing(),this._updatePositionItemGroupStyle()}_checkIsEventing(){return this.deltaEaseAbs<115e-6&&(this.progressComplete=Math.round(this.progressComplete),this.progressComplete%=this.originalItemLength,this.progressNow=Math.round(this.progressNow),this.progress=Math.round(this.progress),this.deltaEase=0,this.deltaEaseAbs=0,this.delta=0,this.deltaEase=0,this.deltaEaseAbs=0,this.isEventing=!1,this._setUrl()),this.deltaEaseAbs<115e-6}_checkIsTransitioning(){return this.deltaEaseAbs<85e-5&&(this.progressComplete=Math.round(this.progressComplete),this.progressComplete%=this.originalItemLength,this.progressNow=Math.round(this.progressNow),this.progress=Math.round(this.progress),this.deltaEase=0,this.deltaEaseAbs=0,this.delta=0,this.deltaEase=0,this.deltaEaseAbs=0,this.isEventing=!1),this.deltaEaseAbs<85e-5}async checkTransitionCurrentNumber(e,t=.75){const i=e,s=e+this.originalItemLength,o=Math.abs(this.progressComplete-i),n=Math.abs(s-this.progressComplete);this.transitionCurrentNum=n<o?s:i,await this.toNumber(this.transitionCurrentNum,t)}async toNumber(e,t=.75){this.isTransitioning=!0,await new Promise((i=>{let s;e%=this.originalItemLength;let o=this.originalItemLength-e,a=0,r=0,l=0,u=0;if(0<=this.progressEase){let t=0,i=0;const o=()=>{t=this.originalItemLength*i+e,i++,t<this.progressEase&&o()};o(),a=t-this.originalItemLength,r=t,l=Math.abs(this.progressEase-a),u=Math.abs(this.progressEase-r),s=l<u?a:r}else{let e=0,t=0;const i=()=>{e=this.originalItemLength*t+o,t++,e<Math.abs(this.progressEase)&&i()};i(),a=e-this.originalItemLength,r=e,l=Math.abs(-this.progressEase-a),u=Math.abs(-this.progressEase-r),s=l<u?-a:-r}h.clearTween(this.tweenToNum),this.tweenToNum=n.a.to(this,t,{progress:s,ease:h.getCubicCurve(.6,0,.3,1),onComplete:()=>{const t=this;let s;s=requestAnimationFrame((function o(n){t._checkIsTransitioning()?(t.canUpdate=!1,t.isTransitioning=!1,t.progressComplete=e,t._updatePositionItemGroupStyle(),cancelAnimationFrame(s),i()):s=requestAnimationFrame(o)}))}})}))}setNumber(e,t){this.tweenToNum=n.a.to(this,t,{progress:e,progressComplete:e,progressEase:e})}async startNumber(e,t){await new Promise((i=>{this.isTransitioning=!0,this.tweenToNum=n.a.to(this,t,{progress:e,ease:h.getCubicCurve(.475,.02,.25,1),onComplete:()=>{i()}})}))}}class se{constructor(){this.tasks=[],this.taskLength=0,this.taskResolveCount=0,this.onUpdateProgressAnim=null,this.onCompleteProgressAnim=null,this.progress=0}init(e={onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnimProgressAnimation:e=>{}}){this.onUpdateProgressAnim=e.onUpdateProgressAnim,this.onCompleteProgressAnim=e.onCompleteProgressAnim}add(e,t){this.tasks.push({taskId:t,task:e})}set(){this.taskLength=this.tasks.length,this.taskResolveCount=0}run(){this.tasks.length?this.tasks.forEach((e=>{e.task().then((()=>{this.taskResolveCount++,this.update(this.taskResolveCount,this.taskLength)}))})):this.update(1,1)}update(e,t){this.progress=e/t,this.onUpdateProgressAnim(this.progress,this.onCompleteProgressAnim)}}class oe{constructor(){this.parentName=".jsClone",this.targetName=".jsClone_i",this.$parentAll=null,this.len=0}init(e=document.body){this.$parentAll=e.querySelectorAll(this.parentName),this.len=this.$parentAll.length,this.len&&this.set()}set(){[].forEach.call(this.$parentAll,(e=>{let t=e.querySelector(this.targetName);t&&e.appendChild(t.cloneNode(!0))}))}}class ne{constructor(e){this.targetName=e||".jsHover",this.$targetAll=null,this.$content=null,this.options=[],this.eventHandler={mouseEnter:null,mouseLeave:null},this.beforeHoverInHandler=[],this.hoverInHandler=[],this.beforeHoverOutHandler=[],this.hoverOutHandler=[]}init(e=document){this.$content=e,this.setSelector(),this.setFlag(this.$targetAll),this.setEventListener()}setSelector(){this.$targetAll=this.$content.querySelectorAll(this.targetName)}setFlag(e){for(let t=e.length;t--;){let i=e[t],s=i.dataset,o=Number(s.hoverStep)||1;this.options[t]={step:o,isHovering:!1,isAnimating:!1},i.setAttribute("data-hover-num",t)}}setEventListener(){this.eventHandler.mouseEnter=e=>{e.preventDefault(),this.onMouseEnter(e.currentTarget)},this.eventHandler.mouseLeave=e=>{e.preventDefault(),this.onMouseLeave(e.currentTarget)},[].forEach.call(this.$targetAll,(e=>{e.addEventListener("mouseenter",this.eventHandler.mouseEnter,!1),e.addEventListener("mouseleave",this.eventHandler.mouseLeave,!1)}))}onMouseEnter(e){let t=Number(e.dataset.hoverNum);this.options[t].isHovering=!0,this.options[t].isAnimating||this._startMouseEnter(e,t)}onMouseLeave(e){let t=Number(e.dataset.hoverNum);this.options[t].isHovering=!1,this.options[t].isAnimating||this._startMouseLeave(e,t)}_startMouseEnter(e,t){let i=Number(e.dataset.hoverInTime)||0;if(this.options[t].isAnimating=!0,2===this.options[t].step){let s=20;e.classList.add("is-before-hover"),this.beforeHoverInHandler.forEach((t=>{t.task(e)})),n.a.delayedCall(.001*s,(()=>{e.classList.add("is-hover"),e.classList.remove("is-before-hover"),this.hoverInHandler.forEach((t=>{t.task(e)}))})),n.a.delayedCall(.001*(s+i),(()=>{this._completeMouseEnter(e,t)}))}else e.classList.add("is-hover"),this.hoverInHandler.forEach((t=>{t.task(e)})),n.a.delayedCall(.001*i,(()=>{this._completeMouseEnter(e,t)}))}_startMouseLeave(e,t){let i=Number(e.dataset.hoverOutTime)||0;this.options[t].isAnimating=!0,e.classList.add("is-hover-out"),e.classList.remove("is-hover"),this.beforeHoverOutHandler.forEach((t=>{t.task(e)})),n.a.delayedCall(.001*i,(()=>{this._completeMouseLeave(e,t)}))}_completeMouseEnter(e,t){this.options[t].isAnimating=!1,this.options[t].isHovering||this._startMouseLeave(e,t)}_completeMouseLeave(e,t){this.options[t].isAnimating=!1,e.classList.remove("is-hover-out"),this.hoverOutHandler.forEach((t=>{t.task(e)})),n.a.delayedCall(0,(()=>{this.options[t].isHovering&&this._startMouseEnter(e,t)}))}destroy(){[].forEach.call(this.$targetAll.length,((e,t)=>{this._startMouseLeave(e,t),e.removeEventListener("mouseenter",this.eventHandler.mouseEnter),e.removeEventListener("mouseleave",this.eventHandler.mouseLeave)}))}}class ae{constructor(){this.triggerName=".mH_btn-menu",this.openedClassTargetName="body",this.openedClassName="is-opened",this.$stLogo0All=null,this.$htmAll=null,this.$trigger=null,this.$openedClassTarget=null,this.isOpend=!1,this.isAnimating=!1,this.tweenTranslate=null,this.tweenOpacity=null,this.tweenLogoFill=null,this.colorCode={on:"#fff",off:"#1735CC"},this.funcOpen=e=>{e&&(P.scrollHelper.stop(),P.bW.common.screenCoverMesh.in().then((()=>{e()})),n.a.set(".mH_menu",{opacity:1}),h.clearTween(this.tweenLogoFill),this.tweenLogoFill=n.a.to(this.$stLogo0All,.35,{fill:this.colorCode.on,delay:.4}),h.clearTween(this.tweenTranslate),this.tweenTranslate=n.a.fromTo(this.$htmAll,{x:55},{x:0,ease:h.getCubicCurve(0,.6,.2,1),duration:1.3,delay:.3,stagger:.0375}),h.clearTween(this.tweenOpacity),this.tweenOpacity=n.a.fromTo(this.$htmAll,{opacity:0},{opacity:1,duration:1,delay:.3,stagger:.0375}))},this.funcClose=e=>{e&&(P.bW.common.screenCoverMesh.out().then((()=>{P.scrollHelper.restart(),e()})),h.clearTween(this.tweenLogoFill),this.tweenLogoFill=n.a.to(this.$stLogo0All,.35,{fill:this.colorCode.off,delay:.4}),h.clearTween(this.tweenTranslate),this.tweenTranslate=n.a.to(this.$htmAll,.6,{x:-20,ease:"cubic.inOut",stagger:.015}),h.clearTween(this.tweenOpacity),this.tweenOpacity=n.a.to(this.$htmAll,.45,{opacity:0,ease:"none",stagger:.015,onComplete:()=>{n.a.set(".mH_menu",{opacity:0})}}))}}init(){this._setSelectors(),this._setEvent()}_setSelectors(){this.$trigger=document.querySelector(this.triggerName),this.$openedClassTarget=document.querySelector(this.openedClassTargetName),this.$stLogo0All=document.querySelectorAll(".st-logo0"),this.$htmAll=document.querySelectorAll(".jsH_t-m")}_setEvent(){this.$trigger.addEventListener("click",(()=>{this._check()}))}_check(){this.isAnimating||(this.isAnimating=!0,this.$trigger.style.pointerEvents="none",this.isOpend?this.closeAnm().then((()=>{this.isOpend=!1,this.isAnimating=!1,this.$trigger.style.pointerEvents=""})):this.openAnm().then((()=>{this.isOpend=!0,this.isAnimating=!1,this.$trigger.style.pointerEvents=""})))}async openAnm(){await new Promise((e=>{this.$openedClassTarget.classList.add(this.openedClassName),this.funcOpen(e)}))}async closeAnm(){await new Promise((e=>{this.$openedClassTarget.classList.remove(this.openedClassName),this.funcClose(e)}))}async pageTransitionOut(){this.isOpend?await this.closeAnm().then((()=>{this.isOpend=!1,this.isAnimating=!1,this.$trigger.style.pointerEvents=""})):await new Promise((e=>e))}}var re=i(6),he=i.n(re);class le{constructor(e={}){this.$trigger=null,this.triggerName="#trigger-color",this.type="",this.currentTime=0,this.currentTimeState=0,this.currentDate=new Date,this.currentTime=this.currentDate.getHours(),this.currentLangIsJa="ja"===window.navigator.language}init(){this.setSelector(),this.setEventListener(),this.setTriggerColor()}setSelector(){this.$trigger=document.querySelector(this.triggerName)}setEventListener(){this.$trigger.addEventListener("click",(e=>{e.preventDefault(),this.onClick(this.$trigger)}),!1)}setTriggerColor(){let e=this.get();e?(this.type=e,"dark"===e?this.setCookieDark():this.setCookieDefault()):this.setCookieDark()}setCookieDefault(){document.body.dataset.colorType="default",this.type="default",this.$trigger.setAttribute("aria-label","dark"),this.save("default")}setCookieDark(){document.body.dataset.colorType="dark",this.type="dark",this.$trigger.setAttribute("aria-label","default"),this.save("dark")}onClick(e){const t=e.getAttribute("aria-label");this.save(t),n.a.delayedCall(.025,(()=>{window.location.reload()}))}save(e){this.currentDate=new Date,this.currentTime=this.currentDate.getHours();const t=this.currentDate.getHours()+this.currentDate.getMinutes()/60+this.currentDate.getSeconds()/3600;let i;i=4<=this.currentTime&&this.currentTime<16?(16-t)/24:0<=this.currentTime&&this.currentTime<4?(4-t)/24:(28-t)/24,he.a.set("ui_color_mode",e,{expires:1})}get(){return he.a.get("ui_color_mode")}}var ue=i(3),ce=i.n(ue),de=i(4),me=i.n(de);class pe{constructor(){this._list=[],this._promiseList=[]}static wait(e){return new Promise((t=>{n.a.delayedCall(.001*e,t)}))}add(e=(e=>{})){this._list.push((()=>{let t=new Promise((t=>{e(t)}));return this._promiseList.push(t),t}))}done(e=(()=>{})){this._list.reduce(((e,t)=>e.then(t)),Promise.resolve()).then((()=>{Promise.all(this._promiseList).then(e)}))}}class ve{constructor(e){this._VC=e,this._controllers=[]}add(e=null,t){"string"==typeof e&&"null"===e&&(e=null),this._controllers.unshift(this.getController(e,t))}pop(){this._controllers.pop()}shift(){this._controllers.shift()}use(e){return"prev"===e?this._controllers[1]:"current"===e&&this._controllers[0]}getController(e=null,t=null){return null!==e&&null!==this._VC[e]&&void 0!==this._VC[e]?new this._VC[e](t):null!==t&&isSet(this._VC[t.getAttribute("data-use-controller")])?new(this._VC[t.getAttribute("data-use-controller")])(t):null!==t&&isSet(this._VC[t.getAttribute("id")])?new(this._VC[t.getAttribute("id")])(t):new this._VC.default(t)}}class ge{constructor(){this.ignoreClassLink="no-prefetch",this.requestXhlOnComplete=()=>{},this.requests={},this.casheData={}}init(){if(!window.history.pushState)return!1;document.body.addEventListener("mouseover",this.onLinkEnter.bind(this),{passive:!0}),document.body.addEventListener("touchstart",this.onLinkEnter.bind(this),{passive:!0})}onLinkEnter(e){for(var t=e.target;t&&!ge.getHref(t);)t=t.parentNode;if(!t||t.classList.contains(this.ignoreClassLink)||t.getAttribute("target")&&"_blank"===t.getAttribute("target"))return;const i=ge.getHref(t);if(-1===i.indexOf("mailto:")&&-1===i.indexOf("tel:")&&!this.getCache(i)){let e=this.requestXhl(i);this.setCache(i,e)}}requestXhl(e){return new Promise((t=>{me.a.get(e).then((e=>{t(e)})).catch((e=>{}))}))}static getHref(e){if(e)return e.getAttribute&&"string"==typeof e.getAttribute("xlink:href")?e.getAttribute("xlink:href"):"string"==typeof e.href?e.href:void 0}static getPort(e){var t=void 0!==e?e:window.location.port,i=window.location.protocol;return""!==t?parseInt(t):"http:"===i?80:"https:"===i?443:void 0}static cleanLink(e){return e.replace(/#.*/,"")}preventCheck(e,t){if(!window.history.pushState)return!1;var i=this.getHref(t);return!(!t||!i)&&(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)&&((!t.target||"_blank"!==t.target)&&(window.location.protocol===t.protocol&&window.location.hostname===t.hostname&&(ge.getPort()===ge.getPort(t.port)&&(!(i.indexOf("#")>-1)&&((!t.getAttribute||"string"!=typeof t.getAttribute("download"))&&(ge.cleanLink(i)!==ge.cleanLink(location.href)&&!t.classList.contains(this.ignoreClassLink))))))))}getCache(e){return this.casheData[e]}setCache(e,t){this.casheData[e]=t}getRequestsFlag(e){return this.requests[e]}setRequests(e,t){this.requests[e]=!0}}class we{constructor(e,t,i){this.controllerManager=new ve(t),this.prefetch=new ge,this._processQueue=[],this.isRunning=!1,this.useAjax=i,this.debug=!1,this._requests=[],this._prev=null,this._fx=e,this.pageInitialized=!1,this.hashChange=!1,this.sendAnalytics=e=>{}}static triggerPageTransition(e){ce()(e)}boot(){this.prefetch.init(),this.useAjax?(history.scrollRestoration="manual",ce.a.exit("*",((e,t)=>{this._pageExit(e,t)})),ce()("*",(e=>{this._pageEnter(e)})),ce()()):this._safeBoot()}_safeBoot(){let e=new pe;this.isRunning=!0,e.add(this._fx["none --\x3e none"](null,null,null,null,this.controllerManager,(()=>{this.pageInitialized=!0,this.controllerManager.use("current").viewDidAppear(),this.isRunning=!1,this._processQueue.length&&this._runPageTransition()}))),e.done((()=>{}))}_apply(e,t,i,s){let o=e+" --\x3e *",n=e+" --\x3e "+t,a="* --\x3e "+t,r="* --\x3e *",h=new pe,l=this;return new Promise((u=>{[n,o,a,r].some((function(o){if(o in l._fx)return l.debug&&(console.log("%c"+o,"color: #03A9F4;"),console.group("%cViewController","color: #00C853;")),h.add((n=>{l._fx[o](e,t,i,s,l.controllerManager,n)()})),!0})),h.done((e=>{u(e),l.debug}))}))}_pageEnter(e){!0!==e.cancel&&(this.debug&&(console.group("%c         app         ","color: #B3E5FC;background-color: #03A9F4;"),console.log("%cpage enter","color: #03A9F4;")),e.init?this._apply("none","none",null,null).then((()=>{this.pageInitialized=!0,this.controllerManager.use("current").viewDidAppear(),this._processQueue.length&&this._runPageTransition()})):(this._addRequestQueue({from:this._prev,to:e}),this._processQueue.length<2?this._processQueue.push(this._pageChange.bind(this,this,e)):this._processQueue[this._processQueue.length-1]=this._pageChange.bind(this,this,e),this.pageInitialized&&this._runPageTransition()))}_runPageTransition(){this.isRunning||(this.controllerManager.use("current").viewWillDisappear(),this.debug&&(console.groupEnd("ViewController"),console.log("%cpage exit","color: #03A9F4;"),console.groupEnd("app")),this.isRunning=!0,this._processQueue[0]().then((()=>{this._processQueue.shift(),this.isRunning=!1,this._processQueue.length&&this._runPageTransition()})))}_pageExit(e,t){if(!this.hashChange&&(""===e.hash||0!==e.hash.length))return this._prev=e,this.pageInitialized?!0===e.cancelExit?t():void t():t()}_pageChange(e,t){let i=e._getRequestQueue();return new Promise((t=>{if(!1===i)return t();let s=i.to.path;s.match(location.origin)||(s=location.origin+s);let o=this.prefetch.getCache(s),n="";if(o)o.then((s=>{n=s.data,Array.isArray(n)&&(n=s[0]),e._showPage(n,i).then(t),e._current=i.to,e.sendAnalytics(i.to.path)}));else{let o=()=>new Promise((s=>{me.a.get(i.to.path).then((o=>{n=o.data,Array.isArray(n)&&(n=o[0]),e._showPage(n,i).then(t),e._current=i.to,e.sendAnalytics(i.to.path),s(o)})).catch((e=>{location.reload()}))}));this.prefetch.setCache(s,o())}}))}_showPage(e,t){let i=we._purseHTML(e),s=e.match(/<title>(.*)<\/title>/),o=document.querySelector(".jsTrans").getAttribute("id"),n=i.querySelector(".jsTrans").getAttribute("id");return new Promise((e=>{s=i.querySelector("title").textContent?i.querySelector("title").textContent:document.querySelector("title").textContent,this._apply(o,n,i,t).then((()=>{document.querySelector("title").textContent=s,this.controllerManager.use("current").viewDidAppear(),e()}))}))}_getRequestQueue(){let e=this._requests;if(0===e.length)return!1;let t=e[e.length-1];return this._requests=[],t}_addRequestQueue(e){this._requests[this._requests.length]=e}static _purseHTML(e){let t=document.createElement("div");return t.innerHTML=e,t}}class fe extends ve{constructor(e,t,i){super(e),this.router=t,this.useAjax=i}getController(e=null,t=null){for(var i={id:null,path:location.pathname,notice_flag:!1,secret_mode:!1,useAjax:this.useAjax,sort:0,parentId:null},s=location.pathname.split("/"),o=s.length-1;o>=0;o--)if(s[o]in this.router){i.id=this.router[s[o]].id,i.textureId=this.router[s[o]].texture_id,i.parentId=this.router[s[o]].parent_id,i.sort=this.router[s[o]].sort,i.locationName=this.router[s[o]].name,i.notice_flag=0!==Number(this.router[s[o]].notice_flag),i.secret_mode=0!==Number(this.router[s[o]].secret_mode);break}var n=null;return n=null!==e&&null!==this._VC[e]&&void 0!==this._VC[e]?new this._VC[e](t,i):null!==t&&isSet(this._VC[t.getAttribute("data-use-controller")])?new(this._VC[t.getAttribute("data-use-controller")])(t,i):null!==t&&isSet(this._VC[t.getAttribute("id")])?new(this._VC[t.getAttribute("id")])(t,i):new this._VC.default(t,i),Object.defineProperty(n,"info",{value:i}),n}}var Me=i(20),ye=i.n(Me);class Se{static add(e,t,i){e.push({task:t,taskId:i})}static remove(e,t){e.find(((i,s)=>{i&&i.taskId&&i.taskId===t&&(e=e.splice(s,1))}))}}class xe{constructor(){this.$titleTextAll=null,this.$subTitle=null}set(e=document){const t=e.querySelector(".cSec_fv_head_ttl");t&&(this.$titleTextAll=t.querySelectorAll(".jsSplit_in")),this.$subTitle=e.querySelector(".cSec_fv_head_ttl_sub"),this.$titleTextAll&&n.a.set(this.$titleTextAll,{x:.04*window.innerWidth,z:-10,rotateY:40,rotateZ:.01,transformOrigin:"left center",opacity:0}),this.$subTitle&&n.a.set(this.$subTitle,{x:"5%",opacity:0})}in(e=1.45,t=0){requestAnimationFrame((()=>{this.$titleTextAll&&(n.a.to(this.$titleTextAll,e,{x:"0%",z:0,rotateZ:.01,rotateY:0,stagger:.08,ease:"expo.out",delay:t}),n.a.to(this.$titleTextAll,.3*e,{opacity:1,ease:"none",stagger:.08,delay:t})),this.$subTitle&&(n.a.to(this.$subTitle,1.25*e,{x:"0%",ease:"expo.out",delay:t+.1}),n.a.to(this.$subTitle,1.25*e*.3,{opacity:1,ease:"none",delay:t+.1}))}))}}class Ce{constructor(e={isMobile:!1,isTablet:!1,targetName:null,srcName:null}){this.isMobile=MOBILE,this.isTablet=TABLET,this.type=null,this.targetName=e.targetName||"[data-img-src]",this.srcName=e.srcName||"imgSrc",this.$targetAll=null,this.$content=null,this.options=[],this.srcLength=0}init(e=document.body){this.setSelector(e),this.selectImgType(),this.setOptions()}setSelector(e){this.$content=e,this.$targetAll=this.$content.querySelectorAll(this.targetName)}selectImgType(){this.isMobile?this.type="mobile":this.isTablet?this.type="tablet":window.devicePixelRatio*window.innerWidth<=1920?this.type="others":this.type="others-2x"}setOptions(){[].forEach.call(this.$targetAll,((e,t)=>{this.options[t]={},this.options[t].$target=e;const i=this.options[t].$target.dataset;if("dark"===P.colorChange.type)switch(this.type){case"mobile":this.options[t].src=i.imgDarkSpSrc||i.imgDarkSrc||i.imgSpSrc||i[this.srcName],this.options[t].imageType="static";break;case"tablet":this.options[t].src=i.imgDarkSpSrc||i.imgDarkSrc||i[this.srcName],this.options[t].imageType="static";break;case"others-2x":this.options[t].src=i.imgDark2xSrc||i.imgDarkSrc||i[this.srcName],i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static";break;default:this.options[t].src=i.imgDarkSrc||i[this.srcName],i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static"}else switch(this.type){case"mobile":case"tablet":this.options[t].src=i.imgSpSrc||i[this.srcName],this.options[t].imageType="static";break;case"others-2x":this.options[t].src=i.img2xSrc||i[this.srcName],i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static";break;default:this.options[t].src=i[this.srcName],i.glImg||""===i.glImg?this.options[t].imageType="gl":this.options[t].imageType="static"}}))}async load(e,t){await new Promise((i=>{"gl"===e.imageType?(new x.ub).load(e.src,(s=>{s.name=String(e.src),Object.defineProperty(s,"externalResourcesType",{value:"texture"}),i(s),e.texture=s,i(),t(e)}),(e=>{}),(s=>{i(),t(e)})):(e.image=new Image,e.image.setAttribute("alt",""),e.image.onload=function(){i(),t(e)},e.image.src=e.src)}))}}class be{static in(e=1.6,t=0,i){if(P.scroll.secs.forEach((i=>{i.isInView&&n.a.fromTo(i.$sec.querySelector(".jsS_sec_in"),{x:Math.max(.15*window.innerWidth,60)},{x:0,ease:"expo.out",duration:e,delay:t})})),!window.isMobileLayout){const s=i.querySelector(".jsSide");s&&n.a.fromTo(s,{x:Math.max(.15*window.innerWidth,100)},{x:0,ease:"expo.out",duration:e,delay:t})}}}class Pe{constructor(e){this.$bg=document.createElement("div"),this.$bg.classList.add("cBg_trans")}set(){document.body.prependChild(this.$bg)}async in(e=document,t=1.6){e&&await new Promise((i=>{const s=e.querySelector(".cSec_fv_img").getBoundingClientRect(),o=this.$bg.getBoundingClientRect(),a={x:s.left-o.left,y:s.top-o.top,scaleX:Math.round(s.width/o.width*1e4)/1e4,scaleY:Math.round(s.height/o.height*1e4)/1e4};n.a.to(this.$bg,t,{x:a.x,y:a.y,scaleX:a.scaleX,scaleY:a.scaleY,ease:h.getCubicCurve(.8,0,.2,1),onComplete:()=>{i()}})}))}remove(){this.$bg.parentNode.removeChild(this.$bg)}}class Te{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m=document.getElementById("gl"),p="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub",v=new xe;P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(p),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),v.set(l),o.use("current").setGl(),P.bW.common.transitionFromHomeMenu(),l.style.opacity="",v.in(1.2,.475),be.in(1.2,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(null)}))):(s.add((e=>{n.a.set(l,{opacity:0}),n.a.set(m,{zIndex:-1}),P.mNS.checkTransitionCurrentNumber(2).then(e)})),s.add((e=>{n.a.set(h,{opacity:0}),r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(p),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{P.bW.transitionInHomeToJournal().then(e),n.a.delayedCall(1.375,(()=>{if(v.set(l),v.in(1.2,.175),P.scroll.secs.forEach((e=>{e.isInView&&(n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),2,{x:.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5}),n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),2,{opacity:0},{opacity:1,ease:"none",duration:1.5}))})),!window.isMobileLayout){const e=l.querySelector(".jsSide");e&&(n.a.fromTo(e,{x:.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5}),n.a.fromTo(e,{opacity:0},{opacity:1,ease:"none",duration:1.5}))}l.style.opacity=""}))})),s.done((()=>{n.a.set(m,{opacity:0}),n.a.delayedCall(.05,(()=>{n.a.set(m,{zIndex:""}),n.a.delayedCall(.05,(()=>{n.a.set(m,{opacity:""}),a(null)}))}))})))}}}var Ae={"none --\x3e none":(new class{run(e,t,i,s,o,a){return function(){const e=new pe,t=document.documentElement,i=document.body,s=document.querySelector("#app"),r=document.querySelector(".jsTrans"),l=r.getAttribute("id"),u=new xe,c=new Ce;let d=null,m=null,p=null;c.init(),c.options.forEach((e=>{P.startupLoaderProgress.add(c.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.startupLoaderProgress.add((async()=>{await new Promise((e=>{ye.a.load({custom:{families:["mm","me"]},active:()=>{e()},inactive:e,timeout:1e4})}))})),e.add((function(e){document.documentElement.classList.add("is-wait"),i.classList.add("page-"+l),i.classList.add("home"===l?"home":"sub"),o.add(l,r),[t,i,s].forEach((e=>{e.scrollTop=0})),e()})),e.add((function(e){P.bW.setStartupLoading(l).then((()=>{Se.add(P.resize.handler,(()=>{n.a.delayedCall(.025,(()=>{P.bW.onResize()}))}),"bW"),Se.add(P.raf.handler,(()=>{P.bW.onUpdate()}),"bW"),m=n.a.to(P.bW.common.startupCoverMesh.uniforms.uStartFade,.6,{value:1,ease:h.getCubicCurve(.18,.06,.23,1)}),p=n.a.to(P.bW.common.startupCoverMesh.uniforms.uStartScale,1.2,{value:0,ease:h.getCubicCurve(0,.6,.2,1),onComplete:e}),requestAnimationFrame((()=>{n.a.delayedCall(.05,(()=>{document.querySelector("#l").style.opacity=0}))}))}))})),e.add((function(e){h.clearTween(m),h.clearTween(p),P.bW.runStartup(),e()})),e.add((function(e){P.startupLoaderProgress.init({onUpdateProgressAnim:(e,t)=>{requestAnimationFrame((()=>{h.clearTween(d),d=1!==e?n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress,.75,{value:e,ease:"cubic.inOut"}):n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress,.75,{value:e,ease:"cubic.inOut",onComplete:()=>{requestAnimationFrame((()=>{n.a.set("#h",{opacity:1,delay:.05}),t()}))}})}))},onCompleteProgressAnim:()=>{e()}}),n.a.set(".mL_in",{opacity:1}),P.startupLoaderProgress.set(),P.startupLoaderProgress.run()})),e.add((function(e){P.mNS.init(),P.bW.setMeshStartup(),P.mNS.setNumber(-5,0),Se.add(P.resize.handler,(()=>{P.mNS.onResize()}),"mainNavSlider"),Se.add(P.resize.handler,(e=>{P.mouseMove.onResize(e.x,e.y)}),"mousemove"),Se.add(P.resize.handler,(()=>{P.scroll.onResize()}),"scrollManager"),Se.add(P.scrollHelper.handler,(e=>{P.scroll.onScroll(e)}),"scrollManager"),Se.add(P.scrollHelper.handler,(e=>{P.mNS.onWhile(e)}),"mainNavSlider"),Se.add(P.raf.handler,(()=>{P.scrollHelper.onUpdate()}),"scrollHelper"),Se.add(P.raf.handler,(()=>{P.scroll.onUpdate()}),"scrollManager"),Se.add(P.raf.handler,(()=>{P.mouseMove.onUpdate()}),"mouseMove"),Se.add(P.raf.handler,(()=>{P.mNS.onUpdate()}),"mainNavSlider"),P.bW.restart(),"home"===l||"not-found"===l?P.scroll.init({barIsHidden:!0}):(P.scroll.init({barIsHidden:!1}),P.mNS.stop()),o.use("current").startupLoadedAnimation(l),o.use("current").viewDidLoad({isStartup:!0}).then((()=>{requestAnimationFrame((()=>{e()}))}))})),e.add((function(e){o.use("current").viewWillAppear({isStartup:!0}).then((()=>{o.use("current").setTransitionAnimation(),e()}))})),e.add((function(e){u.set(r);const t="about"===l||"carriers"===l?.925:.75;if(u.in(1.2,t),P.scroll.secs.forEach((e=>{if(e.isInView){const t=e.$sec.querySelector(".jsS_sec_in");if(!t)return;n.a.fromTo(t,2,{x:Math.max(.15*window.innerWidth,100)},{x:0,ease:"expo.out",duration:1.5})}})),!window.isMobileLayout){const e=r.querySelector(".jsSide");e&&n.a.fromTo(e,2,{x:Math.max(.15*window.innerWidth,100)},{x:0,ease:"expo.out",duration:1.5})}o.use("current").runTransitionAnimation(!0).then(e)})),e.done((()=>{pe.wait(2e3).then((()=>{P.scrollHelper.restart(),document.documentElement.classList.remove("is-wait"),window.isStartAnimating=!1,P.screenFix.clearNoWheel(),P.screenFix.clearNoKeyUp(),P.screenFix.clearNoKeyDown(),requestAnimationFrame((()=>{a(null)}))}))}))}}}).run,"home --\x3e about":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub",p=new Pe,v=new xe,g=new se,w=new Ce;w.init(l),w.options.forEach((e=>{g.add(w.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{g.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),g.set(),g.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),v.set(l),o.use("current").setGl(),P.bW.common.transitionFromHomeMenu(),l.style.opacity=1,v.in(1.6,.6),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(null)}))):(s.add((e=>{P.scrollHelper.stop(),n.a.set(l,{opacity:0}),P.mNS.checkTransitionCurrentNumber(0).then((()=>{n.a.set(h,{opacity:0}),e()}))})),s.add((e=>{g.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),g.set(),g.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{p.set(),v.set(l),l.querySelector(".cSec_fv_img").style.opacity=0,l.style.opacity=1,P.bW.transitionInHomeToAbout((()=>{p.in(l),v.in(1.6,.6)})).then((()=>{p.remove(),P.bW.common.transitionBgMesh.hide(),l.querySelector(".cSec_fv_img").style.opacity="",e()}))})),s.done((()=>{P.scrollHelper.restart(),a(null)})))}}}).run,"home --\x3e carriers":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub",p=new Pe,v=new xe,g=new se,w=new Ce;w.init(l),w.options.forEach((e=>{g.add(w.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{g.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),g.set(),g.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),v.set(l),o.use("current").setGl(),P.bW.common.transitionFromHomeMenu(),l.style.opacity="",v.in(1.2,.475),be.in(1.5,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(null)}))):(s.add((e=>{P.scrollHelper.stop(),n.a.set(l,{opacity:0}),P.mNS.checkTransitionCurrentNumber(1).then((()=>{n.a.set(h,{opacity:0}),e()}))})),s.add((e=>{g.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),g.set(),g.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),pe.wait(5).then(e)})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),p.set(),v.set(l),n.a.set(l.querySelector(".cSec_fv_img"),{opacity:0}),n.a.set(l,{opacity:""}),P.bW.transitionInHomeToCarriers((()=>{p.in(l),v.in(1.6,.7)})).then((()=>{p.remove(),P.bW.common.transitionBgMesh.hide(),n.a.set(l.querySelector(".cSec_fv_img"),{opacity:""}),e()}))})),s.done((()=>{P.scrollHelper.restart(),a(null)})))}}}).run,"home --\x3e journal":(new Te).run,"home --\x3e journal-single":(new Te).run,"home --\x3e contact":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m=document.getElementById("gl"),p="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub",v=new xe;P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(p),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),v.set(l),o.use("current").setGl(),P.bW.common.transitionFromHomeMenu(),l.style.opacity="",v.in(1.2,.475),be.in(1.5,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(null)}))):(s.add((e=>{n.a.set(l,{opacity:0}),n.a.set(m,{zIndex:-1}),P.mNS.checkTransitionCurrentNumber(3).then(e)})),s.add((e=>{n.a.set(h,{opacity:0}),r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(p),h&&(o.add(t,l),o.use("prev").viewDidDisappear(),o.pop()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{P.bW.transitionInHomeToContact().then(e),n.a.delayedCall(1.375,(()=>{v.set(l),v.in(1.2,.175),P.scroll.secs.forEach((e=>{e.isInView&&(n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),2,{x:.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5}),n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),2,{opacity:0},{opacity:1,ease:"none",duration:1.5}))}));const e=l.querySelector(".jsSide");e&&(n.a.fromTo(e,{x:.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5}),n.a.fromTo(e,{opacity:0},{opacity:1,ease:"none",duration:1.5})),l.style.opacity=""}))})),s.done((()=>{n.a.set(m,{opacity:0}),n.a.delayedCall(.05,(()=>{n.a.set(m,{zIndex:""}),n.a.delayedCall(.05,(()=>{n.a.set(m,{opacity:""}),a(null)}))}))})))}}}).run,"about --\x3e carriers":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";let p=null;const v=o.use("current").isClickedFooterBanner,g=new xe,w=new se,f=new Ce;f.init(l),f.options.forEach((e=>{w.add(f.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{w.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),w.set(),w.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),g.set(l),o.use("prev").clearGl(),o.use("current").setGl(),o.pop(),P.bW.common.transitionFromMenu(),l.style.opacity=1,g.in(1.2,.8),be.in(1.5,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(p)}))):v?(s.add((e=>{n.a.set(l,{position:"absolute",opacity:0}),n.a.to(h,.3,{opacity:.2,ease:"none",onComplete:e})})),s.add((e=>{w.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),w.set(),w.run()})),s.add((e=>{P.bW.setTransitionAboutToCarriersFromFooterBanner(),r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),n.a.set(l,{position:""}),P.scroll.stop({}),P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({barIsHidden:!1}),h&&o.add(t,l),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{g.set(l),n.a.set(l.querySelector(".cSec_fv_img"),{opacity:0}),n.a.set(l,{opacity:""}),g.in(1.75,1.275),P.bW.transitionOutAboutToCarriersFromFooterBanner(l).then((()=>{o.use("prev").clearGl(),e()})),o.use("prev").viewDidDisappear()}))})),s.add((e=>{o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),e()})),s.done((()=>{P.bW.transitionInAboutToCarriersFromFooterBanner(),o.pop(),a(p)}))):(s.add((e=>{P.scrollHelper.stop(),P.scroll.secs.forEach((e=>{e.isInView&&n.a.to(e.$sec.querySelector(".jsS_sec_in"),1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})})),P.bW.transitionOutDefault(u).then((()=>{e()}))})),s.add((e=>{w.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),w.set(),w.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),pe.wait(10).then(e)})),s.add((e=>{h&&(o.add(t,l),o.use("prev").viewDidDisappear()),pe.wait(10).then(e)})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{e()}))})),s.add((e=>{o.use("prev").clearGl(),o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),o.use("current").setGl(),o.pop(),g.set(l),g.in(1.2,.785),be.in(1.5,0,l),P.bW.transitionInDefault(c).then((()=>{e()}))})),s.done((()=>{a(p)})))}}}).run,"carriers --\x3e journal":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";let p=null;const v=o.use("current").isClickedFooterBanner,g=new xe;let w=null;P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),g.set(l),o.use("prev").clearGl(),o.use("current").setGl(),o.pop(),P.bW.common.transitionFromMenu(),l.style.opacity="",g.in(1.2,.475),be.in(1.5,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{P.scrollHelper.restart(),a(p)}))):v?(s.add((e=>{n.a.set(l,{position:"absolute",opacity:0}),w=document.createElement("div"),w.classList.add("cSec_fv_img","js-gl-cc","js-gl-mdl"),w.style.opacity=0,l.appendChild(w),n.a.to(h,.3,{opacity:.2,ease:"none",onComplete:()=>{e()}})})),s.add((e=>{P.bW.setTransitionCarriersToJournalFromFooterBanner(),r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),n.a.set(l,{position:""}),P.scroll.stop({}),P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({barIsHidden:!1}),e()})),s.add((e=>{h&&o.add(t,l),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{if(g.set(l),n.a.set(l.querySelector(".cSec_fv_img"),{opacity:0}),n.a.to(l,{opacity:1,delay:1.35,ease:"none"}),P.scroll.secs.forEach((e=>{e.isInView&&n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),1.5,{x:-.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5,delay:1.35})})),!window.isMobileLayout){const e=l.querySelector(".jsSide");e&&n.a.fromTo(e,{x:-.05*window.innerWidth},{x:0,ease:"expo.out",duration:1.5,delay:1.35})}g.in(1.75,1.35),P.bW.transitionOutCarriersToJournalFromFooterBanner(l).then((()=>{o.use("prev").clearGl(),e()})),o.use("prev").viewDidDisappear()}))})),s.add((e=>{o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),e()})),s.done((()=>{P.bW.transitionInCarriersToJournalFromFooterBanner(),o.pop(),w.parentNode.removeChild(w),n.a.to(l,.2,{opacity:1}),P.scroll.reinit({barIsHidden:!1}),a(p)}))):(s.add((e=>{P.scrollHelper.stop(),P.scroll.secs.forEach((e=>{e.isInView&&n.a.to(e.$sec.querySelector(".jsS_sec_in"),1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})})),P.bW.transitionOutDefault(u).then((()=>{e()}))})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),e()})),s.add((e=>{h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{e()}))})),s.add((e=>{o.use("prev").clearGl(),o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),o.use("current").setGl(),o.pop(),g.set(l),g.in(1.2,.675),be.in(1.5,0,l),P.bW.transitionInDefault(c).then((()=>{e()}))})),s.done((()=>{a(p)})))}}}).run,"journal --\x3e journal-single":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,l=document.querySelector("#"+e),u=i.querySelector("#"+t),c=l.getAttribute("id"),d=u.getAttribute("id"),m=document.querySelector("#appCnts"),p="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";const v=l.querySelector(".pJn_sec_head"),g=l.querySelector(".pJn_side_li"),w=l.querySelector(".pJn_sec_pager"),f=l.querySelector("#f"),M=l.querySelectorAll(".pJn_sec_li_i"),y=new xe,S=new se,x=new Ce;x.init(u),x.options.forEach((e=>{S.add(x.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{S.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),S.set(),S.run()})),s.add((e=>{m.appendChild(u),l.parentNode.removeChild(l),r.classList.remove("home","sub"),r.classList.add(p),l&&(o.add(t,u),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),y.set(u),o.use("prev").clearGl(),o.use("current").setGl(),o.pop(),P.bW.common.transitionFromMenu(),u.style.opacity="",y.in(1.2,.475),be.in(1.5,0,u),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{r.classList.remove(`page-${c}`),r.classList.add(`page-${d}`),P.scrollHelper.restart(),a(null)}))):(s.add((e=>{P.scrollHelper.stop(),n.a.set(u,{opacity:0}),o.use("current").$transitionCurrentItem?M.forEach((e=>{e===o.use("current").$transitionCurrentItem?(n.a.to(e,.6,{opacity:0,delay:.1,ease:"none"}),n.a.to(e,.6,{x:.0175*-window.innerWidth,delay:.1,ease:"cubic.in"})):e.classList.contains("is-view")&&n.a.to(e,.5,{opacity:0,ease:h.getCubicCurve(.225,.0525,0,1)})})):n.a.to(M,.6,{opacity:0,delay:.1,ease:"none"}),n.a.to([v,g,w,f],.5,{opacity:0,ease:h.getCubicCurve(.225,.0525,0,1),onComplete:()=>{pe.wait(200).then(e)}})})),s.add((e=>{S.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),S.set(),S.run()})),s.add((e=>{r.classList.remove(`page-${c}`),r.classList.add(`page-${d}`),m.appendChild(u),l.parentNode.removeChild(l),r.classList.remove("home","sub"),r.classList.add(p),e()})),s.add((e=>{l&&(o.add(t,u),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{if(o.use("prev").clearGl(),o.use("current").runTransitionAnimation(),o.use("current").setGl(),o.pop(),y.set(u),y.in(1.2,0),P.scroll.secs.forEach((e=>{e.isInView&&n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),{x:Math.max(.025*window.innerWidth,40)},{x:0,ease:"expo.out",duration:1.5,delay:0})})),!window.isMobileLayout){const e=u.querySelector(".jsSide");e&&n.a.fromTo(e,{x:Math.max(.025*window.innerWidth,40)},{x:0,ease:"expo.out",duration:1.5,delay:0})}n.a.to(u,1,{opacity:1}),pe.wait(1e3).then(e)})),s.done((()=>{a(null)})))}}}).run,"journal-single --\x3e journal":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";const p=new xe,v=new se,g=new Ce;g.init(l),g.options.forEach((e=>{v.add(g.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{v.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),v.set(),v.run()})),s.add((e=>{d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),p.set(l),o.use("prev").clearGl(),o.use("current").setGl(),o.pop(),P.bW.common.transitionFromMenu(),l.style.opacity="",p.in(1.2,.475),be.in(1.5,0,l),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),P.scrollHelper.restart(),a(null)}))):(s.add((e=>{if(P.scrollHelper.stop(),n.a.set(l,{opacity:0}),P.scroll.secs.forEach((e=>{e.isInView&&n.a.to(e.$sec.querySelector(".jsS_sec_in"),.4,{opacity:0,ease:"none"})})),!window.isMobileLayout){const e=h.querySelector(".jsSide");e&&n.a.to(e,.4,{opacity:0,ease:"none"})}pe.wait(400).then(e)})),s.add((e=>{v.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),v.set(),v.run()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),e()})),s.add((e=>{h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{if(o.use("prev").clearGl(),o.use("current").runTransitionAnimation(),o.use("current").setGl(),o.pop(),p.set(l),p.in(1.2,0),P.scroll.secs.forEach((e=>{e.isInView&&n.a.fromTo(e.$sec.querySelector(".jsS_sec_in"),{x:Math.max(.025*window.innerWidth,40)},{x:0,ease:"expo.out",duration:1.5,delay:0})})),!window.isMobileLayout){const e=l.querySelector(".jsSide");e&&n.a.fromTo(e,{x:Math.max(.025*window.innerWidth,40)},{x:0,ease:"expo.out",duration:1.5,delay:0})}n.a.to(l,1,{opacity:1}),pe.wait(1e3).then(e)})),s.done((()=>{a(null)})))}}}).run,"* --\x3e *":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#appCnts"),l=document.querySelector("#"+e),u=i.querySelector("#"+t),c=l.getAttribute("id"),d=u.getAttribute("id"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";const p=new xe,v=new se,g=new Ce;g.init(u),g.options.forEach((e=>{v.add(g.load.bind(this,e,(()=>{const t=e.$target;e.imageType,t.appendChild(e.image)})),"imagesLoader")})),P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{v.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),v.set(),v.run()})),s.add((e=>{h.appendChild(u),l.parentNode.removeChild(l),r.classList.remove("home","sub"),r.classList.add(m),l&&(o.add(t,u),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{P.mNS.stop(),p.set(u),o.use("prev").clearGl(),o.use("current").setGl(),o.pop(),P.bW.common.transitionFromMenu(),u.style.opacity="",p.in(1.2,.475),be.in(1.5,0,u),P.menuC.pageTransitionOut().then(e)})),s.done((()=>{r.classList.remove(`page-${c}`),r.classList.add(`page-${d}`),P.scrollHelper.restart(),a(null)}))):(s.add((e=>{if(P.scrollHelper.stop(),P.scroll.secs.forEach((e=>{e.isInView&&n.a.to(e.$sec.querySelector(".jsS_sec_in"),1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})})),!window.isMobileLayout){const e=l.querySelector(".jsSide");e&&n.a.to(e,1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})}P.bW.transitionOutDefault(c).then((()=>{e()}))})),s.add((e=>{v.init({onUpdateProgressAnim:(e,t)=>{1===e&&t()},onCompleteProgressAnim:()=>{e()}}),v.set(),v.run()})),s.add((e=>{r.classList.remove(`page-${c}`),r.classList.add(`page-${d}`),h.appendChild(u),l.parentNode.removeChild(l),r.classList.remove("home","sub"),r.classList.add(m),e()})),s.add((e=>{l&&(o.add(t,u),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then(e)})),s.add((e=>{o.use("prev").clearGl(),o.use("current").runTransitionAnimation(),o.use("current").setGl(),o.pop(),p.set(u);const t="about"===d||"carriers"===d?.785:.675;p.in(1.2,t),be.in(1.5,0,u),P.bW.transitionInDefault(d).then((()=>{e()}))})),s.done((()=>{a(null)})))}}}).run,"* --\x3e home":(new class{run(e,t,i,s,o,a){return function(){const s=new pe,r=document.body,h=document.querySelector("#"+e),l=i.querySelector("#"+t),u=h.getAttribute("id"),c=l.getAttribute("id"),d=document.querySelector("#appCnts"),m="home"!==e&&"home"===t||"home"===e&&"home"===t?"home":"sub";P.menuC.isOpend?(s.add((e=>{P.scrollHelper.stop(),e()})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),e()})),s.add((e=>{h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("prev").clearGl(),o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{pe.wait(450).then(e)}))})),s.add((e=>{let t;switch(o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),o.pop(),P.mNS.stop(),P.mNS.reset(),u){case"contact":t=3;break;case"journal":case"journal-single":t=2;break;case"carriers":t=1;break;default:t=0}P.mNS.setNumber(t-5,0),Promise.all([P.mNS.startNumber(t,1.8),P.bW.common.transitionInMenuToHome(),P.menuC.pageTransitionOut()]).then(e)})),s.add((e=>{P.scrollHelper.reset(),P.mNS.restart(),P.scrollHelper.restart(),e()})),s.done((()=>{a(null)}))):(s.add((e=>{P.scrollHelper.stop(),P.scroll.secs.forEach((e=>{e.isInView&&n.a.to(e.$sec.querySelector(".jsS_sec_in"),1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})})),P.bW.transitionOutToHome(u).then((()=>{e()}));const t=h.querySelector(".jsSide");t&&n.a.to(t,1.5,{x:-1*Math.max(.075*window.innerWidth,75),ease:"cubic.inOut"})})),s.add((e=>{r.classList.remove(`page-${u}`),r.classList.add(`page-${c}`),d.appendChild(l),h.parentNode.removeChild(h),r.classList.remove("home","sub"),r.classList.add(m),e()})),s.add((e=>{h&&(o.add(t,l),o.use("prev").viewDidDisappear()),e()})),s.add((e=>{o.use("prev").clearGl(),o.use("current").viewDidLoad({isStartup:!1}),o.use("current").viewWillAppear({isStartup:!1}).then((()=>{e()}))})),s.add((e=>{let t;switch(o.use("current").setTransitionAnimation(),o.use("current").runTransitionAnimation(),o.pop(),P.mNS.stop(),P.mNS.reset(),u){case"contact":t=3;break;case"journal":case"journal-single":t=2;break;case"carriers":t=1;break;default:t=0}P.mNS.setNumber(t-5,0),Promise.all([P.mNS.startNumber(t,1.75),P.bW.transitionInToHome()]).then(e)})),s.add((e=>{P.scrollHelper.reset(),P.mNS.restart(),P.scrollHelper.restart(),e()})),s.done((()=>{a(null)})))}}}).run};class ze{static out(){document.querySelectorAll(".mH_li_a").forEach((e=>{e.classList.remove("is-current")})),n.a.set(".mH_li_a",{pointerEvents:"all"})}static in(e){let t=null;switch(e){case"about":if(t=document.querySelector(".mH_li_a[href='/about/'] "),!t)return;t.classList.add("is-current"),n.a.set(t,{pointerEvents:"none"});break;case"carriers":if(t=document.querySelector(".mH_li_a[href='/carriers/'] "),!t)return;t.classList.add("is-current"),n.a.set(t,{pointerEvents:"none"});break;case"journal":if(t=document.querySelector(".mH_li_a[href='/journal/'] "),!t)return;t.classList.add("is-current"),n.a.set(t,{pointerEvents:"none"});break;case"journal-single":if(t=document.querySelector(".mH_li_a[href='/journal/'] "),!t)return;t.classList.add("is-current");break;case"contact":if(t=document.querySelector(".mH_li_a[href='/contact/'] "),!t)return;t.classList.add("is-current"),n.a.set(t,{pointerEvents:"none"})}}}class _e{constructor(e){this.__default={target:".jsSplit",slit:"",addClass:"",parse:!0,template:(e,t,i)=>`<span class="jsSplit_blk jsClone${/[\t\s]/g.test(t)?" -blank ":""}">\n                          <span class="jsSplit_in jsClone_item">${t}</span>\n                        </span>`,templateStatic:(e,t,i)=>`<span class="jsSplit_blk${/[\t\s]/g.test(t)?" -blank ":""}">\n                          <span class="jsSplit_in">${t}</span>\n                        </span>`},this.isDom=!1,this.tag="",this._options=this.__default,this.$targetsAll=null}init(e=document){this.$targetsAll=e.querySelectorAll(this._options.target);let t=[];if(this.$targetsAll.length)return[].forEach.call(this.$targetsAll,(e=>{let i=this._unEscapeHTML(e.innerHTML).split(this._options.slit),s=[];/[\t\s]/g.test(i[i.length-1])&&i.pop(),e.innerHTML="",i.forEach(((t,o)=>{this._checkString(t),void 0===e.dataset.splitClone?this.isDom||0!==this.tag.length?this.isDom||e.appendChild(this._htmlToNode(this.tag)[0]):this._options.parse?e.appendChild(this._htmlToNode(this._options.templateStatic(o,t,i.length))[0]):s.push(this._options.templateStatic(o,t,i.length)):this.isDom||0!==this.tag.length?this.isDom||e.appendChild(this._htmlToNode(this.tag)[0]):this._options.parse?e.appendChild(this._htmlToNode(this._options.template(o,t,i.length))[0]):s.push(this._options.template(o,t,i.length))})),t.push(s)})),t}_checkString(e){"<"===e?(this.isDom=!0,this.tag+=e):">"===e?(this.tag+=e,this.isDom=!1):this.isDom?this.tag+=e:this.tag=""}_htmlToNode(e){if(!e||"string"!=typeof e)return;let t=document.createElement("div");return t.innerHTML=e,t.childNodes}_unEscapeHTML(e){return e.replace(/(&lt;)/g,"<").replace(/(&gt;)/g,">").replace(/(&quot;)/g,'"').replace(/(&#39;)/g,"'").replace(/(&amp;)/g,"&")}}class Re{constructor(e){this.content=e,this.id=this.content.getAttribute("id"),this.$n=document.querySelector("#n"),OTHER&&(this.pageHover=new ne),this.stringSplit=new _e,this.elementClone=new oe,this.elementClone.init(this.content)}async viewDidLoad({isStartup:e=!1}){await new Promise((t=>{this.$n.classList.add("no-click"),this.stringSplit.init(this.content),ze.in(this.id),e&&P.scroll.reset(),OTHER&&Se.add(P.mouseMove.moveHandler,(e=>{P.scroll.onMouseMove(e)}),"scrollManager"),t()}))}async viewWillAppear({isStartup:e=!0}){await new Promise((e=>{OTHER&&this.pageHover.init(this.content),e()}))}viewDidAppear(){window.isPageTransitionig=!1,window.pageInited||(window.pageInited=!0)}viewWillDisappear(){window.isPageTransitionig=!0,ze.out(),P.scroll.stop({}),P.scrollHelper.stop(),OTHER&&Se.remove(P.mouseMove.moveHandler,"scrollManager")}viewDidDisappear(){P.scrollHelper.restart(),P.scrollHelper.stop(),OTHER&&this.pageHover.destroy()}async startupLoadedAnimation(e){let t=.75,i=1.6;"home"===e&&(t=1.2,i=1.95),window.isMobileLayout?requestAnimationFrame((()=>{n.a.fromTo(document.querySelectorAll(".jsH_t")[0],{y:"100%",skewY:6,rotate:.01,transformOrigin:"left"},{duration:i,y:"0%",skewY:0,delay:t+.1,ease:"expo.out",stagger:.11}),n.a.fromTo(".mH_btn-menu_bar_in",{scaleX:0},{scaleX:1,duration:i,ease:"expo.out",delay:t,stagger:.11})})):requestAnimationFrame((()=>{n.a.fromTo(".jsH_t",{y:"100%",skewY:6,rotate:.01,transformOrigin:"left"},{duration:i,y:"0%",skewY:0,delay:t,ease:"expo.out",stagger:.11})})),requestAnimationFrame((()=>{"home"===e?(n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress2,1.65,{value:2.5,ease:h.getCubicCurve(.55,.02,.275,1),delay:.025,onComplete:()=>{requestAnimationFrame((()=>{P.bW.common.startupCoverMesh.mesh.geometry.dispose(),P.bW.common.startupCoverMesh.mesh.material.dispose(),P.bW.stage.scene.remove(P.bW.common.startupCoverMesh.mesh),P.bW.common.startupCoverMesh=null,document.querySelector("#l").parentNode.removeChild(document.querySelector("#l"))}))}}),n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress2Curve,1.65,{value:0,ease:h.getCubicCurve(.55,.02,.275,1),delay:.025}),P.mNS.startNumber(0,1.65)):(n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress2,1.3,{value:1,ease:h.getCubicCurve(.55,.02,.275,1),delay:.025,onComplete:()=>{requestAnimationFrame((()=>{P.bW.common.startupCoverMesh.mesh.geometry.dispose(),P.bW.common.startupCoverMesh.mesh.material.dispose(),P.bW.stage.scene.remove(P.bW.common.startupCoverMesh.mesh),P.bW.common.startupCoverMesh=null,document.querySelector("#l").parentNode.removeChild(document.querySelector("#l"))}))}}),n.a.to(P.bW.common.startupCoverMesh.uniforms.uProgress2Curve,1.3,{value:0,ease:h.getCubicCurve(.55,.02,.275,1),delay:.025}),P.mNS.startNumber(0,0))}))}setTransitionAnimation(){}async runTransitionAnimation(){await new Promise((e=>{e()}))}setGl(){}clearGl(){}}class Ee{constructor(){this.$target=null,this.info={event:null,start:{x:0,y:0},move:{x:0,y:0},end:{x:0,y:0},distance:{x:0,y:0},distanceOffset:function(){return{x:Math.abs(this.distance.x),y:Math.abs(this.distance.y)}},now:{move:{x:0,y:0}},prev:{now:{move:{x:0,y:0}}}},this.canTouch=this.checkCanTouch(),this.canStart=!0,this.canMove=!0,this.canEnd=!0,this.hadnler={touchStart:[],touchMove:[],touchEnd:[],update:[]}}init(e){this.$target=e||document,this.canTouch&&this.setEventListener()}setEventListener(){this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onTouchEnd=this.onTouchEnd.bind(this),this.$target.addEventListener("touchstart",this._onTouchStart,{passive:!1}),this.$target.addEventListener("touchmove",this._onTouchMove,{passive:!1}),this.$target.addEventListener("touchend",this._onTouchEnd,{passive:!1})}onTouchStart(e){this.canStart&&(this.info.start=this.getInfo(e),this.info.move=this.getInfo(e),this.info.now.move=this.getInfo(e),this.hadnler.touchStart.forEach((t=>{t.task(e,this.info)})))}onTouchMove(e){this.canMove&&(this.info.move=this.getInfo(e),this.hadnler.touchMove.forEach((t=>{t.task(e,this.info)})))}onTouchEnd(e){this.canStart&&(this.info.end=this.getInfo(e),this.hadnler.touchEnd.forEach((t=>{t.task(e,this.info)})))}onUpdate(){this.info.now.move.x=c.lerp(this.info.now.move.x,this.info.move.x,.1),this.info.now.move.y=c.lerp(this.info.now.move.y,this.info.move.y,.1),this.info.prev.now.move.x=c.lerp(this.info.prev.now.move.x,this.info.move.x-this.info.now.move.x,.1),this.info.prev.now.move.y=c.lerp(this.info.prev.now.move.y,this.info.move.y-this.info.now.move.y,.1),this.info.prev.now.move.x=c.clamp(this.info.prev.now.move.x,-60,60),this.info.prev.now.move.y=c.clamp(this.info.prev.now.move.y,-60,60),this.hadnler.update.forEach((e=>{e.task(this.info)}))}getInfo(e){let t={x:0,y:0};e.target.getBoundingClientRect();if(e.targetTouches&&e.targetTouches[0]){let i;e.touches?(i=e.targetTouches[0],t.x=i.clientX,t.y=i.clientY):(t.x=e.clientX,t.y=e.clientY)}else t.x=e.clientX||0,t.y=e.clientY||0;return t}clearEventListener(){this.$target.removeEventListener("touchstart",this._onTouchStart,!1),this.$target.removeEventListener("touchmove",this._onTouchMove,!1),this.$target.removeEventListener("touchend",this._onTouchEnd,!1)}checkCanTouch(){return"ontouchstart"in window}destroy(){this.clearEventListener()}static setPosition(e,t){return e.changedTouches&&e.changedTouches.length&&e.changedTouches[0]?(t.x=e.changedTouches[0].clientX,t.y=e.changedTouches[0].clientY):(t.x=e.clientX,t.y=e.clientY),t}}class Le{constructor(e){this.gl=e.gl,this.scrollManager=e.scrollManager,this.scrollHelper=e.scrollHelper,this.bodyAnimatingClass="is-slide-animating",this.containerName=".pAb_os_cnt",this.sliderName=".pAb_os_li",this.slideItemName=".pAb_os_li_i",this.pagerBtnName=".pAb_os_pager_btn",this.counterName=".pAb_os_pagination",this.btnNextName=".pAb_os_controller_btn.-n",this.btnPrevName=".pAb_os_controller_btn.-p",this.cursorName="#cursor",this.counterListName=".pAb_os_pagination_molecule_li",this.counterItemName=".pAb_os_pagination_molecule",this.$html=document.documentElement,this.$container=null,this.$slider=null,this.$slideItemAll=null,this.$pagerBtnAll=null,this.$counterList=null,this.$btnNext=null,this.$btnPrev=null,this.$cursor=null,this.onClickPagerBtn=null,this.onClickBtnNext=null,this.onClickBtnBtnPrev=null,this.onMouseEnterBtnNext=null,this.onMouseEnterBtnPrev=null,this.onMouseLeaveBtnNext=null,this.onMouseLeaveBtnPrev=null,this.progress=0,this.currentNumber=0,this.translateRatio=window.isMobileLayout?10:20,this.animationg=!1,this.slideDirection=!1,this.draggingClassName="is-drag",this.canMouseDown=!0,this.canMouseUp=!1,this.canMouseMove=!1,this.isMoving=!1,this.isScrolling=!1,this.isAnimating=!1,this.isDraginggContainer=!1,this.mousePosition={down:{x:0,y:0},up:{x:0,y:0},diff:{x:0,y:0}},this.touches={startX:0,startY:0,currentX:0,currentY:0,diffX:0,diffY:0},this.useDnd=!OTHER,this.useDnd&&(this.dnd=new Ee),this.init()}init(){this._setSelector(),this.$container&&(this._setEventListener(),this.useDnd&&this._setDnd())}_setSelector(){this.$cursor=document.querySelector(this.cursorName),this.$container=this.$html.querySelector(this.containerName),this.$container&&(this.$slider=this.$container.querySelector(this.sliderName),this.$slideItemAll=this.$slider.querySelectorAll(this.slideItemName),this.$pagerBtnAll=this.$container.querySelectorAll(this.pagerBtnName),this.$counterList=this.$container.querySelector(this.counterListName),this.$btnNext=this.$container.querySelector(this.btnNextName),this.$btnPrev=this.$container.querySelector(this.btnPrevName),this.$btnPrev.style.pointerEvents="none",this.$btnPrev.style.userSelect="none")}_setEventListener(){this.onClickPagerBtn=this._onClickPagerBtn.bind(this),this.$pagerBtnAll.forEach((e=>{e.addEventListener("click",this.onClickPagerBtn,!1)})),this.onClickBtnNext=this._onClickBtnNext.bind(this),this.$btnNext.addEventListener("click",this.onClickBtnNext,!1),this.onMouseEnterBtnNext=this._onMouseEnterBtnNext.bind(this),this.$btnNext.addEventListener("mouseenter",this.onMouseEnterBtnNext,!1),this.onMouseLeaveBtnNext=this._onMouseLeaveBtnNext.bind(this),this.$btnNext.addEventListener("mouseleave",this.onMouseLeaveBtnNext,!1),this.onClickBtnPrev=this._onClickBtnPrev.bind(this),this.$btnPrev.addEventListener("click",this.onClickBtnPrev,!1),this.onMouseEnterBtnPrev=this._onMouseEnterBtnPrev.bind(this),this.$btnPrev.addEventListener("mouseenter",this.onMouseEnterBtnPrev,!1),this.onMouseLeaveBtnPrev=this._onMouseLeaveBtnPrev.bind(this),this.$btnPrev.addEventListener("mouseleave",this.onMouseLeaveBtnPrev,!1)}_clearEventListener(){this.$pagerBtnAll.forEach((e=>{e.removeEventListener("click",this.onClickPagerBtn)})),this.$btnNext.removeEventListener("click",this.onClickBtnNext),this.$btnNext.removeEventListener("mouseenter",this.onMouseEnterBtnNext),this.$btnNext.removeEventListener("mouseleave",this.onMouseLeaveBtnNext),this.$btnPrev.removeEventListener("click",this.onClickBtnPrev),this.$btnPrev.removeEventListener("mouseenter",this.onMouseEnterBtnPrev),this.$btnPrev.removeEventListener("mouseleave",this.onMouseLeaveBtnPrev),this.onMouseLeaveBtnPrev(),this.onMouseLeaveBtnNext()}_onClickPagerBtn(e){if(this.animationg)return;const t=e.currentTarget;if(!t)return;const i=parseInt(t.getAttribute("aria-label"))-1||0;this.to(i)}_onClickBtnNext(){this.animationg||this.currentNumber>=this.$slideItemAll.length-1||this.to(this.currentNumber+1)}_onClickBtnPrev(){this.animationg||this.currentNumber<=0||this.to(this.currentNumber-1)}_onMouseEnterBtnNext(){this.$cursor.classList.add("is-next-enter")}_onMouseLeaveBtnNext(){this.$cursor.classList.remove("is-next-enter")}_onMouseEnterBtnPrev(){this.$cursor.classList.add("is-prev-enter")}_onMouseLeaveBtnPrev(){this.$cursor.classList.remove("is-prev-enter")}async to(e){this._checkDirection(e),this.start(),this._setActiveClassBtn(e),this._setStyleOutSlideChange(),n.a.to(this.$counterList,1.2,{x:e/-3*100+"%",ease:"quart.inOut"}),this.slideDirection>0?(await this.gl.about.sliderCoverMesh[0].in(),this.setStyleSlideChange(e),this._setStyleInSlideChange(e),await this.gl.about.sliderCoverMesh[0].out(),this.finished(),this.currentNumber=e):(await this.gl.about.sliderCoverMesh[0].in2(),this.setStyleSlideChange(e),this._setStyleInSlideChange(e),await this.gl.about.sliderCoverMesh[0].out2(),this.finished(),this.currentNumber=e),this.currentNumber<=0?(this.$btnPrev.style.pointerEvents="none",this.$btnPrev.style.userSelect="none"):(this.$btnPrev.style.pointerEvents="",this.$btnPrev.style.userSelect=""),this.currentNumber>=this.$slideItemAll.length-1?(this.$btnNext.style.pointerEvents="none",this.$btnNext.style.userSelect="none"):(this.$btnNext.style.pointerEvents="",this.$btnNext.style.userSelect="")}_setStyleOutSlideChange(){const e=this.slideDirection>0?-this.translateRatio:this.translateRatio;n.a.fromTo(this.$slideItemAll[this.currentNumber],{x:0},{duration:.75,x:e,ease:"cubic.inOut",onComplete:()=>{this.$slideItemAll[this.currentNumber].style.transform=""}})}_setStyleInSlideChange(e){const t=this.slideDirection>0?2.5*this.translateRatio:2.5*-this.translateRatio;n.a.fromTo(this.$slideItemAll[e],{x:t},{duration:1,x:0,ease:"cubic.out",onComplete:()=>{this.$slideItemAll[e].style.transform=""}})}_setActiveClassBtn(e){this.$pagerBtnAll.forEach(((t,i)=>{i===e?t.classList.add("is-active"):t.classList.remove("is-active")}))}setStyleSlideChange(e){this.$slideItemAll.forEach(((t,i)=>{i===e?(t.style.opacity=1,t.style.pointerEvents="all",t.style.userSelect=""):(t.style.opacity=0,t.style.pointerEvents="none",t.style.userSelect="none")}))}start(){this.animationg=!0,this.$html.classList.add(this.bodyAnimatingClass),this.scrollManager.stop({}),this.scrollHelper.stop()}finished(){this.animationg=!1,this.$html.classList.remove(this.bodyAnimatingClass),this.scrollManager.restart(),this.scrollHelper.restart()}_checkDirection(e){this.slideDirection=this.currentNumber<e?1:-1}_setDnd(){this.dnd.init(this.$container),Se.add(this.dnd.hadnler.touchStart,((e,t)=>{this.onTouchStart(e)}),"touchStart"),Se.add(this.dnd.hadnler.touchMove,((e,t)=>{this.onTouchMove(e,t)}),"touchMove"),Se.add(this.dnd.hadnler.touchEnd,((e,t)=>{this.onTouchEnd(e,t)}),"touchEnd"),Se.add(P.raf.handler,(()=>{this.dnd.onUpdate()}),"aboutSliderDndUpdate")}onTouchStart(e){if(e.targetTouches&&e.targetTouches[0]){let t;e.touches?(t=e.targetTouches[0],this.touches.startX=t.pageX,this.touches.startY=t.pageY):(this.touches.startX=e.pageX,this.touches.startY=e.pageY)}else this.touches.startX=e.pageX||0,this.touches.startY=e.pageY||0;this.canMouseDown&&(this.mousePosition.down=Ee.setPosition(e,this.mousePosition.down),this.canMouseUp=!0,this.canMouseMove=!0)}onTouchMove(e,t){if(this.canMouseMove){if(e){if(this.touches.diffX=t.move.x-t.start.x,this.touches.diffY=t.move.y-t.start.y,this.isMoving)return void(this.isScrolling&&!this.isAnimating||(e.cancelable&&e.preventDefault(),this.dnd.canMove=!0));if(this.isMoving=!0,this.touches.diffX*this.touches.diffX+this.touches.diffY*this.touches.diffY>=25){c.radToDeg(Math.atan2(Math.abs(this.touches.diffY),Math.abs(this.touches.diffX)))<=60?(P.scroll.stop({}),e.cancelable&&e.preventDefault(),this.isScrolling=!1,this.dnd.canMove=!0):(this.isScrolling=!0,this.dnd.canMove=!1)}}this.isDraginggContainer=!0}}async onTouchEnd(e){this.canMouseUp&&(P.scroll.restart({}),this.canMouseMove=!1,this.canMouseUp=!1,this.isMoving=!1,this.dnd.canMove=!0,this.isDraginggContainer=!1,document.body.classList.remove(this.draggingClassName),this.mousePosition.up=Ee.setPosition(e,this.mousePosition.up),this.mousePosition.diff.x=this.mousePosition.up.x-this.mousePosition.down.x,this.mousePosition.diff.y=this.mousePosition.up.y-this.mousePosition.down.y,this.isAnimating=!0,this.isScrolling||(this.mousePosition.diff.x>0?this._onClickBtnPrev():this._onClickBtnNext()))}_clearDnd(){this.dnd.destroy(),Se.remove(this.dnd.hadnler.touchStart,"touchStart"),Se.remove(this.dnd.hadnler.touchMove,"touchMove"),Se.remove(this.dnd.hadnler.touchEnd,"touchEnd"),Se.remove(P.raf.handler,"aboutSliderDndUpdate")}destroy(){this._clearEventListener(),this.useDnd&&this._clearDnd()}}class De extends Re{constructor(e){super(e),window.isMobileLayout&&this._setSideMobileLayout(),this._setArticleBlankLink(),this.$transitionCurrentItem=null}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),e?P.bW.startupJournal():(P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({})),this._setClick()}async viewWillAppear({isStartup:e=!0}){await super.viewWillAppear({isStartup:e}),this._setArticleImgLoaded()}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart()}viewWillDisappear(){super.viewWillDisappear()}viewDidDisappear(){super.viewDidDisappear()}async runTransitionAnimation(e,t=!0){}setGl(){P.bW.setJournal()}_setArticleBlankLink(){const e=this.content.querySelector(".pJn_sec_article");if(!e)return;const t=e.querySelectorAll("a");t&&t.length&&t.forEach((e=>{"_blank"===e.getAttribute("target")&&!e.classList.contains("pJn_side_share_li_txt")&&e.classList.add("-blank")}))}_setArticleImgLoaded(){const e=this.content.querySelector(".pJn_sec_article");if(!e)return;e.querySelectorAll("img").forEach((e=>{const t=e.getAttribute("src");t&&(e.setAttribute("src",""),e.onload=()=>{P.scroll.reinit({})},e.setAttribute("src",t))}))}_setSideMobileLayout(){const e=this.content.querySelector(".jsSide"),t=e.cloneNode(!0),i=this.content.querySelector(".pJn_sec_body"),s=this.content.querySelector(".pJn_sec_article");i&&i.prependChild(t),s&&s.appendChild(t),t.classList.add("-clone"),e.parentNode.removeChild(e)}_setClick(){this.content.querySelectorAll(".pJn_sec_li_article").forEach((e=>{e.addEventListener("click",(t=>{this.$transitionCurrentItem=e.closest(".pJn_sec_li_i"),e.classList.add("is-transition-current")}))}))}}class $e{constructor(e){this.$content=null,this.$requiredItemAll=null,this.formRequiredItemOptions=[],this.$form=null}init(e=document){this.$content=e,this.setElements(),this.check(),this._check=this.check.bind(this,null),window.addEventListener("keyup",this._check),this.formRequiredItemOptions.forEach((e=>{e.$el.addEventListener("change",(()=>{this.check(e.$el)})),e.$el.addEventListener("focus",(()=>{this.check(null)})),e.$el.addEventListener("focusout",(()=>{this.check(e.$el)}))}))}setElements(){this.$form=this.$content.querySelector("form"),this.$requiredItemAll=this.$content.querySelectorAll(".pCn_sec_li_desc.-required"),this.$requiredItemAll.forEach(((e,t)=>{const i=e.querySelector("input"),s=e.querySelector("select"),o=e.querySelector("textarea");i?this.formRequiredItemOptions[t]={$parent:e,$el:i,isChecked:!1,type:"input"}:s?this.formRequiredItemOptions[t]={$parent:e,$el:s,isChecked:!1,type:"select"}:o&&(this.formRequiredItemOptions[t]={$parent:e,$el:o,isChecked:!1,type:"textarea"}),this.formRequiredItemOptions[t]&&this.formRequiredItemOptions[t].$el&&this.formRequiredItemOptions[t].$el.setAttribute("required",!0)}))}check(e){if(!this.$form)return;let t=!0;if(this.formRequiredItemOptions.forEach(((e,i)=>{e.$el.value||(t=!1)})),t?this.$form.classList.remove("is-disable"):this.$form.classList.add("is-disable"),e){const t=e.closest(".pCn_sec_li_i");t&&t.classList&&(""!==e.value?t.classList.remove("is-disable"):t.classList.add("is-disable"))}}destroy(){window.removeEventListener("keyup",this._check)}}var Ne={default:Re,home:class extends Re{constructor(e){super(e)}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),e?P.bW.startupHome():(P.mNS.progress=0,P.mNS.progressEase=0,P.mNS._update(),P.scroll.init({barIsHidden:!0}))}async viewWillAppear({isStartup:e=!0}){await super.viewWillAppear({isStartup:e}),this.$n.classList.remove("no-click")}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart(),n.a.set(".mNav_btn",{pointerEvents:"all"}),n.a.fromTo(".mNav_btn_in",{scale:0},{scale:1,ease:"quint.out",duration:.725,delay:.15}),n.a.fromTo(".mNav_btn",{rotation:-120},{rotation:0,ease:"quint.out",duration:.725,delay:.15})}viewWillDisappear(){super.viewWillDisappear(),n.a.set(".mNav_btn",{pointerEvents:"none"}),n.a.to(".mNav_btn_in",.725,{scale:0,ease:"quint.out",delay:.3}),n.a.to(".mNav_btn",.725,{rotation:120,ease:"quint.out",delay:.3})}viewDidDisappear(){super.viewDidDisappear()}async runTransitionAnimation(e,t=!0){}},about:class extends Re{constructor(e){super(e),this.aboutSlider=null,this.$footerBanner=null,this.isClickedFooterBanner=!1}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),e?P.bW.viewDidLoadStartupAbout():(P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({})),P.bW.run("about"),this.aboutSlider=new Le({scrollManager:P.scroll,scrollHelper:P.scrollHelper,gl:P.bW})}async viewWillAppear({isStartup:e=!0}){await super.viewWillAppear({isStartup:e}),this._setMouseEventFooterBanner(),e&&P.bW.viewWillAppearStartupAbout()}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart(),this._setCursorMove()}viewWillDisappear(){this._clearMouseEventFooterBanner(),super.viewWillDisappear(),this._clearCursorMove(),this.aboutSlider.destroy()}viewDidDisappear(){super.viewDidDisappear()}async runTransitionAnimation(e,t=!0){}_setCursorMove(){const e=document.querySelector("#cursor");Se.add(P.mouseMove.updateHandler,(t=>{e.style.transform=`translate3d(${t.now.x}px,${t.now.y}px,0)`}),"cursor")}_clearCursorMove(){Se.remove(P.mouseMove.updateHandler,"cursor")}_setMouseEventFooterBanner(){this.$footerBanner=this.content.querySelector(".mF_head"),this._onClickFooterBanner=()=>{this.isClickedFooterBanner=!0},this.$footerBanner.addEventListener("click",this._onClickFooterBanner,!1),OTHER&&(this._onMouseEnterFooterBanner=()=>{window.isPageTransitioning||P.bW.onMouseEnterFooterBanner("about")},this._onMouseLeaveFooterBanner=()=>{window.isPageTransitioning||P.bW.onMouseLeaveFooterBanner("about")},this.$footerBanner.addEventListener("mouseenter",this._onMouseEnterFooterBanner,!1),this.$footerBanner.addEventListener("mouseleave",this._onMouseLeaveFooterBanner,!1))}_clearMouseEventFooterBanner(){this.$footerBanner.removeEventListener("click",this._onClickFooterBanner),OTHER&&(this.$footerBanner.removeEventListener("mouseenter",this._onMouseEnterFooterBanner),this.$footerBanner.removeEventListener("mouseleave",this._onMouseLeaveFooterBanner))}setGl(){P.bW.setAbout()}clearGl(e=!1){P.bW.clearMeshPage("about",!1,e)}},carriers:class extends Re{constructor(e){super(e),this.isClickedFooterBanner=!1}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),e?P.bW.viewDidLoadStartupCarriers():(P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({})),P.bW.run("carriers")}async viewWillAppear({isStartup:e=!0}){await super.viewWillAppear({isStartup:e}),this._setMouseEventFooterBanner(),e&&P.bW.viewWillAppearStartupCarriers()}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart()}viewWillDisappear(){this._clearMouseEventFooterBanner(),super.viewWillDisappear()}viewDidDisappear(){super.viewDidDisappear()}async runTransitionAnimation(e,t=!0){}_setMouseEventFooterBanner(){this.$footerBanner=this.content.querySelector(".mF_head"),this._onClickFooterBanner=()=>{this.isClickedFooterBanner=!0},this.$footerBanner.addEventListener("click",this._onClickFooterBanner,!1),OTHER&&(this._onMouseEnterFooterBanner=()=>{window.isPageTransitioning||P.bW.onMouseEnterFooterBanner("carriers")},this._onMouseLeaveFooterBanner=()=>{window.isPageTransitioning||P.bW.onMouseLeaveFooterBanner("carriers")},this.$footerBanner.addEventListener("mouseenter",this._onMouseEnterFooterBanner,!1),this.$footerBanner.addEventListener("mouseleave",this._onMouseLeaveFooterBanner,!1))}_clearMouseEventFooterBanner(){this.$footerBanner.removeEventListener("click",this._onClickFooterBanner),OTHER&&(this.$footerBanner.removeEventListener("mouseenter",this._onMouseEnterFooterBanner),this.$footerBanner.removeEventListener("mouseleave",this._onMouseLeaveFooterBanner))}setGl(){P.bW.setCarriers()}clearGl(){P.bW.clearMeshPage("carriers")}},journal:De,"journal-single":De,contact:class extends Re{constructor(e){super(e),this.formChecker=new $e,this.formChecker.init(this.content)}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),e?P.bW.startupContact():(P.scroll.reset(),P.scroll.init({barIsHidden:!1}),P.scroll.reinit({}))}async viewWillAppear({isStartup:e=!0}){this.setInputFile(),await super.viewWillAppear({isStartup:e})}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart()}viewWillDisappear(){super.viewWillDisappear(),this.formChecker.destroy()}viewDidDisappear(){super.viewDidDisappear()}async runTransitionAnimation(e,t=!0){}setGl(){P.bW.setContact()}setInputFile(){if(this.content.getElementsByClassName("mw_wp_form_input").length){this.content.querySelector(".pCn_side_li_i-input").classList.add("-active")}const e=this.content.getElementsByClassName("mw_wp_form_confirm");if(e.length){this.content.querySelector(".pCn_side_li_i-confirm").classList.add("-active")}const t=this.content.querySelector(".jsInput_file");if(!t)return;const i=t.querySelector("input"),s=t.querySelector(".pCn_sec_li_desc_file_output"),o=t.querySelector(".pCn_sec_li_desc_file_label_in");if(i.addEventListener("change",(()=>{const e=i.value,t=e.replace(/\\/g,"/").lastIndexOf("/"),o=-1!==t?e.substring(t+1):e;s.innerHTML=o})),e.length){const e=i.value,t=e.replace(/\\/g,"/").lastIndexOf("/"),s=-1!==t?e.substring(t+1):e;o.innerHTML=s}}},"not-found":class extends Re{constructor(e){super(e),this.$html=document.documentElement,this.aspectBorderLine=1.6,this._setTextSize()}async viewDidLoad({isStartup:e=!1}){await super.viewDidLoad({isStartup:e}),document.querySelector(".mH_logo").setAttribute("rel","external"),document.querySelector(".mH_menu").style.display="none",n.a.to(".st-logo0",.25,{fill:"#fff"}),e&&P.bW.startupNotFound(),P.bW.run("not-found"),Se.add(P.resize.handler,(()=>{this._setTextSize()}),"notFoundSetTextSize")}async viewWillAppear({isStartup:e=!0}){await super.viewWillAppear({isStartup:e})}viewDidAppear(){super.viewDidAppear(),P.scrollHelper.restart()}viewWillDisappear(){super.viewWillDisappear(),Se.remove(P.resize.handler,"notFoundSetTextSize")}viewDidDisappear(){super.viewDidDisappear(),n.a.to(".st-logo0",.25,{fill:"#1735cc"})}async runTransitionAnimation(e,t=!0){}setGl(){P.bW.setNotFound()}_setTextSize(){const e=window.innerWidth,t=window.innerHeight;let i={ttlMain:0,ttlSub:0,back:0};e/t>this.aspectBorderLine?(i.ttlMain=346*t/1e3,i.ttlSub=72*t/1e3,i.back=27*t/1e3):(i.ttlMain=346*e/1600,i.ttlSub=72*e/1600,i.back=27*e/1600),this.$html.style.setProperty("--nf-ttl-main-font-size",`${i.ttlMain}px`),this.$html.style.setProperty("--nf-ttl-sub-font-size",`${i.ttlSub}px`),this.$html.style.setProperty("--nf-back-font-size",`${i.back}px`)}}};window.breakPoint=768,window.isMobileLayout=window.innerWidth<=window.breakPoint,window.isStartAnimating=!0,window.P={},new class{constructor(){this.$cover=null,this.init()}init(){this.setCover(),this.setEvents(),this.run()}setCover(){this.$cover=document.createElement("div"),this.$cover.setAttribute("id","app-cvr"),this.$cover.setAttribute("aria-hidden","true"),this.$cover.style.pointerEvents="none",document.getElementById("app").appendChild(this.$cover)}setEvents(){P.screenFix=new o,P.resize=new l,P.raf=new u,P.mouseMove=new d,P.scrollHelper=new y,P.windowState=new S,P.scroll=new w({})}run(){P.screenFix.fix(),P.resize.init(),P.raf.init(),P.mouseMove.init({canUsingSwipe:!0}),P.scrollHelper.init(),P.scrollHelper.stop(),P.windowState.init()}},new class{constructor(){if(P.colorChange=new le,P.colorChange.init(),P.mNS=new ie,P.startupLoaderProgress=new se,P.bW=new te({$canvas:document.getElementById("gl"),scrollManager:P.scroll,scrollHelper:P.scrollHelper,mouseMove:P.mouseMove,mainNavSlider:P.mNS,startupLoaderProgress:P.startupLoaderProgress}),OTHER&&(P.headerElementClone=new oe,P.headerHover=new ne),P.menuC=new ae,P.bW.init(),OTHER){const e=document.getElementById("h");P.headerElementClone.init(e),P.headerHover.init(e)}P.menuC.init()}},window.APP=new class extends we{constructor(e,t,i){super(e,t,i),this.controllerManager=new fe(t,e,i)}_pageExit(e,t){if(!this.hashChange&&(""===e.hash||0!==e.hash.length))return window.isPageTransitioning=!0,document.documentElement.classList.add("is-wait"),this._prev=e,this.pageInitialized?!0===e.cancelExit?t():void t():t()}_showPage(e,t){let i=we._purseHTML(e),s=e.match(/<title>(.*)<\/title>/),o=document.querySelector(".jsTrans").getAttribute("id"),n=i.querySelector(".jsTrans").getAttribute("id");return new Promise((e=>{s=i.querySelector("title").textContent?i.querySelector("title").textContent:document.querySelector("title").textContent,this._apply(o,n,i,t).then((()=>{window.isPageTransitioning=!1,document.documentElement.classList.remove("is-wait"),document.querySelector("title").textContent=s,this.controllerManager.use("current").viewDidAppear(),e()}))}))}}(Ae,Ne,!0),APP.sendAnalytics=e=>{gtag("config","UA-89307404-1",{page_path:e})},APP.boot()},5:function(e,t,i){!function(e){"use strict";function t(e){return Math.round(1e5*e)/1e5||0}var i=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,s=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,o=Math.PI/180,n=Math.sin,a=Math.cos,r=Math.abs,h=Math.sqrt;function l(e,t,i,s,l,u,c,d,m){if(e!==d||t!==m){i=r(i),s=r(s);var p=l%360*o,v=a(p),g=n(p),w=Math.PI,f=2*w,M=(e-d)/2,y=(t-m)/2,S=v*M+g*y,x=-g*M+v*y,C=S*S,b=x*x,P=C/(i*i)+b/(s*s);1<P&&(i=h(P)*i,s=h(P)*s);var T=i*i,A=s*s,z=(T*A-T*b-A*C)/(T*b+A*C);z<0&&(z=0);var _=(u===c?-1:1)*h(z),R=i*x/s*_,E=-s*S/i*_,L=v*R-g*E+(e+d)/2,D=g*R+v*E+(t+m)/2,$=(S-R)/i,N=(x-E)/s,F=(-S-R)/i,O=(-x-E)/s,H=$*$+N*N,k=(N<0?-1:1)*Math.acos($/h(H)),I=($*O-N*F<0?-1:1)*Math.acos(($*F+N*O)/h(H*(F*F+O*O)));isNaN(I)&&(I=w),!c&&0<I?I-=f:c&&I<0&&(I+=f),k%=f,I%=f;var B,W=Math.ceil(r(I)/(f/4)),U=[],q=I/W,G=4/3*n(q/2)/(1+a(q/2)),j=v*i,Y=g*i,V=g*-s,X=v*s;for(B=0;B<W;B++)S=a(l=k+B*q),x=n(l),$=a(l+=q),N=n(l),U.push(S-G*x,x+G*S,$+G*N,N-G*$,$,N);for(B=0;B<U.length;B+=2)S=U[B],x=U[B+1],U[B]=S*j+x*V+L,U[B+1]=S*Y+x*X+D;return U[B-2]=d,U[B-1]=m,U}}function u(e){function t(e,t,i,s){v=(i-e)/3,g=(s-t)/3,d.push(e+v,t+g,i-v,s-g,i,s)}var o,n,a,h,u,c,d,m,p,v,g,w,f,M,y,S=(e+"").replace(s,(function(e){var t=+e;return t<1e-4&&-1e-4<t?0:t})).match(i)||[],x=[],C=0,b=0,P=S.length,T=0,A="ERROR: malformed path: "+e;if(!e||!isNaN(S[0])||isNaN(S[1]))return console.log(A),x;for(o=0;o<P;o++)if(f=u,isNaN(S[o])?c=(u=S[o].toUpperCase())!==S[o]:o--,a=+S[o+1],h=+S[o+2],c&&(a+=C,h+=b),o||(m=a,p=h),"M"===u)d&&(d.length<8?--x.length:T+=d.length),C=m=a,b=p=h,d=[a,h],x.push(d),o+=2,u="L";else if("C"===u)c||(C=b=0),(d=d||[0,0]).push(a,h,C+1*S[o+3],b+1*S[o+4],C+=1*S[o+5],b+=1*S[o+6]),o+=6;else if("S"===u)v=C,g=b,"C"!==f&&"S"!==f||(v+=C-d[d.length-4],g+=b-d[d.length-3]),c||(C=b=0),d.push(v,g,a,h,C+=1*S[o+3],b+=1*S[o+4]),o+=4;else if("Q"===u)v=C+2/3*(a-C),g=b+2/3*(h-b),c||(C=b=0),C+=1*S[o+3],b+=1*S[o+4],d.push(v,g,C+2/3*(a-C),b+2/3*(h-b),C,b),o+=4;else if("T"===u)v=C-d[d.length-4],g=b-d[d.length-3],d.push(C+v,b+g,a+2/3*(C+1.5*v-a),h+2/3*(b+1.5*g-h),C=a,b=h),o+=2;else if("H"===u)t(C,b,C=a,b),o+=1;else if("V"===u)t(C,b,C,b=a+(c?b-C:0)),o+=1;else if("L"===u||"Z"===u)"Z"===u&&(a=m,h=p,d.closed=!0),("L"===u||.5<r(C-a)||.5<r(b-h))&&(t(C,b,a,h),"L"===u&&(o+=2)),C=a,b=h;else if("A"===u){if(M=S[o+4],y=S[o+5],v=S[o+6],g=S[o+7],n=7,1<M.length&&(M.length<3?(g=v,v=y,n--):(g=y,v=M.substr(2),n-=2),y=M.charAt(1),M=M.charAt(0)),w=l(C,b,+S[o+1],+S[o+2],+S[o+3],+M,+y,(c?C:0)+1*v,(c?b:0)+1*g),o+=n,w)for(n=0;n<w.length;n++)d.push(w[n]);C=d[d.length-2],b=d[d.length-1]}else console.log(A);return(o=d.length)<6?(x.pop(),o=0):d[0]===d[o-2]&&d[1]===d[o-1]&&(d.closed=!0),x.totalPoints=T+o,x}function c(){return v||"undefined"!=typeof window&&(v=window.gsap)&&v.registerPlugin&&v}function d(){(v=c())?(v.registerEase("_CE",y.create),g=1):console.warn("Please gsap.registerPlugin(CustomEase)")}function m(e){return~~(1e3*e+(e<0?-.5:.5))/1e3}function p(e,t,i,s,o,n,a,r,h,l,u){var c,d=(e+i)/2,m=(t+s)/2,v=(i+o)/2,g=(s+n)/2,w=(o+a)/2,f=(n+r)/2,M=(d+v)/2,y=(m+g)/2,S=(v+w)/2,x=(g+f)/2,C=(M+S)/2,b=(y+x)/2,P=a-e,T=r-t,A=Math.abs((i-a)*T-(s-r)*P),z=Math.abs((o-a)*T-(n-r)*P);return l||(l=[{x:e,y:t},{x:a,y:r}],u=1),l.splice(u||l.length-1,0,{x:C,y:b}),h*(P*P+T*T)<(A+z)*(A+z)&&(c=l.length,p(e,t,d,m,M,y,C,b,h,l,u),p(C,b,S,x,w,f,a,r,h,l,u+1+(l.length-c))),l}var v,g,w,f=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,M=/[cLlsSaAhHvVtTqQ]/g,y=((w=S.prototype).setData=function(e,t){t=t||{};var i,s,o,n,a,r,h,l,c,d=(e=e||"0,0,1,1").match(f),m=1,g=[],w=[],y=t.precision||1,S=y<=1;if(this.data=e,(M.test(e)||~e.indexOf("M")&&e.indexOf("C")<0)&&(d=u(e)[0]),4===(i=d.length))d.unshift(0,0),d.push(1,1),i=8;else if((i-2)%6)throw"Invalid CustomEase";for(0==+d[0]&&1==+d[i-2]||function(e,t,i){i||0===i||(i=Math.max(+e[e.length-1],+e[1]));var s,o=-1*e[0],n=-i,a=e.length,r=1/(+e[a-2]+o),h=-t||(Math.abs(e[a-1]-e[1])<.01*(e[a-2]-e[0])?function(e){var t,i=e.length,s=1e20;for(t=1;t<i;t+=6)+e[t]<s&&(s=+e[t]);return s}(e)+n:+e[a-1]+n);for(h=h?1/h:-r,s=0;s<a;s+=2)e[s]=(+e[s]+o)*r,e[s+1]=(+e[s+1]+n)*h}(d,t.height,t.originY),this.segment=d,n=2;n<i;n+=6)s={x:+d[n-2],y:+d[n-1]},o={x:+d[n+4],y:+d[n+5]},g.push(s,o),p(s.x,s.y,+d[n],+d[n+1],+d[n+2],+d[n+3],o.x,o.y,1/(2e5*y),g,g.length-1);for(i=g.length,n=0;n<i;n++)h=g[n],l=g[n-1]||h,h.x>l.x||l.y!==h.y&&l.x===h.x||h===l?(l.cx=h.x-l.x,l.cy=h.y-l.y,l.n=h,l.nx=h.x,S&&1<n&&2<Math.abs(l.cy/l.cx-g[n-2].cy/g[n-2].cx)&&(S=0),l.cx<m&&(l.cx?m=l.cx:(l.cx=.001,n===i-1&&(l.x-=.001,m=Math.min(m,.001),S=0)))):(g.splice(n--,1),i--);if(a=1/(i=1/m+1|0),h=g[r=0],S){for(n=0;n<i;n++)c=n*a,h.nx<c&&(h=g[++r]),s=h.y+(c-h.x)/h.cx*h.cy,w[n]={x:c,cx:a,y:s,cy:0,nx:9},n&&(w[n-1].cy=s-w[n-1].y);w[i-1].cy=g[g.length-1].y-s}else{for(n=0;n<i;n++)h.nx<n*a&&(h=g[++r]),w[n]=h;r<g.length-1&&(w[n-1]=g[g.length-2])}return this.ease=function(e){var t=w[e*i|0]||w[i-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},(this.ease.custom=this).id&&v.registerEase(this.id,this.ease),this},w.getSVGData=function(e){return S.getSVGData(this,e)},S.create=function(e,t,i){return new S(e,t,i).ease},S.register=function(e){v=e,d()},S.get=function(e){return v.parseEase(e)},S.getSVGData=function(e,i){var s,o,n,a,r,h,l,u,c,d,p=(i=i||{}).width||100,g=i.height||100,w=i.x||0,f=(i.y||0)+g,M=v.utils.toArray(i.path)[0];if(i.invert&&(g=-g,f=0),"string"==typeof e&&(e=v.parseEase(e)),e.custom&&(e=e.custom),e instanceof S)s=function(e){!function(e){return"number"==typeof e}(e[0])||(e=[e]);var i,s,o,n,a="",r=e.length;for(s=0;s<r;s++){for(a+="M"+t((n=e[s])[0])+","+t(n[1])+" C",i=n.length,o=2;o<i;o++)a+=t(n[o++])+","+t(n[o++])+" "+t(n[o++])+","+t(n[o++])+" "+t(n[o++])+","+t(n[o])+" ";n.closed&&(a+="z")}return a}(function(e,t,i,s,o,n,a){for(var r,h,l,u,c,d=e.length;-1<--d;)for(h=(r=e[d]).length,l=0;l<h;l+=2)u=r[l],c=r[l+1],r[l]=u*t+c*s+n,r[l+1]=u*i+c*o+a;return e._dirty=1,e}([e.segment],p,0,0,-g,w,f));else{for(s=[w,f],a=1/(l=Math.max(5,200*(i.precision||1))),u=5/(l+=2),c=m(w+a*p),o=((d=m(f+e(a)*-g))-f)/(c-w),n=2;n<l;n++)r=m(w+n*a*p),h=m(f+e(n*a)*-g),(Math.abs((h-d)/(r-c)-o)>u||n===l-1)&&(s.push(c,d),o=(h-d)/(r-c)),c=r,d=h;s="M"+s.join(",")}return M&&M.setAttribute("d",s),s},S);function S(e,t,i){g||d(),this.id=e,this.setData(t,i)}c()&&v.registerPlugin(y),y.version="3.3.4",e.CustomEase=y,e.default=y,"undefined"==typeof window||window!==e?Object.defineProperty(e,"__esModule",{value:!0}):delete e.bgSingle}(t)},6:function(e,t,i){e.exports=function(){"use strict";function e(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var s in i)e[s]=i[s]}return e}var t={read:function(e){return e.replace(/%3B/g,";")},write:function(e){return e.replace(/;/g,"%3B")}};function i(s,o){function n(i,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({},o,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),i=t.write(i).replace(/=/g,"%3D"),n=s.write(String(n),i);var r="";for(var h in a)a[h]&&(r+="; "+h,!0!==a[h]&&(r+="="+a[h].split(";")[0]));return document.cookie=i+"="+n+r}}function a(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],o={},n=0;n<i.length;n++){var a=i[n].split("="),r=a.slice(1).join("="),h=t.read(a[0]).replace(/%3D/g,"=");if(o[h]=s.read(r,h),e===h)break}return e?o[e]:o}}return Object.create({set:n,get:a,remove:function(t,i){n(t,"",e({},i,{expires:-1}))},withAttributes:function(t){return i(this.converter,e({},this.attributes,t))},withConverter:function(t){return i(e({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(s)}})}return i(t,{path:"/"})}()}});
